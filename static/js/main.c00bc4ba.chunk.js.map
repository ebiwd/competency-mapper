{"version":3,"sources":["shared/components/progress-bar/progress-bar.jsx","app/containers/navigation/Navigation.jsx","app/containers/login-form/LoginForm.jsx","app/containers/masthead/Masthead.jsx","shared/components/edit-inline/EditInline.tsx","app/containers/simple-form/SimpleForm.tsx","app/components/error-loading/ErrorLoading.tsx","app/services/http/headers.js","app/services/http/http.js","app/services/competency/body.js","app/services/competency/competency.js","app/services/active-requests/active-requests.js","app/services/util/util.js","app/containers/ManageAttributes.jsx","app/containers/ManageCompetencies.jsx","app/services/courses/courses.js","app/containers/CompetencyDetails.jsx","app/components/competency-list/CompetencyList.jsx","app/components/domain-list/DomainList.jsx","app/containers/courses/Courses.jsx","app/containers/CompetencyList.jsx","app/containers/ResourceEdit.jsx","app/containers/ResourceCreate.jsx","app/containers/AttributeMap.jsx","app/containers/ResourceDetails.jsx","app/containers/ResourcesList.jsx","app/containers/ChangePassword.jsx","app/components/about/About.js","app/components/framework-button/FrameworkButton.jsx","app/components/framework-buttons/FrameworkButtons.jsx","app/containers/Frameworks.jsx","app/services/auth/auth.js","app/containers/Root.jsx","index.jsx","shared/components/progress-bar/progress-bar.module.css"],"names":["ProgressBar","_ref","isActive","react_default","a","createElement","Fragment","className","concat","styles","progress","role","meter","defaultProps","$","window","Navigation","navRef","React","createRef","logout","onLogout","_this","props","this","current","foundation","_this$props","roles","user","frameworkResources","tabIndex","react_router_dom","to","trainingResources","userDropdown","onClick","ref","data-dropdown-menu","data-description","includes","Component","LoginForm","state","username","password","onChange","event","setState","Object","defineProperty","currentTarget","name","value","submit","onSubmit","_this$state","_this2","_this$state2","type","autoComplete","placeholder","aria-hidden","Masthead","onLogin","data-sticky-container","id","data-sticky","data-sticky-on","data-top-anchor","data-btm-anchor","navigation_Navigation","login_form_LoginForm","progress_bar","defaultState","oriValue","active","EditInline","selfRef","inputRef","toggleActive","contains","target","reset","change","render","style","staticElement","aria-label","key","text","document","addEventListener","removeEventListener","prevProps","prevState","setTimeout","focus","newValue","uuid","SimpleForm","preventDefault","onCreate","trim","options","length","title","selectOptions","map","description","required","ErrorLoading","message","HeadersService","classCallCheck","instance","Accept","Content-Type","X-CSRF-Token","localStorage","getItem","Authorization","HttpService","headers","Headers","url","axios","get","body","post","withCredentials","patch","BodyService","domainId","domainUuid","_links","href","apiUrl","target_id","_embedded","self","lang","_links2","_embedded2","_ref2","attributeTypeId","attributeTypeUuid","competencyId","competencyUuid","mutate","_ref3","process","CompetencyService","http","framework","response","data","Body","createAttribute","createCompetency","mutateCompetency","attributeId","mutateAttribute","ActiveRequestsService","counter","callbacks","fn","push","index","forEach","safeFlat","array","Array","prototype","flat","reduce","acc","cur","toConsumableArray","tagsReg","RegExp","removeHtmlTags","htmlString","replaceBy","arguments","undefined","replace","ManageAttributes","activeRequests","competencyService","match","params","frameworkName","attributeTypes","domainName","cid","competencyName","competencyData","loadingError","_callee","regenerator_default","wrap","_context","prev","next","startRequest","find","attribute","fetchCompetency","t0","enqueueSnackbar","variant","finishRequest","finish","stop","scroll","fetchAllFrameworks","getAllFrameworks","allFrameworks","frameworkMatch","filter","item","toLowerCase","attribute_types","getFramework","frameworkData","competencyMatch","filterByCompetencyId","domainTitle","domains","domain","competencies","competency","nid","patchAttribute","isArchived","attributeType","parentIndex","attributes","EditInline_EditInline","editAttribute","toggleArchive","archived","_this3","getAttributeRows","error_loading_ErrorLoading","SimpleForm_SimpleForm","getAttributeList","withSnackbar","ManageCompetencies","competencyTypes","fetchFramework","refs","scrollIntoView","patchCompetency","archive","getCompetencyRows","_this4","editCompetency","bind","_this$state3","getCompetencyList","CoursesService","CompetencyDetails","coursesService","attributeDefs","resources","Promise","all","getAttributes","getResources","getCourses","resource","competency_profile","profile","objectSpread","competencyDetails","def","resourceBlock","CompetencyList","attributesGrouped","disable","groupBy","keys","Collapsible_default","trigger","triggerWhenOpen","DomainList","childIndex","components_competency_list_CompetencyList","Courses","possibleConstructorReturn","getPrototypeOf","call","courses","filteredCourses","onFilter","term","e","course","test","allCourses","filterCourses","filteredProfiles","modifiedCourse","filteredDomains","filteredCompetencies","domainList","domain_list_DomainList","esm","courses_Courses","ResourceEdit","csrf","updateFlag","path","location","pathname","split","dates","dates2","target_audience","learning_outcomes","keywords","organisers","trainers","evt","newContent","editor","getData","csrfURL","fetch","then","Response","findresponse2","fetchResource","json","findresponse","alert","history","console","log","checkUser","start_date","end_date","ResourceEdit_EditForm","EditForm","setRedirect","redirect","handleTitle","assertThisInitialized","handleDates","handleDates2","handleType","handleDesc","handleLocation","handleURL","handleTargetAudience","handleLearningOutcomes","handleKeywords","handleOrganisers","handleTrainers","_this5","_this6","context","router","method","cookies","JSON","stringify","field_dates","field_end_date","field_type","field_description","format","field_location","field_url","field_target_audience","field_learning_outcomes","field_keywords","field_organisers","field_trainers","handleSubmit","lib_default","content","events","activeClass","contextTypes","PropTypes","object","EditResources","react_router","exact","component","ResourceCreate","changeDescription","changeTargetAudience","changeLearningOutcomes","changeOrganisers","changeTrainers","token","credentials","CreateResources","AttributeMap","selectedFramework","resourceID","frameworkdetails","frameworkUUID","selectedAttributes","selectedCompetencies","resourceDetails","handleSelect","checkedAttributes","attributeIDs","i","payload","embedded_string","handleCloseModal","childItems","getElementsByName","checked","getAttribute","splice","indexOf","getElementById","is","lists","each","attr","fetchCompetencyList","fetchFrameworkDetails","findresponse1","nextProps","nextState","frameworkDetails","frameworkDefs","domainsOptions","attributeTypeOptions","ikey","attribute_type","data-id","ListOfCompetencies","did","defaultChecked","data-test","handleAllCheck","marginLeft","marginBottom","data-uuid","handleAttributeClick","ResourceDetails","frameworks","resourcePath","showModal","handleOpenModal","temp","fetchData","resourcesURL","findresponse3","display","margin","Resource","date","Parser","mappingBlock","overflow","react_modal_lib_default","isOpen","overlayClassName","contentLabel","text-align","toUpperCase","data-close","containers_AttributeMap","ResDetails","ResourcesList","filterType","archiveHandle","rid","status","archivedStatus","field_archived","toLocaleLowerCase","ListOfResources","substr","filterTypeHandle","Resources","ChangePassword","handlePasswordChange","old","new1","uid","new","resp","reload","About","FrameworkButton","slice","data-equalizer-watch","height","src","field_logo","alt","data-icon","FrameworkButtons","data-equalizer","framework_button_FrameworkButton","Frameworks","getAllFrameworksDetails","framework_buttons_FrameworkButtons","loginUrl","logoutUrl","login","_x","_x2","_login","apply","pass","sent","setItem","current_user","csrf_token","logout_token","abrupt","removeItem","Root","handleActiveRequests","hasPendingRequests","detectUserChangesFromOtherTabs","handleLogin","error","t1","handleLogout","foundationExtendEBI","subcription","build","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","masthead_Masthead","Root_ProtectedRoute","condition","Competencies","ProtectedRoute","objectWithoutProperties","assign","ReactDOM","basename","containers_Root","module","exports"],"mappings":"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","file":"static/js/main.c00bc4ba.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './progress-bar.module.css';\n\nfunction ProgressBar({ isActive }) {\n\n  return (\n      <React.Fragment>\n      { isActive &&\n    <div className={`warning progress ${styles.progress}`} role=\"progressbar\">\n      <div className={`progress-meter ${styles.meter}`}/>\n    </div>\n    }\n      </React.Fragment>\n  );\n}\n\nProgressBar.defaultProps = {\n  isActive: false\n};\n\nProgressBar.propTypes = {\n  isActive: PropTypes.bool\n};\n\nexport default ProgressBar;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst $ = window.$;\n\nclass Navigation extends Component {\n  navRef = React.createRef();\n\n  componentDidMount() {\n    $(this.navRef.current).foundation();\n  }\n\n  logout = () => {\n    const { onLogout } = this.props;\n    onLogout();\n  };\n\n  render() {\n    const { roles, user } = this.props;\n\n    const frameworkResources = (\n      <li>\n        <a // eslint-disable-line jsx-a11y/anchor-is-valid\n          tabIndex=\"0\"\n          className=\"dropdown-on-dark-background\"\n        >\n          Manage Competencies\n        </a>\n        <ul className=\"menu vertical\">\n          <li>\n            <Link to=\"/framework/bioexcel/manage/competencies\">BioExcel</Link>\n          </li>\n          <li>\n            <Link to=\"/framework/corbel/manage/competencies\">CORBEL</Link>\n          </li>\n          <li>\n            <Link to=\"/framework/iscb/manage/competencies\">ISCB</Link>\n          </li>\n          <li>\n            <Link to=\"/framework/ritrain/manage/competencies\">RITrain</Link>\n          </li>\n          <li>\n            <Link to=\"/framework/nhs/manage/competencies\">NHS</Link>\n          </li>\n        </ul>\n      </li>\n    );\n\n    const trainingResources = (\n      <li>\n        <Link to=\"/all-training-resources\">Manage Training Resources</Link>\n      </li>\n    );\n\n    const userDropdown = (\n      <li>\n        <a // eslint-disable-line jsx-a11y/anchor-is-valid\n          tabIndex=\"0\"\n          className=\"dropdown-on-light-background\"\n        >\n          <i className=\"fas fa-user\" /> Hi {user}\n        </a>\n        <ul className=\"menu vertical\">\n          <li>\n            <Link to={'/user/change/password'}>Change password</Link>\n          </li>\n          <li>\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\n              onClick={this.logout}\n            >\n              Logout\n            </a>\n          </li>\n        </ul>\n      </li>\n    );\n\n    return (\n      <nav ref={this.navRef}>\n        <ul\n          className=\"dropdown menu float-left\"\n          data-dropdown-menu\n          data-description=\"navigational\"\n        >\n          {roles.includes('framework_manager') && frameworkResources}\n          {roles.includes('content_manager') && trainingResources}\n        </ul>\n        <ul\n          className=\"dropdown menu float-right\"\n          data-dropdown-menu\n          data-description=\"user tasks\"\n        >\n          {userDropdown}\n        </ul>\n      </nav>\n    );\n  }\n}\n\nexport default Navigation;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass LoginForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired\n  };\n\n  state = {\n    username: '',\n    password: ''\n  };\n\n  onChange = event => {\n    this.setState({ [event.currentTarget.name]: event.currentTarget.value });\n  };\n\n  submit = () => {\n    const { onSubmit } = this.props;\n    const { username, password } = this.state;\n    if (username && password) {\n      onSubmit(username, password);\n    }\n  };\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <nav>\n        {/* The wrapping in an `ul.menu.float-left > li` is necessary for the sticky header to work */}\n        <ul className=\"menu float-left small-12\">\n          <li className=\"small-12 margin-bottom-large\">\n            <label className=\"columns small-4 medium-3 large-2 margin-top-large\">\n              <input\n                value={username}\n                name=\"username\"\n                onChange={event => this.onChange(event)}\n                type=\"text\"\n                autoComplete=\"username\"\n                placeholder=\"Username\"\n              />\n            </label>\n            <label className=\"columns small-4 medium-3 large-2 margin-top-large\">\n              <input\n                value={password}\n                name=\"password\"\n                onChange={event => this.onChange(event)}\n                type=\"password\"\n                autoComplete=\"current-password\"\n                placeholder=\"Password\"\n              />\n            </label>\n            <div className=\"columns small-4 medium-6 large-8 margin-top-large\">\n              <button\n                className=\"button\"\n                type=\"button\"\n                onClick={() => this.submit()}\n              >\n                <i className=\"fa fa-key\" aria-hidden=\"true\" /> Login\n              </button>\n            </div>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport ProgressBar from '../../../shared/components/progress-bar/progress-bar';\nimport Navigation from '../navigation/Navigation';\nimport LoginForm from '../login-form/LoginForm';\n\nclass Masthead extends Component {\n  static propTypes = {\n    user: PropTypes.string.isRequired,\n    roles: PropTypes.string.isRequired,\n    onLogin: PropTypes.func.isRequired,\n    onLogout: PropTypes.func.isRequired\n  };\n\n  onLogin = (username, password) => {\n    this.props.onLogin(username, password);\n  };\n\n  onLogout = () => {\n    this.props.onLogout();\n  };\n\n  render() {\n    const { roles, user, isActive } = this.props;\n\n    return (\n      <div data-sticky-container>\n        <header\n          id=\"masthead\"\n          className=\"masthead\"\n          data-sticky\n          data-sticky-on=\"large\"\n          data-top-anchor=\"main-content-area:top\"\n          data-btm-anchor=\"main-content-area:bottom\"\n        >\n          <div className=\"masthead-inner row\">\n            <div className=\"columns medium-12\" id=\"local-title\">\n              <h1>\n                <Link to=\"/\">Competency Mapper</Link>\n              </h1>\n            </div>\n            {user && roles ? (\n              <Navigation roles={roles} user={user} onLogout={this.onLogout} />\n            ) : (\n              <LoginForm onSubmit={this.onLogin} />\n            )}\n          </div>\n          <ProgressBar isActive={isActive} />\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Masthead;\n","import React, { Component } from 'react';\n\nimport './EditInline.css';\n\nconst defaultProps = {\n  style: {} as Record<string, string | number>,\n  text: '',\n  change: (newValue: string) => {},\n  staticElement: 'div'\n};\n\ntype Props = Partial<typeof defaultProps>;\n\nconst defaultState = {\n  oriValue: '',\n  value: '',\n  active: false\n};\n\ntype State = Readonly<typeof defaultState>;\n\nexport default class EditInline extends Component<Props, State> {\n  static defaultProps = defaultProps; // No idea why the props are marked as optional (see '!' in the code below)\n  readonly state: State = defaultState;\n  selfRef = React.createRef<HTMLDivElement>();\n  inputRef = React.createRef<HTMLInputElement>();\n\n  componentDidMount() {\n    const { text } = this.props;\n    this.setState({ value: text!, oriValue: text! });\n    document.addEventListener('mousedown', this.toggleActive);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.toggleActive);\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { active } = this.state;\n    if (active && !prevState.active) {\n      // Unable to focus on the input element.\n      // this.inputRef.current && this.inputRef.current.focus();\n\n      // Dirty: The only way I was able to focus on the input element.\n      setTimeout(\n        () => this.inputRef.current && this.inputRef.current.focus(),\n        0\n      );\n    }\n  }\n\n  toggleActive = (event: MouseEvent) => {\n    if (\n      this.selfRef.current &&\n      this.selfRef.current.contains(event.target as Node)\n    ) {\n      this.setState({ active: true });\n      return;\n    }\n    this.reset();\n  };\n\n  onChange(value: string) {\n    this.setState({ value });\n  }\n\n  reset = () => {\n    const { oriValue, active } = this.state;\n    if (active) {\n      this.setState({ active: false, value: oriValue });\n    }\n  };\n\n  submit = () => {\n    const { change } = this.props;\n    const { value } = this.state;\n    change!(value);\n    this.setState({ active: false, oriValue: value });\n  };\n\n  render = () => {\n    const { style, staticElement } = this.props;\n    const { value, active } = this.state;\n\n    if (!active) {\n      return React.createElement(staticElement!, { style, ref: this.selfRef }, [\n        value,\n        <i\n          key=\"dummy\"\n          className=\"icon icon-common icon-edit icon-left-spacer\"\n        />\n      ]);\n    }\n\n    return (\n      <div className=\"edit-inline-container\" ref={this.selfRef}>\n        <input\n          type=\"text\"\n          className=\"inner-input\"\n          value={value}\n          onChange={event => this.onChange(event.target.value)}\n          ref={this.inputRef}\n          // autoFocus={true} // It only works when it is rendered after mounting\n        />\n        <div className=\"edit-inline-controls\">\n          <button\n            className=\"button margin-bottom-none\"\n            type=\"button\"\n            onClick={this.submit}\n          >\n            <i\n              className=\"icon icon-common icon-check\"\n              aria-label=\"accept changes\"\n            />\n          </button>\n          <button\n            className=\"button margin-bottom-none\"\n            type=\"button\"\n            onClick={this.reset}\n          >\n            <i\n              className=\"icon icon-common icon-undo\"\n              aria-label=\"undo changes\"\n            />\n          </button>\n        </div>\n      </div>\n    );\n  };\n}\n","import React, { Component } from 'react';\n\ntype Props = {\n  title: string;\n  placeholder: string;\n  options: Record<'description' | 'uuid', string>[];\n  onCreate(newValue: string, uuid: string): any;\n};\n\nconst defaultState = {\n  value: '',\n  uuid: ''\n};\n\ntype State = Readonly<typeof defaultState>;\n\nexport default class SimpleForm extends Component<Props, State> {\n  readonly state = defaultState;\n\n  componentDidMount() {\n    const { options } = this.props;\n    if (options.length) {\n      const { uuid } = options[0];\n      this.setState({ uuid });\n    }\n  }\n\n  onChange = (event: React.FormEvent<HTMLInputElement | HTMLSelectElement>) => {\n    event.preventDefault();\n    const { value } = event.currentTarget;\n    const name = event.currentTarget.name;\n    // https://github.com/Microsoft/TypeScript/issues/13948\n    if (name === 'uuid') {\n      this.setState({ [name]: value });\n    }\n    if (name === 'value') {\n      this.setState({ [name]: value });\n    }\n  };\n\n  onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { onCreate } = this.props;\n    const { value, uuid } = this.state;\n    if (value.trim() && uuid) {\n      onCreate(value, uuid);\n    }\n  };\n\n  render() {\n    const { title, placeholder, options } = this.props;\n    const { value, uuid } = this.state;\n\n    const selectOptions = options.map(({ description, uuid }) => (\n      <option key={uuid} value={uuid}>\n        {description}\n      </option>\n    ));\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"callout\">\n        <h4>{title}</h4>\n        <div className=\"row\">\n          <div className=\"column large-7\">\n            <input\n              type=\"text\"\n              placeholder={placeholder}\n              name=\"value\"\n              value={value}\n              required\n              onChange={this.onChange}\n            />\n          </div>\n          <div className=\"column large-3\">\n            <select name=\"uuid\" value={uuid} required onChange={this.onChange}>\n              {selectOptions}\n            </select>\n          </div>\n          <div className=\"column large-2\">\n            <input type=\"submit\" className=\"button\" value=\"Create\" />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n","import React from 'react';\n\nconst defaultProps = {\n  message: 'Sorry, there was a problem when fetching the data!',\n  style: {} as Record<string, string | number>\n};\n\ntype Props = Partial<typeof defaultProps>;\n\nexport const ErrorLoading: React.FC<Props> = ({ message, style }) => {\n  return (\n    <div className=\"margin-top-large callout alert\" style={style}>\n      {message}\n    </div>\n  );\n};\n\nErrorLoading.defaultProps = defaultProps;\n\nexport default ErrorLoading;\n","class HeadersService {\n  static instance;\n\n  constructor() {\n    if (HeadersService.instance) {\n      return this.instance;\n    }\n\n    HeadersService.instance = this;\n  }\n\n  get() {\n    const csfrToken = window.localStorage.getItem('csrf_token');\n    return {\n      Accept: 'application/hal+json',\n      'Content-Type': 'application/hal+json',\n      'X-CSRF-Token': csfrToken,\n      Authorization: 'Basic'\n    };\n  }\n}\n\nexport default HeadersService;\n","import Headers from './headers';\nimport axios from 'axios';\n\nclass HttpService {\n  static instance;\n  headers = new Headers();\n\n  constructor() {\n    if (HttpService.instance) {\n      return HttpService.instance;\n    }\n\n    HttpService.instance = this;\n  }\n\n  get(url) {\n    // return this.executeFetch(url);\n    return axios.get(url);\n  }\n\n  post(url, body) {\n    // return this.executeFetch(url, {\n    //   method: 'POST',\n    //   credentials: 'include',\n    //   headers: this.headers.get(),\n    //   body: body,\n    // });\n    return axios.post(url, body, {\n      headers: this.headers.get(),\n      withCredentials: true\n    });\n  }\n\n  patch(url, body) {\n    //return this.executeFetch(url, {\n    //  method: 'PATCH',\n    //  credentials: 'include',\n    //  headers: this.headers.get(),\n    //  body: body,\n    //});\n    return axios.patch(url, body, {\n      headers: this.headers.get(),\n      withCredentials: true\n    });\n  }\n\n  // async executeFetch(url, options = {}) {\n  //   try {\n  //     const response = await fetch(url, options);\n  //     if (!response.ok) {\n  //       return this.handleNotOkResponses(response);\n  //     }\n  //     return response;\n  //   } catch (error) {\n  //     return this.handleNetworkErrors(error);\n  //   }\n  // }\n\n  // handleNetworkErrors(error) {\n  //   this.inform('Network problem!');\n  //   return Promise.reject(error);\n  // }\n\n  // handleNotOkResponses(response) {\n  //   const is500Error = response.status >= 500 && response.status < 600;\n\n  //   if (is500Error) {\n  //     this.inform('Unknown server error!');\n  //   }\n\n  //   return Promise.reject(response);\n  // }\n\n  // inform(message) {\n  //   // TODO: inform error to the user through a toast service, for example.\n  //   // window.alert(message);\n  // }\n}\n\nexport default HttpService;\n","import { apiUrl } from './competency';\n\nclass BodyService {\n  static createCompetency({ description, domainId, domainUuid }) {\n    return {\n      _links: {\n        type: {\n          href: `${apiUrl}/rest/type/node/competency`\n        },\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: {\n          href: `${apiUrl}/node/${domainId}?_format=hal_json`\n        }\n      },\n      title: [\n        {\n          value: description\n        }\n      ],\n      type: [\n        {\n          target_id: 'competency'\n        }\n      ],\n\n      _embedded: {\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: [\n          {\n            _links: {\n              self: {\n                href: `${apiUrl}/node/${domainId}?_format=hal_json`\n              },\n              type: {\n                href: `${apiUrl}/rest/type/node/domain`\n              }\n            },\n            uuid: [\n              {\n                value: domainUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ]\n      }\n    };\n  }\n\n  static createAttribute({\n    description,\n    attributeTypeId,\n    attributeTypeUuid,\n    competencyId,\n    competencyUuid\n  }) {\n    return {\n      _links: {\n        type: {\n          href: `${apiUrl}/rest/type/node/attribute`\n        },\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: {\n          href: `${apiUrl}/node/${competencyId}?_format=hal_json`\n        },\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: {\n          href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\n        }\n      },\n      title: [\n        {\n          value: description\n        }\n      ],\n      type: [\n        {\n          target_id: 'attribute'\n        }\n      ],\n\n      _embedded: {\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: [\n          {\n            _links: {\n              self: {\n                href: `${apiUrl}/node/${competencyId}?_format=hal_json`\n              },\n              type: {\n                href: `${apiUrl}/rest/type/node/competency`\n              }\n            },\n            uuid: [\n              {\n                value: competencyUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ],\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: [\n          {\n            _links: {\n              self: {\n                href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\n              },\n              type: {\n                href: `${apiUrl}/rest/type/node/attribute_type`\n              }\n            },\n            uuid: [\n              {\n                value: attributeTypeUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ]\n      }\n    };\n  }\n\n  static mutateCompetency(key, value) {\n    return BodyService.mutate(key, value, 'competency');\n  }\n\n  static mutateAttribute(key, value) {\n    return BodyService.mutate(key, value, 'attribute');\n  }\n\n  static mutate(key, value, target) {\n    return {\n      _links: {\n        type: {\n          href: `${apiUrl}/rest/type/node/${target}`\n        }\n      },\n      [key]: [\n        {\n          value: value\n        }\n      ],\n      type: [\n        {\n          target_id: target\n        }\n      ]\n    };\n  }\n}\n\nexport default BodyService;\n","import HttpService from '../http/http';\nimport Body from './body';\n\nexport const apiUrl = process.env.REACT_APP_API_URL;\n\nclass CompetencyService {\n  static instance;\n  http = new HttpService();\n\n  constructor() {\n    if (CompetencyService.instance) {\n      return this.instance;\n    }\n\n    CompetencyService.instance = this;\n  }\n\n  async getFramework(framework) {\n    const response = await this.http.get(\n      `${apiUrl}/api/v1/framework/${framework}?_format=json`\n    );\n    return response.data;\n  }\n\n  async getAllFrameworks() {\n    const response = await this.http.get(\n      `${apiUrl}/api/v1/framework/?_format=json`\n    );\n    return response.data;\n  }\n\n  async getAllFrameworksDetails() {\n    const response = await this.http.get(`${apiUrl}/api/frameworks`);\n    return response.data;\n  }\n\n  async createAttribute(options) {\n    const response = await this.http.post(\n      `${apiUrl}/node?_format=hal_json`,\n      Body.createAttribute(options)\n    );\n\n    return response.data;\n  }\n\n  async createCompetency(options) {\n    const response = await this.http.post(\n      `${apiUrl}/node?_format=hal_json`,\n      Body.createCompetency(options)\n    );\n\n    return response.data;\n  }\n\n  async patchCompetency(competencyId, key, value) {\n    const response = await this.http.patch(\n      `${apiUrl}/node/${competencyId}?_format=hal_json`,\n      Body.mutateCompetency(key, value)\n    );\n\n    return response.data;\n  }\n\n  async patchAttribute(attributeId, key, value) {\n    const response = await this.http.patch(\n      `${apiUrl}/node/${attributeId}?_format=hal_json`,\n      Body.mutateAttribute(key, value)\n    );\n\n    return response.data;\n  }\n}\n\nexport default CompetencyService;\n","class ActiveRequestsService {\n  static instance;\n  counter = 0;\n  callbacks = [];\n\n  get isActive() {\n    return !!this.counter;\n  }\n\n  constructor() {\n    if (ActiveRequestsService.instance) {\n      return ActiveRequestsService.instance;\n    }\n\n    ActiveRequestsService.instance = this;\n  }\n\n  addEventListener(fn) {\n    return this.callbacks.push(fn);\n  }\n\n  removeEventListener(index) {\n    return delete this.callbacks[index - 1];\n  }\n\n  startRequest() {\n    if (this.counter === 0) {\n      this.callbacks.forEach(fn => fn && fn(true));\n    }\n    ++this.counter;\n  }\n\n  finishRequest() {\n    if (this.counter === 1) {\n      this.callbacks.forEach(fn => fn && fn(false));\n    }\n\n    if (this.counter > 0) {\n      --this.counter;\n    }\n  }\n}\n\nexport default ActiveRequestsService;\n","// In modern browser (es2018), instead of `reduce` it is possible to call `flat`\nexport const safeFlat = array =>\n  Array.prototype.flat\n    ? array.flat()\n    : array.reduce((acc, cur) => [...acc, ...cur], []);\n\nconst tagsReg = new RegExp('</?.+?/?>', 'g');\n\nexport const removeHtmlTags = (htmlString, replaceBy = '') =>\n  htmlString.replace(tagsReg, replaceBy);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\nimport SimpleForm from '../containers/simple-form/SimpleForm';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { safeFlat } from '../services/util/util';\n\nclass ManageAttributes extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  state = {\n    // framework level\n    framework: this.props.match.params.framework,\n    frameworkName: '',\n    attributeTypes: [], // defined at framework level\n\n    // domain level\n    domainId: '',\n    domainName: '',\n\n    // competency level\n    competencyId: this.props.match.params.cid,\n    competencyUuid: '',\n    competencyName: '',\n    competencyData: [],\n\n    loadingError: false\n  };\n\n  componentDidMount() {\n    window.scroll(0, 0);\n    this.fetchAllFrameworks();\n    this.fetchCompetency();\n  }\n\n  async fetchAllFrameworks() {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      const allFrameworks = await this.competencyService.getAllFrameworks();\n      const frameworkMatch = allFrameworks.filter(\n        item => item.name.toLowerCase() === framework\n      );\n\n      if (frameworkMatch.length) {\n        const attributeTypes = frameworkMatch[0].attribute_types.map(\n          attribute => ({ description: attribute.title, uuid: attribute.uuid })\n        );\n        this.setState({ attributeTypes });\n      }\n    } catch (error) {\n      this.setState({ loadingError: true });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async fetchCompetency() {\n    const { framework } = this.state;\n\n    try {\n      this.activeRequests.startRequest();\n      const frameworkData = await this.competencyService.getFramework(\n        framework\n      );\n      const competencyMatch = this.filterByCompetencyId(\n        frameworkData,\n        this.state.competencyId\n      );\n\n      if (competencyMatch.length) {\n        this.setState({\n          frameworkName: frameworkData[0].title,\n          domainName: competencyMatch[0].domainTitle,\n          domainId: competencyMatch[0].domainId,\n          competencyUuid: competencyMatch[0].uuid,\n          competencyName: competencyMatch[0].title,\n          competencyData: competencyMatch[0]\n        });\n      }\n    } catch (error) {\n      this.setState({ loadingError: true });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  filterByCompetencyId(data, id) {\n    return safeFlat(\n      data.map(item =>\n        safeFlat(\n          item.domains.map(domain =>\n            domain.competencies\n              .filter(competency => competency.id === id)\n              .map(competency => {\n                competency.domainTitle = domain.title;\n                competency.domainId = domain.nid;\n                return competency;\n              })\n          )\n        )\n      )\n    );\n  }\n\n  createAttribute = async (description, attributeTypeUuid) => {\n    const { competencyId, competencyUuid, attributeTypes } = this.state;\n\n    try {\n      this.activeRequests.startRequest();\n      const attributeTypeId = attributeTypes.find(\n        attribute => attribute.uuid === attributeTypeUuid\n      ).id;\n      await this.competencyService.createAttribute({\n        description,\n        competencyId,\n        competencyUuid,\n        attributeTypeId,\n        attributeTypeUuid\n      });\n\n      this.fetchCompetency();\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  async editAttribute(attributeId, title) {\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchAttribute(attributeId, 'title', title);\n      this.fetchCompetency();\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async toggleArchive(attributeId, isArchived) {\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchAttribute(\n        attributeId,\n        'field_archived',\n        isArchived === '1' ? false : true\n      );\n      this.fetchCompetency();\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  getAttributeRows(attributeType, parentIndex) {\n    const { competencyData } = this.state;\n\n    return competencyData.attributes\n      .filter(attribute => attribute.type === attributeType.description)\n      .map((attribute, index) => {\n        return (\n          <tr key={attribute.uuid}>\n            <td>{`${parentIndex}.${index + 1}`}</td>\n            <td>\n              <InlineEdit\n                text={attribute.title}\n                change={newValue => this.editAttribute(attribute.id, newValue)}\n              />\n            </td>\n            <td>\n              <button\n                className=\"cursor\"\n                onClick={() =>\n                  this.toggleArchive(attribute.id, attribute.archived)\n                }\n              >\n                {attribute.archived === '1' ? (\n                  <span className=\"fas fa-toggle-on\">\n                    <span>Archived</span>\n                  </span>\n                ) : (\n                  <span className=\"fas fa-toggle-off\" />\n                )}\n              </button>\n            </td>\n          </tr>\n        );\n      });\n  }\n\n  getAttributeList() {\n    const { attributeTypes } = this.state;\n    return attributeTypes.map((attributeType, index) => (\n      <React.Fragment key={attributeType.uuid}>\n        <tr className=\"secondary-background-important white-color\">\n          <td>{index + 1}</td>\n          <td>\n            <strong>\n              <em>{attributeType.description}</em>\n            </strong>\n          </td>\n          <td className=\"small-1\">Archive</td>\n        </tr>\n        {this.getAttributeRows(attributeType, index + 1)}\n      </React.Fragment>\n    ));\n  }\n\n  render() {\n    const {\n      framework,\n      frameworkName,\n      attributeTypes,\n      domainId,\n      domainName,\n      competencyName,\n      competencyData,\n      loadingError\n    } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    if (competencyData.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"row\">\n        <h2>Manage attributes</h2>\n        <h4>\n          <Link to={`/framework/${framework}/manage/competencies`}>\n            {frameworkName}\n          </Link>\n          {' / '}\n          <Link to={`/framework/${framework}/manage/competencies/${domainId}`}>\n            {domainName}\n          </Link>\n          {' / '}\n          {competencyName}\n        </h4>\n\n        <SimpleForm\n          title=\"Create new attribute\"\n          placeholder=\"Attribute description\"\n          options={attributeTypes}\n          onCreate={this.createAttribute}\n        />\n\n        <table>\n          <tbody>{this.getAttributeList()}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageAttributes);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\nimport SimpleForm from '../containers/simple-form/SimpleForm';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass ManageCompetencies extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  state = {\n    framework: '',\n    frameworkName: '',\n    frameworkData: [],\n    competencyTypes: [],\n    loadingError: false\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    const { framework } = props.match.params;\n    if (framework !== state.framework) {\n      return {\n        framework,\n        frameworkData: [],\n        loadingError: false\n      };\n    }\n\n    // No state update necessary\n    return null;\n  }\n\n  async componentDidMount() {\n    const { framework, domainId } = this.props.match.params;\n    await this.fetchFramework(framework);\n\n    if (domainId) {\n      setTimeout(() => {\n        const ref = this.refs[domainId];\n        if (ref) {\n          ref.scrollIntoView();\n        }\n      }, 100);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { framework, frameworkData, loadingError } = this.state;\n    if (framework !== prevState.framework) {\n      if (frameworkData.length === 0 && !loadingError) {\n        this.fetchFramework(framework);\n      }\n    }\n  }\n\n  async fetchFramework(framework) {\n    try {\n      this.activeRequests.startRequest();\n      const frameworkData = await this.competencyService.getFramework(\n        framework\n      );\n\n      if (frameworkData.length) {\n        const competencyTypes = frameworkData[0].domains.map(domain => ({\n          description: domain.title,\n          uuid: domain.uuid\n        }));\n        this.setState({\n          frameworkName: frameworkData[0].title,\n          frameworkData,\n          competencyTypes\n        });\n      }\n    } catch (e) {\n      this.setState({ loadingError: true });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  createCompetency = async (description, domainUuid) => {\n    const { framework, frameworkData } = this.state;\n\n    try {\n      this.activeRequests.startRequest();\n      const domainId = frameworkData[0].domains.find(\n        domain => domain.uuid === domainUuid\n      ).nid;\n      await this.competencyService.createCompetency({\n        description,\n        domainId,\n        domainUuid\n      });\n      this.fetchFramework(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  async editCompetency(cid, title) {\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(cid, 'title', title);\n      const { framework } = this.state;\n      this.fetchFramework(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async toggleArchive(cid, isArchived) {\n    try {\n      this.activeRequests.startRequest();\n      const archive = isArchived ? false : true;\n      await this.competencyService.patchCompetency(\n        cid,\n        'field_archived',\n        archive\n      );\n      const { framework } = this.state;\n      this.fetchFramework(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  getCompetencyList() {\n    const { frameworkData } = this.state;\n    return frameworkData[0].domains.map((domain, parentIndex) => (\n      <React.Fragment key={domain.nid}>\n        <tr\n          className=\"secondary-background-important white-color\"\n          ref={domain.nid}\n        >\n          <td>{parentIndex + 1}</td>\n          <td>\n            <h4>{domain.title}</h4>\n          </td>\n          <td className=\"small-1\">Archive</td>\n          <td>Manage attributes</td>\n        </tr>\n        {this.getCompetencyRows(domain.competencies, parentIndex)}\n      </React.Fragment>\n    ));\n  }\n\n  getCompetencyRows(competencies, parentIndex) {\n    const { framework } = this.state;\n    return competencies.map((competency, index) => (\n      <tr key={competency.id}>\n        <td>\n          {parentIndex + 1}.{index + 1}\n        </td>\n        <td>\n          <InlineEdit\n            text={competency.title}\n            change={newValue => this.editCompetency(competency.id, newValue)}\n          />\n        </td>\n        <td>\n          <button\n            className=\"cursor\"\n            onClick={this.toggleArchive.bind(\n              this,\n              competency.id,\n              competency.archived\n            )}\n          >\n            {competency.archived === 1 ? (\n              <span className=\"fas fa-toggle-on\">\n                <span>Archived</span>\n              </span>\n            ) : (\n              <span className=\"fas fa-toggle-off\" />\n            )}\n          </button>\n        </td>\n        <td>\n          <Link\n            to={`/framework/${framework}/manage/competencies/${\n              competency.id\n            }/manage-attributes`}\n          >\n            <i className=\"fas fa-sitemap\" />\n          </Link>\n        </td>\n      </tr>\n    ));\n  }\n\n  render() {\n    const {\n      frameworkName,\n      frameworkData,\n      competencyTypes,\n      loadingError\n    } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    if (frameworkData.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"row\">\n        <h2>Manage framework</h2>\n        <h4>{frameworkName}</h4>\n\n        <SimpleForm\n          title=\"Create new competency\"\n          placeholder=\"Competency description\"\n          options={competencyTypes}\n          onCreate={this.createCompetency}\n        />\n\n        <table>\n          <tbody>{this.getCompetencyList()}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageCompetencies);\n","import HttpService from '../http/http';\n\nexport const apiUrl = process.env.REACT_APP_API_URL;\n\nclass CoursesService {\n  static instance;\n  http = new HttpService();\n\n  constructor() {\n    if (CoursesService.instance) {\n      return this.instance;\n    }\n\n    CoursesService.instance = this;\n  }\n\n  async getCourses() {\n    const response = await this.http.get(\n      `${apiUrl}/api/v1/training-resources/all?_format=json`\n    );\n    return response.data;\n  }\n}\n\nexport default CoursesService;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { withSnackbar } from 'notistack';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport CompetencyService from '../services/competency/competency';\nimport CoursesService from '../services/courses/courses';\n\nclass CompetencyDetails extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  coursesService = new CoursesService();\n\n  state = {\n    framework: this.props.match.params.framework,\n    frameworkData: [],\n    competencyId: this.props.match.params.cid,\n    attributeDefs: [],\n    resources: []\n  };\n\n  async componentDidMount() {\n    try {\n      this.activeRequests.startRequest();\n      await Promise.all([\n        this.getFramework(),\n        this.getAttributes(),\n        this.getResources()\n      ]);\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async getFramework() {\n    const { framework } = this.state;\n    const frameworkData = await this.competencyService.getFramework(framework);\n\n    this.setState({\n      frameworkData\n    });\n  }\n\n  async getAttributes() {\n    const allFrameworks = await this.competencyService.getAllFrameworks();\n    const { framework } = this.state;\n    const frameworkMatch = allFrameworks.filter(\n      item => item.name.toLowerCase() === framework\n    );\n    if (frameworkMatch.length) {\n      const attributeDefs = frameworkMatch[0].attribute_types.map(\n        attribute => attribute.title\n      );\n      this.setState({ attributeDefs });\n    }\n  }\n\n  async getResources() {\n    try {\n      const resources = await this.coursesService.getCourses();\n      this.setState({ resources });\n    } catch (error) {\n      this.props.enqueueSnackbar('Unable to retrieve training resources', {\n        variant: 'error'\n      });\n    }\n  }\n\n  resourceBlock() {\n    const { resources } = this.state;\n    return resources.map(resource =>\n      resource.competency_profile.map(profile =>\n        profile.domains.map(domain =>\n          domain.competencies\n            .filter(competency => competency.id === this.state.competencyId)\n            .map(competency => {\n              return (\n                <li key={resource.id}>\n                  <Link to={`/training-resources/${resource.id}`}>\n                    {resource.title}\n                  </Link>\n                </li>\n              );\n            })\n        )\n      )\n    );\n  }\n\n  render() {\n    const { competencyId, frameworkData, attributeDefs } = this.state;\n\n    const competencies = [];\n\n    frameworkData.forEach(item =>\n      item.domains.forEach(domain =>\n        domain.competencies.forEach(competency => {\n          if (competency.id === competencyId) {\n            competencies.push({\n              ...competency,\n              framework: item.title,\n              domain: domain.title\n            });\n          }\n        })\n      )\n    );\n\n    const competencyDetails = competencies.map(competency => (\n      <div key={competency.id}>\n        <div className=\"row\">\n          <div className=\"column large-12\">\n            <h4>\n              {' '}\n              {competency.framework} / {competency.domain}\n            </h4>\n            <h4>{competency.title}</h4>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"column large-8\">\n            <ul>\n              {attributeDefs.map(def => {\n                return (\n                  <div key={def}>\n                    <div className=\"margin-top-medium\">\n                      {' '}\n                      <strong>\n                        <em>{def}</em>\n                      </strong>\n                    </div>\n                    {competency.attributes.map(attribute => {\n                      if (attribute.type === def) {\n                        return <li key={attribute.id}>{attribute.title} </li>;\n                      }\n                      return null;\n                    })}\n                  </div>\n                );\n              })}\n            </ul>\n          </div>\n          <div className=\"column large-4\">\n            <div className=\"callout notice industry-background white-color\">\n              <p>Competency derived from:</p>\n              <p>No data available</p>\n            </div>\n            <div className=\"callout notice training-background white-color\">\n              <p>Training resources mapped to this competency</p>\n              <ul>{this.resourceBlock()}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n\n    return (\n      <div className=\"row\">\n        <div className=\"column large-12\">\n          <h3>Competency details</h3>\n          {competencyDetails}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(CompetencyDetails);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Collapsible from 'react-collapsible';\nimport { Link } from 'react-router-dom';\n\nimport { groupBy } from 'lodash-es';\nimport './CompetencyList.css';\n\nfunction CompetencyList({\n  parentIndex,\n  index,\n  framework,\n  competency,\n  disable\n}) {\n  const attributesGrouped = groupBy(competency.attributes, 'type');\n  const attributesTypes = Object.keys(attributesGrouped);\n  const attributes = attributesTypes.map(type => {\n    const attributes = attributesGrouped[type].map(attribute => (\n      <li key={attribute.id}>{attribute.title}</li>\n    ));\n    return (\n      <div key={type}>\n        <em>{type}</em>\n        <ul>{attributes}</ul>\n      </div>\n    );\n  });\n\n  return (\n    <tr>\n      <td>{`${parentIndex + 1}.${index + 1}`}</td>\n      <td>\n        <Collapsible\n          trigger={\n            <div className=\"open-close-title\">\n              <span>{competency.title}</span>\n              <span className=\"icon icon-common icon-plus float-right\">\n                <p className=\"show-for-sr\">show more</p>\n              </span>\n            </div>\n          }\n          triggerWhenOpen={\n            <div className=\"open-close-title\">\n              <span>{competency.title}</span>\n              <span className=\"icon icon-common icon-minus float-right\">\n                <p className=\"show-for-sr\">show less</p>\n              </span>\n            </div>\n          }\n        >\n          <div className=\"padding-left-large padding-top-large\">\n            <Link to={`${framework}/competency/details/${competency.id}`}>\n              <span className=\"float-right\">\n                <i className=\"icon icon-spacer icon-common icon-info\" />More\n                details\n              </span>\n            </Link>\n            {attributes}\n          </div>\n        </Collapsible>\n      </td>\n    </tr>\n  );\n}\n\nCompetencyList.defaultProps = {\n  parentIndex: 0,\n  index: 0,\n  disable: true\n};\n\nCompetencyList.propTypes = {\n  parentIndex: PropTypes.number,\n  index: PropTypes.number,\n  framework: PropTypes.string,\n  competency: PropTypes.shape({\n    title: PropTypes.string\n  }),\n  disable: PropTypes.bool\n};\n\nexport default CompetencyList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CompetencyList from '../competency-list/CompetencyList';\n\nfunction DomainList({ index, framework, domain, disable }) {\n  const competencies = domain.competencies.map((competency, childIndex) => (\n    <CompetencyList\n      key={competency.id}\n      parentIndex={index}\n      index={childIndex}\n      framework={framework}\n      competency={competency}\n      disable={disable}\n    />\n  ));\n\n  return (\n    <tbody>\n      <tr className=\"white-color secondary-background\">\n        <td>{index + 1}</td>\n        <td>\n          <h4> {domain.title}</h4>\n        </td>\n      </tr>\n      {competencies}\n    </tbody>\n  );\n}\n\nDomainList.defaultProps = {\n  index: 0,\n  domain: { title: '', competencies: [] },\n  disable: true\n};\n\nDomainList.propTypes = {\n  index: PropTypes.number,\n  framework: PropTypes.string,\n  domain: PropTypes.shape({\n    title: PropTypes.string,\n    competencies: PropTypes.array\n  }),\n  disable: PropTypes.bool\n};\n\nexport default DomainList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link } from 'react-router-dom';\nimport ErrorLoading from '../../components/error-loading/ErrorLoading';\n\nimport ActiveRequestsService from '../../services/active-requests/active-requests';\nimport CoursesService from '../../services/courses/courses';\nimport { safeFlat } from '../../services/util/util';\n\nclass Courses extends Component {\n  static propTypes = {\n    framework: PropTypes.string\n  };\n\n  state = {\n    courses: [],\n    filteredCourses: [],\n    filter: '',\n    loadingError: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state.framework = props.framework;\n  }\n\n  coursesService = new CoursesService();\n  activeRequests = new ActiveRequestsService();\n\n  async componentDidMount() {\n    try {\n      this.activeRequests.startRequest();\n      const allCourses = await this.coursesService.getCourses();\n      const courses = this.filterCourses(allCourses);\n      this.setState({ courses, filteredCourses: courses });\n    } catch (error) {\n      this.setState({ loadingError: true });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  filterCourses(allCourses) {\n    const { framework } = this.state;\n    const filteredCourses = [];\n    allCourses.forEach(course => {\n      if (course.archived === '1') {\n        return;\n      }\n\n      const filteredProfiles = course.competency_profile.filter(\n        profile => (profile.title || '').toLowerCase() === framework\n      );\n\n      if (filteredProfiles.length === 0) {\n        return;\n      }\n\n      const modifiedCourse = {\n        ...course,\n        competencies: safeFlat(\n          filteredProfiles.map(profile =>\n            safeFlat(\n              profile.domains.map(domain =>\n                domain.competencies.map(competency => ({\n                  ...competency,\n                  domain: domain.title\n                }))\n              )\n            )\n          )\n        )\n      };\n\n      filteredCourses.push(modifiedCourse);\n    });\n\n    return filteredCourses;\n  }\n\n  onFilter = filter => {\n    const { courses } = this.state;\n    let term;\n    try {\n      term = new RegExp(filter, 'i');\n    } catch (e) {\n      term = /./;\n    }\n    const filteredCourses = courses.filter(course => term.test(course.title));\n    this.setState({ filteredCourses, filter });\n  };\n\n  render() {\n    const { filteredCourses, framework, filter, loadingError } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    const competencyList = competencies =>\n      competencies.map(competency => (\n        <li key={competency.id}>\n          <Link\n            to={`/framework/${framework}/competency/details/${competency.id}`}\n          >\n            {competency.title}\n          </Link>\n        </li>\n      ));\n\n    const resources = filteredCourses.map(course => (\n      <tr key={course.id}>\n        <td>\n          <Link to={`/training-resources/${course.id}`}>{course.title}</Link>\n        </td>\n        <td>{course.type}</td>\n        <td>\n          <ul>{competencyList(course.competencies)}</ul>\n        </td>\n      </tr>\n    ));\n\n    return (\n      <>\n        <input\n          type=\"search\"\n          // className=\"clearable\" // It doesn't work correctly\n          value={filter}\n          onChange={event => this.onFilter(event.target.value)}\n          placeholder=\"Filter resources\"\n        />\n        <table>\n          <tbody>{resources}</tbody>\n        </table>\n      </>\n    );\n  }\n}\n\nexport default Courses;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\n\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { safeFlat, removeHtmlTags } from '../services/util/util';\n\nimport DomainList from '../components/domain-list/DomainList';\nimport Courses from './courses/Courses';\n\nclass CompetencyList extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      match: PropTypes.shape({ framework: PropTypes.string })\n    })\n  };\n\n  competencyService = new CompetencyService();\n  activeRequests = new ActiveRequestsService();\n\n  state = {\n    framework: this.props.match.params.framework,\n    frameworkName: '',\n    description: '',\n    domains: [],\n    filter: '',\n    filteredDomains: [],\n    loadingError: false\n  };\n\n  async componentWillMount() {\n    try {\n      this.activeRequests.startRequest();\n      await Promise.all([this.fetchFramework(), this.fetchAllFrameworks()]);\n    } catch (error) {\n      this.setState({ loadingError: true });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  componentDidMount() {\n    window.scroll(0, 0);\n  }\n\n  async fetchFramework() {\n    const { framework } = this.state;\n    const frameworkData = await this.competencyService.getFramework(framework);\n    const domains = safeFlat(frameworkData.map(item => item.domains));\n    this.setState({ domains, filteredDomains: domains });\n  }\n\n  async fetchAllFrameworks() {\n    const { framework } = this.state;\n    const frameworkData = await this.competencyService.getAllFrameworks();\n    const frameworkMatch = frameworkData.filter(\n      item => item.name.toLowerCase() === framework\n    );\n\n    if (frameworkMatch.length) {\n      this.setState({\n        frameworkName: frameworkMatch[0].name,\n        description: removeHtmlTags(frameworkMatch[0].description)\n      });\n    }\n  }\n\n  onFilter = filter => {\n    const { domains } = this.state;\n    let term;\n    try {\n      term = new RegExp(filter, 'i');\n    } catch (e) {\n      term = /./;\n    }\n    const filteredDomains = domains.map(domain => {\n      const filteredCompetencies = domain.competencies.filter(competency =>\n        term.test(competency.title)\n      );\n      if (filteredCompetencies.length === 0) {\n        return null;\n      }\n      return { ...domain, competencies: filteredCompetencies };\n    });\n    this.setState({ filter, filteredDomains });\n  };\n\n  render() {\n    const {\n      frameworkName,\n      description,\n      filteredDomains,\n      framework,\n      filter,\n      loadingError\n    } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    const domainList = filteredDomains.map((domain, index) =>\n      domain === null ? null : (\n        <DomainList\n          key={domain.nid}\n          index={index}\n          framework={framework}\n          domain={domain}\n          disable={true}\n        />\n      )\n    );\n\n    return (\n      <>\n        <h3>{frameworkName}</h3>\n        <p>{description}</p>\n\n        <Tabs>\n          <TabList>\n            <Tab>Competencies</Tab>\n            <Tab>Training resources</Tab>\n          </TabList>\n\n          <TabPanel>\n            <input\n              // className=\"clearable\" // It doesn't work correctly\n              type=\"search\"\n              value={filter}\n              onChange={event => this.onFilter(event.target.value)}\n              placeholder=\"Filter competencies\"\n            />\n            <table>{domainList}</table>\n          </TabPanel>\n          <TabPanel>\n            <Courses framework={framework} />\n          </TabPanel>\n        </Tabs>\n      </>\n    );\n  }\n}\n\nexport default CompetencyList;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport CKEditor from 'react-ckeditor-component';\n\nimport { apiUrl } from '../services/competency/competency';\n\nclass ResourceEdit extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      csrf: '',\n      updateFlag: false,\n      path: this.props.location.pathname.split('/'),\n      nid: '',\n      title: '',\n      dates: '',\n      dates2: '',\n      type: '',\n      description: '',\n      location: '',\n      url: '',\n      target_audience: '',\n      learning_outcomes: '',\n      keywords: '',\n      organisers: '',\n      trainers: ''\n    };\n  }\n\n  changeDescription(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ description: newContent });\n  }\n\n  changeTargetAudience(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ target_audience: newContent });\n  }\n\n  changeLearningOutcomes(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ learning_outcomes: newContent });\n  }\n\n  changeOrganisers(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ organisers: newContent });\n  }\n\n  changeTrainers(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ trainers: newContent });\n  }\n\n  componentDidMount() {\n    this.setState({ nid: this.state.path[3] });\n\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n\n    //let fetchResource = \"http://dev-competency-mapper.pantheonsite.io/api/v1/training-resources/\"+nid+\"?_format=json\";\n    let fetchResource = `${apiUrl}/api/v1/training-resources/all?_format=json`;\n    fetch(fetchResource)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          data: findresponse\n        });\n      });\n  }\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\n      alert(\n        'You are not authorised to access this page. Contact the administrator'\n      );\n      this.props.history.push('/');\n    }\n    console.log(localStorage.getItem('roles'));\n  }\n\n  render() {\n    this.checkUser();\n    let nid = '';\n    let title = '';\n    let dates = '';\n    let dates2 = '';\n    let type = '';\n    let description = '';\n    let location = '';\n    let url = '';\n    let target_audience = '';\n    let learning_outcomes = '';\n    let keywords = '';\n    let organisers = '';\n    let trainers = '';\n\n    this.state.data.forEach(item => {\n      if (item.id === this.state.nid) {\n        nid = item.id;\n        title = item.title;\n        //temp_date = item.dates.split(\"-\");\n        dates = item.start_date;\n        dates2 = item.end_date;\n        type = item.type;\n        description = item.description;\n        location = item.location;\n        url = item.url;\n        target_audience = item.target_audience;\n        learning_outcomes = item.learning_outcomes;\n        keywords = item.keywords;\n        organisers = item.organisers;\n        trainers = item.trainers;\n      }\n    });\n    if (this.state.data.length > 0) {\n      console.log(title);\n      return (\n        <EditForm\n          nid={nid}\n          title={title}\n          dates={dates}\n          dates2={dates2}\n          type={type}\n          description={description}\n          location={location}\n          url={url}\n          target_audience={target_audience}\n          learning_outcomes={learning_outcomes}\n          keywords={keywords}\n          organisers={organisers}\n          trainers={trainers}\n        />\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nclass EditForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nid: this.props.nid,\n      title: this.props.title,\n      dates: this.props.dates,\n      dates2: this.props.dates2,\n      type: this.props.type,\n      description: this.props.description,\n      location: this.props.location,\n      url: this.props.url,\n      target_audience: this.props.target_audience,\n      learning_outcomes: this.props.learning_outcomes,\n      keywords: this.props.keywords,\n      organisers: this.props.organisers,\n      trainers: this.props.trainers,\n      redirect: false,\n      updateFlag: false,\n      csrf: ''\n    };\n    this.handleTitle = this.handleTitle.bind(this);\n    this.handleDates = this.handleDates.bind(this);\n    this.handleDates2 = this.handleDates2.bind(this);\n    this.handleType = this.handleType.bind(this);\n    this.handleDesc = this.handleDesc.bind(this);\n    this.handleLocation = this.handleLocation.bind(this);\n    this.handleURL = this.handleURL.bind(this);\n    this.handleTargetAudience = this.handleTargetAudience.bind(this);\n    this.handleLearningOutcomes = this.handleLearningOutcomes.bind(this);\n    this.handleKeywords = this.handleKeywords.bind(this);\n    this.handleOrganisers = this.handleOrganisers.bind(this);\n    this.handleTrainers = this.handleTrainers.bind(this);\n  }\n\n  componentDidMount() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  handleTitle(event) {\n    this.setState({ title: event.value });\n  }\n\n  handleDates(event) {\n    this.setState({ dates: event.value });\n  }\n\n  handleDates2(event) {\n    this.setState({ dates2: event.value });\n  }\n\n  handleType(event) {\n    this.setState({ type: event.value });\n  }\n\n  handleDesc(event) {\n    this.setState({ description: event.editor.getData() });\n  }\n  handleLocation(event) {\n    this.setState({ location: event.value });\n  }\n  handleURL(event) {\n    this.setState({ url: event.value });\n  }\n\n  handleTargetAudience(event) {\n    this.setState({ target_audience: event.editor.getData() });\n  }\n\n  handleLearningOutcomes(event) {\n    this.setState({ learning_outcomes: event.editor.getData() });\n  }\n\n  handleKeywords(event) {\n    this.setState({ keywords: event.value });\n  }\n\n  handleOrganisers(event) {\n    this.setState({ organisers: event.editor.getData() });\n  }\n\n  handleTrainers(event) {\n    this.setState({ trainers: event.editor.getData() });\n  }\n\n  setRedirect = () => {\n    this.props.history.push('all-training-resources');\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.updateFlag) {\n      setTimeout(() => {\n        this.context.router.history.push(\n          '/training-resources/' + this.state.nid\n        );\n      }, 1000);\n\n      console.log('componentDidUpdate');\n    }\n  }\n\n  handleSubmit(event) {\n    let nid = this.state.nid;\n    let title = this.refs.title.value;\n    let dates = this.refs.dates.value;\n    let dates2 = this.refs.dates2.value;\n    let type = this.refs.type.value;\n    let description = this.state.description;\n    let location = this.refs.location.value;\n    let url = this.refs.url.value;\n    let target_audience = this.state.target_audience;\n    let learning_outcomes = this.state.learning_outcomes;\n    let organisers = this.state.organisers;\n    let trainers = this.state.trainers;\n    let keywords = this.refs.keywords.value;\n    let csrf = localStorage.getItem('csrf_token');\n\n    fetch(`${apiUrl}/node/` + nid + '?_format=hal_json', {\n      method: 'PATCH',\n      cookies: 'x-access-token',\n      headers: {\n        Accept: 'application/hal+json',\n        'Content-Type': 'application/hal+json',\n        'X-CSRF-Token': csrf, //'yoM7eSiML2AI6A3FGH2EKCaX_agiJfmYkRIPL0MdPlI',\n        Authorization: 'Basic'\n      },\n      body: JSON.stringify({\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/node/training_resource`\n          }\n        },\n        title: [\n          {\n            value: title\n          }\n        ],\n        field_dates: [\n          {\n            value: dates\n          }\n        ],\n        field_end_date: [\n          {\n            value: dates2\n          }\n        ],\n        field_type: [\n          {\n            value: type\n          }\n        ],\n        field_description: [\n          {\n            value: description,\n            format: 'basic_html'\n          }\n        ],\n        field_location: [\n          {\n            value: location\n          }\n        ],\n        field_url: [\n          {\n            value: url\n          }\n        ],\n        field_target_audience: [\n          {\n            value: target_audience,\n            format: 'basic_html'\n          }\n        ],\n        field_learning_outcomes: [\n          {\n            value: learning_outcomes,\n            format: 'basic_html'\n          }\n        ],\n        field_keywords: [\n          {\n            value: keywords\n          }\n        ],\n        field_organisers: [\n          {\n            value: organisers,\n            format: 'basic_html'\n          }\n        ],\n        field_trainers: [\n          {\n            value: trainers,\n            format: 'basic_html'\n          }\n        ],\n        type: [\n          {\n            target_id: 'training_resource'\n          }\n        ]\n      })\n    });\n\n    //event.target.reset();\n\n    event.preventDefault();\n    this.setState({ updateFlag: true });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Edit Training Resources</h2>\n\n        <div className=\"row\">\n          <div className=\"column large-12 callout\">\n            <form\n              className=\"form\"\n              id={'resource_edit_form'}\n              onSubmit={this.handleSubmit.bind(this)}\n            >\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Title</strong>\n                  <input\n                    type=\"text\"\n                    ref=\"title\"\n                    id={'title'}\n                    value={this.state.title}\n                    onChange={this.handleTitle.bind(this)}\n                    required\n                    placeholder=\"Title\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-6\">\n                  <strong>Dates</strong>\n                  <input\n                    type=\"date\"\n                    ref=\"dates\"\n                    value={this.state.dates}\n                    onChange={this.handleDates.bind(this)}\n                    placeholder=\"Date\"\n                  />\n                </div>\n                <div className=\"column large-6\">\n                  <strong>Dates</strong>\n                  <input\n                    type=\"date\"\n                    ref=\"dates2\"\n                    value={this.state.dates2}\n                    onChange={this.handleDates2.bind(this)}\n                    placeholder=\"Date\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Event type</strong>\n                  <select\n                    ref={'type'}\n                    value={this.state.type}\n                    onChange={this.handleType.bind(this)}\n                  >\n                    <option value={'Online'}>Online</option>\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\n                    <option value={'Webinar'}>Webinar</option>\n                    <option value={'Hackathon'}>Hackathon</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Description</strong>\n                  <CKEditor\n                    content={this.state.description}\n                    events={{\n                      change: this.handleDesc\n                    }}\n                    activeClass=\"p10\"\n                    required\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"description\" value={this.state.description} onChange={this.handleDesc.bind(this)} required placeholder=\"Description\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Location</strong>\n                  <input\n                    type=\"text\"\n                    ref=\"location\"\n                    value={this.state.location}\n                    onChange={this.handleLocation.bind(this)}\n                    placeholder=\"Location\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>URL</strong>\n                  <input\n                    type=\"text\"\n                    ref=\"url\"\n                    value={this.state.url}\n                    onChange={this.handleURL.bind(this)}\n                    required\n                    placeholder=\"URL\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Target audience</strong>\n                  <CKEditor\n                    content={this.state.target_audience}\n                    events={{\n                      change: this.handleTargetAudience\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"target_audience\" value={this.state.target_audience} onChange={this.handleTargetAudience.bind(this)} required placeholder=\"Target audience\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Learning outcomes</strong>\n                  <CKEditor\n                    content={this.state.learning_outcomes}\n                    events={{\n                      change: this.handleLearningOutcomes\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"learning_outcomes\" value={this.state.learning_outcomes} onChange={this.handleLearningOutcomes.bind(this)} required placeholder=\"Learning outcomes\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Organisers</strong>\n                  <CKEditor\n                    content={this.state.organisers}\n                    events={{\n                      change: this.handleOrganisers\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"organisers\" value={this.state.organisers} onChange={this.handleOrganisers.bind(this)} required placeholder=\"Organisers\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Trainers</strong>\n                  <CKEditor\n                    content={this.state.trainers}\n                    events={{\n                      change: this.handleTrainers\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"trainers\" value={this.state.trainers} onChange={this.handleTrainers.bind(this)} required placeholder=\"Trainers\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Keywords</strong>\n                  <input\n                    type=\"text\"\n                    ref=\"keywords\"\n                    value={this.state.keywords}\n                    onChange={this.handleKeywords.bind(this)}\n                    placeholder=\"Keywords\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-2\">\n                  <input type=\"submit\" className=\"button\" value=\"Update\" />\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst EditResources = () => (\n  <Switch>\n    <Route exact path=\"/training-resource/edit/:nid\" component={ResourceEdit} />\n  </Switch>\n);\n\nexport default EditResources;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from 'react-ckeditor-component';\n\nimport { apiUrl } from '../services/competency/competency';\n\nclass ResourceCreate extends React.Component {\n  constructor(props) {\n    super(props);\n    //this.onChange = this.onChange.bind(this);\n    this.changeDescription = this.changeDescription.bind(this);\n    this.changeTargetAudience = this.changeTargetAudience.bind(this);\n    this.changeLearningOutcomes = this.changeLearningOutcomes.bind(this);\n    this.changeOrganisers = this.changeOrganisers.bind(this);\n    this.changeTrainers = this.changeTrainers.bind(this);\n\n    this.state = {\n      data: [],\n      csrf: '',\n      updateFlag: false,\n      content: 'content',\n      description: '',\n      target_audience: '',\n      learning_outcomes: '',\n      organisers: '',\n      trainers: ''\n    };\n  }\n\n  changeDescription(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ description: newContent });\n  }\n\n  changeTargetAudience(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ target_audience: newContent });\n  }\n\n  changeLearningOutcomes(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ learning_outcomes: newContent });\n  }\n\n  changeOrganisers(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ organisers: newContent });\n  }\n\n  changeTrainers(evt) {\n    let newContent = evt.editor.getData();\n    this.setState({ trainers: newContent });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.updateFlag) {\n      setTimeout(() => {\n        this.props.history.push('/all-training-resources');\n        //this.setState({'updateFlag': false});\n      }, 1000);\n\n      console.log('componentDidUpdate');\n    }\n  }\n\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\n      alert(\n        'You are not authorised to access this page. Contact the administrator'\n      );\n      this.props.history.push('/');\n    }\n    console.log(localStorage.getItem('roles'));\n  }\n\n  componentDidMount() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  handleSubmit(event) {\n    let title = this.refs.title.value;\n    let dates = this.refs.dates.value;\n    let dates2 = this.refs.dates2.value;\n    let type = 'Online';\n    if (this.refs.type.value) {\n      type = this.refs.type.value;\n    }\n\n    let description = this.state.description;\n    let location = this.refs.location.value;\n    let url = this.refs.url.value;\n    let target_audience = this.state.target_audience;\n    let learning_outcomes = this.state.learning_outcomes;\n    let keywords = this.refs.keywords.value;\n    let organisers = this.state.organisers;\n    let trainers = this.state.trainers;\n\n    let token = localStorage.getItem('csrf_token');\n\n    //alert(learning_outcomes);\n\n    fetch(`${apiUrl}/node?_format=hal_json`, {\n      credentials: 'include',\n      method: 'POST',\n      cookies: 'x-access-token',\n      headers: {\n        Accept: 'application/hal+json',\n        'Content-Type': 'application/hal+json',\n        'X-CSRF-Token': token,\n        Authorization: 'Basic'\n      },\n      body: JSON.stringify({\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/node/training_resource`\n          }\n        },\n        title: [\n          {\n            value: title\n          }\n        ],\n        field_dates: [\n          {\n            value: dates\n          }\n        ],\n        field_end_date: [\n          {\n            value: dates2\n          }\n        ],\n        field_type: [\n          {\n            value: type\n          }\n        ],\n        field_description: [\n          {\n            value: description,\n            format: 'basic_html'\n          }\n        ],\n        field_location: [\n          {\n            value: location\n          }\n        ],\n        field_url: [\n          {\n            value: url\n          }\n        ],\n        field_target_audience: [\n          {\n            value: target_audience,\n            format: 'basic_html'\n          }\n        ],\n        field_learning_outcomes: [\n          {\n            value: learning_outcomes,\n            format: 'basic_html'\n          }\n        ],\n        field_keywords: [\n          {\n            value: keywords\n          }\n        ],\n        field_organisers: [\n          {\n            value: organisers,\n            format: 'basic_html'\n          }\n        ],\n        field_trainers: [\n          {\n            value: trainers,\n            format: 'basic_html'\n          }\n        ],\n\n        type: [\n          {\n            target_id: 'training_resource'\n          }\n        ]\n      })\n    });\n\n    event.target.reset();\n    this.setState({ updateFlag: true });\n    event.preventDefault();\n  }\n\n  render() {\n    this.checkUser();\n    return (\n      <div>\n        <h2>Create Training Resources</h2>\n\n        <div className=\"row\">\n          <div className=\"column large-12 callout\">\n            <h4>Create new competency</h4>\n            <form\n              className=\"form\"\n              id={'resource_create_form'}\n              onSubmit={this.handleSubmit.bind(this)}\n            >\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Title</strong>\n                  <input type=\"text\" ref=\"title\" required placeholder=\"Title\" />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-6\">\n                  <strong>Start Date</strong>\n                  <input type=\"date\" ref=\"dates\" placeholder=\"Date\" />\n                </div>\n                <div className=\"column large-6\">\n                  <strong>End Date</strong>\n                  <input type=\"date\" ref=\"dates2\" placeholder=\"Date\" />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Event type</strong>\n                  <select ref={'type'}>\n                    <option value={'Online'}>Online</option>\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\n                    <option value={'Webinar'}>Webinar</option>\n                    <option value={'Hackathon'}>Hackathon</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Description</strong>\n                  <CKEditor\n                    content={this.state.description}\n                    events={{\n                      change: this.changeDescription\n                    }}\n                    activeClass=\"p10\"\n                    required\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"description\" required placeholder=\"Description\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Location</strong>\n                  <input type=\"text\" ref=\"location\" placeholder=\"Location\" />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>URL</strong>\n                  <input type=\"text\" ref=\"url\" required placeholder=\"URL\" />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Target audience</strong>\n                  <CKEditor\n                    content={this.state.target_audience}\n                    events={{\n                      change: this.changeTargetAudience\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<input type=\"text\" ref=\"target_audience\" required placeholder=\"Target audience\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Learning outcomes</strong>\n                  <CKEditor\n                    content={this.state.learning_outcomes}\n                    events={{\n                      change: this.changeLearningOutcomes\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"learning_outcomes\" required placeholder=\"Learning outcomes\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Organisers</strong>\n                  <CKEditor\n                    content={this.state.organisers}\n                    events={{\n                      change: this.changeOrganisers\n                    }}\n                    activeClass=\"p10\"\n                  />\n\n                  {/*<textarea rows={\"5\"} ref=\"organisers\" required placeholder=\"Organisers\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Trainers</strong>\n                  <CKEditor\n                    content={this.state.trainers}\n                    events={{\n                      change: this.changeTrainers\n                    }}\n                    activeClass=\"p10\"\n                  />\n                  {/*<textarea rows={\"5\"} ref=\"trainers\" required placeholder=\"Trainers\"/>*/}\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Keywords</strong>\n                  <input type=\"text\" ref=\"keywords\" placeholder=\"Keywords\" />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-2\">\n                  <input type=\"submit\" className=\"button\" value=\"Submit\" />\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst CreateResources = () => (\n  <Switch>\n    <Route exact path=\"/training-resource/create\" component={ResourceCreate} />\n  </Switch>\n);\n\nexport default CreateResources;\n","import React from 'react';\n\nimport { apiUrl } from '../services/competency/competency';\n\nconst $ = window.$;\n\nclass AttributeMap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      framework: this.props.selectedFramework,\n      resourceID: this.props.resourceID,\n      frameworkdetails: [],\n      csrf: '',\n      frameworkUUID: '',\n      competencies: [],\n      attributes: this.props.selectedAttributes,\n      selectedAttributes: this.props.selectedAttributes,\n      selectedCompetencies: this.props.selectedCompetencies,\n      resourceDetails: []\n    };\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleSelect() {\n    let checkedAttributes = this.state.selectedAttributes;\n    let attributeIDs = [];\n    let token = localStorage.getItem('csrf_token');\n    for (let i = 0; i < checkedAttributes.length; i++) {\n      attributeIDs.push(checkedAttributes[i].split('id', 2));\n    }\n\n    if (attributeIDs.length > 0) {\n      let payload = {\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/node/training_resource`\n          },\n          [`${apiUrl}/rest/relation/node/training_resource/field_attribute_mapped`]: {\n            href:\n              'http://dev-competency-mapper.pantheonsite.io/node/' +\n              attributeIDs[0][1] +\n              '?_format=hal_json'\n          }\n        },\n\n        type: [{ target_id: 'training_resource' }],\n        _embedded: {}\n      };\n\n      let embedded_string = [];\n      for (let i = 0; i < attributeIDs.length; i++) {\n        embedded_string.push({\n          _links: {\n            self: {\n              href: `${apiUrl}/node/` + attributeIDs[i][1] + '?_format=hal_json'\n            },\n            type: {\n              href: `${apiUrl}/rest/type/node/attribute`\n            }\n          },\n          uuid: [\n            {\n              value: attributeIDs[i][0]\n            }\n          ]\n        });\n      }\n\n      payload._embedded = {\n        [`${apiUrl}/rest/relation/node/training_resource/field_attribute_mapped`]: embedded_string\n      };\n\n      fetch(`${apiUrl}/node/` + this.state.resourceID + '?_format=hal_json', {\n        credentials: 'include',\n        method: 'PATCH',\n        cookies: 'x-access-token',\n        headers: {\n          Accept: 'application/hal+json',\n          'Content-Type': 'application/hal+json',\n          'X-CSRF-Token': token,\n          Authorization: 'Basic'\n        },\n        body: JSON.stringify(payload)\n      });\n    }\n\n    this.props.handleCloseModal();\n  }\n\n  handleAllCheck(id, uuid, e) {\n    const selectedAttributes = this.state.selectedAttributes;\n    let childItems = document.getElementsByName(id);\n    if (e.target.checked) {\n      for (let i = 0; i < childItems.length; i++) {\n        childItems[i].checked = true;\n        selectedAttributes.push(\n          childItems[i].getAttribute('data-uuid') +\n            'id' +\n            childItems[i].getAttribute('data-id')\n        );\n        this.setState({ selectedAttributes });\n        console.log(this.state.selectedAttributes);\n      }\n    } else {\n      for (let i = 0; i < childItems.length; i++) {\n        if (childItems[i].checked === true) {\n          childItems[i].checked = false;\n          //selectedAttributes.pop(childItems[i].getAttribute('data-id'));\n          //let index = array.indexOf(element);\n          selectedAttributes.splice(\n            selectedAttributes.indexOf(childItems[i]),\n            1\n          );\n          this.setState({ selectedAttributes });\n          console.log(this.state.selectedAttributes);\n        }\n      }\n    }\n  }\n\n  handleAttributeClick(id, uuid, e) {\n    const selectedAttributes = this.state.selectedAttributes;\n    let isChecked = e.target.checked;\n    if (isChecked) {\n      selectedAttributes.push(uuid + 'id' + id);\n      this.setState({ selectedAttributes });\n      document.getElementById(e.target.name).checked = true;\n      console.log(this.state.selectedAttributes);\n    } else {\n      //selectedAttributes.pop(id);\n      selectedAttributes.splice(\n        selectedAttributes.indexOf(uuid + 'id' + id),\n        1\n      );\n      this.setState({ selectedAttributes });\n      if (!$(':checkbox[name=' + e.target.name + ']').is(':checked')) {\n        document.getElementById(e.target.name).checked = false;\n        console.log(this.state.selectedAttributes);\n      }\n    }\n  }\n\n  handleListAllChecked(e) {\n    let lists = [];\n    $(':checkbox').each(function() {\n      if ($(this).is(':checked')) {\n        lists.push($(this).attr('id'));\n      }\n    });\n    alert(lists);\n  }\n\n  componentDidMount() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n\n    let fetchCompetencyList =\n      `${apiUrl}/api/v1/framework/` + this.state.framework + '?_format=json';\n    fetch(fetchCompetencyList)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          data: findresponse\n        });\n      });\n\n    let fetchFrameworkDetails = `${apiUrl}/api/v1/framework?_format=json`;\n    fetch(fetchFrameworkDetails)\n      .then(Response => Response.json())\n      .then(findresponse1 => {\n        this.setState({\n          frameworkdetails: findresponse1\n        });\n      });\n\n    fetch(`${apiUrl}/node/` + this.state.resourceID + '?_format=hal_json')\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          resourceDetails: findresponse\n        });\n      });\n\n    //console.log(this.state.resourceDetails);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.state.attributes === nextState.attributes;\n  }\n\n  render() {\n    let frameworkDetails = this.state.frameworkdetails;\n    let data = this.state.data;\n    let frameworkDefs = [];\n    let domainsOptions = [];\n    let attributeTypeOptions = [];\n\n    //console.log(this.state.selectedAttributes);\n\n    frameworkDetails.forEach((item, ikey) => {\n      if (item.name.toLowerCase() === this.state.framework) {\n        this.state.frameworkUUID = item.uuid;\n        item.attribute_types.forEach(attribute_type => {\n          frameworkDefs.push(attribute_type.title);\n          attributeTypeOptions.push(\n            <option data-id={attribute_type.id} value={attribute_type.uuid}>\n              {attribute_type.title}\n            </option>\n          );\n        });\n        item.domains.forEach(domain => {\n          domainsOptions.push(\n            <option data-id={domain.id} value={domain.uuid}>\n              {domain.title}\n            </option>\n          );\n        });\n      }\n    });\n\n    const ListOfCompetencies = data.map(item =>\n      item.domains.map((domain, did) => (\n        <tbody>\n          <tr key={domain.nid}>\n            <td>{did + 1}</td>{' '}\n            <td>\n              <strong> {domain.title}</strong>{' '}\n            </td>{' '}\n          </tr>\n          {domain.competencies.map((competency, cid) => (\n            <tr key={competency.id}>\n              <td>\n                {did + 1}.{cid + 1}\n              </td>\n              <td>\n                <input\n                  type={'checkbox'}\n                  defaultChecked={\n                    -1 !==\n                    this.state.selectedCompetencies.indexOf(competency.id)\n                  }\n                  data-test={competency.uuid}\n                  id={competency.id}\n                  onChange={this.handleAllCheck.bind(\n                    this,\n                    competency.id,\n                    competency.uuid\n                  )}\n                />{' '}\n                {competency.title}\n                <ul style={{ marginLeft: 1 + 'em', marginBottom: 1 + 'em' }}>\n                  {frameworkDefs.map(def => {\n                    return (\n                      <div style={{ marginLeft: 1 + 'em' }}>\n                        <div>\n                          {' '}\n                          <strong>\n                            <em>{def}</em>\n                          </strong>\n                        </div>\n                        {competency.attributes\n                          .filter(attribute => attribute.type === def)\n                          .map(attribute => {\n                            return (\n                              <li\n                                key={attribute.id}\n                                style={{ marginLeft: 1 + 'em' }}\n                              >\n                                <input\n                                  type={'checkbox'}\n                                  defaultChecked={\n                                    -1 !==\n                                    this.state.selectedAttributes.indexOf(\n                                      attribute.uuid + 'id' + attribute.id\n                                    )\n                                  }\n                                  name={competency.id}\n                                  data-id={attribute.id}\n                                  data-uuid={attribute.uuid}\n                                  id={attribute.id}\n                                  onChange={this.handleAttributeClick.bind(\n                                    this,\n                                    attribute.id,\n                                    attribute.uuid\n                                  )}\n                                />{' '}\n                                {attribute.title}\n                              </li>\n                            );\n                          })}\n                      </div>\n                    );\n                  })}\n                </ul>\n              </td>\n            </tr>\n          ))}\n          <tr>\n            <td>\n              <td />\n            </td>\n          </tr>\n        </tbody>\n      ))\n    );\n\n    return (\n      <div>\n        {ListOfCompetencies}\n        <div id={'footer-button'}>\n          <button className={'button'} onClick={this.handleSelect.bind(this)}>\n            {' '}\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AttributeMap;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport ReactModal from 'react-modal';\nimport AttributeMap from './AttributeMap';\nimport Parser from 'html-react-parser';\n\nimport { apiUrl } from '../services/competency/competency';\n\nclass ResourceDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resources: [],\n      frameworks: [],\n      resourcePath: this.props.location.pathname.split('/'),\n      showModal: false,\n      selectedFramework: '',\n      updateFlag: ''\n    };\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  handleOpenModal(event, temp) {\n    this.setState({ showModal: true });\n    this.setState({ selectedFramework: event });\n    temp.preventDefault();\n    //console.log(event);\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n    this.setState({ updateFlag: true });\n  }\n\n  componentDidUpdate() {\n    if (this.state.updateFlag) {\n      this.fetchData();\n      setTimeout(() => {\n        this.setState({ updateFlag: false });\n      }, 1000);\n      console.log('componentDidUpdate');\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n\n    let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=hal_json`;\n\n    fetch(resourcesURL)\n      .then(Response => Response.json())\n      .then(findresponse3 => {\n        this.setState({ resources: findresponse3 });\n      });\n\n    fetch(`${apiUrl}/api/v1/framework?_format=json`)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          frameworks: findresponse\n        });\n      });\n  }\n\n  mappingBlock() {\n    if (localStorage.getItem('roles')) {\n      if (localStorage.getItem('roles').includes('content_manager')) {\n        return (\n          <div className={'callout white-color industry-background'}>\n            <strong> Manage competency profile </strong>\n            <ul>\n              {this.state.frameworks.map((item, id) => {\n                return (\n                  <li style={{ display: 'inline', margin: '5px' }}>\n                    <a // eslint-disable-line jsx-a11y/anchor-is-valid\n                      onClick={this.handleOpenModal.bind(\n                        this,\n                        item.name.toLowerCase()\n                      )}\n                    >\n                      {' '}\n                      <i className=\"fas fa-tags\" /> {item.name}{' '}\n                    </a>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        );\n      }\n    }\n  }\n\n  render() {\n    let attributes = [];\n    let selectedCompetencies = [];\n    let attribute_types = [];\n    //console.log(this.state.resources);\n    const Resource = this.state.resources.map((item, index) => {\n      if (item.id === this.state.resourcePath[2]) {\n        item.competency_profile.map(profile =>\n          profile.domains.map(domain =>\n            domain.competencies.map(competency =>\n              //selectedCompetencies.push(),\n              competency.attributes.map(\n                attribute =>\n                  attributes.push(attribute.uuid + 'id' + attribute.id),\n                selectedCompetencies.push(competency.id)\n              )\n            )\n          )\n        );\n\n        //console.log(attributes);\n\n        return (\n          <div>\n            <div>\n              <div className={'row'}>\n                <h2>{item.title}</h2>\n              </div>\n\n              <div className={'row'}>\n                <div className={'column large-9'}>\n                  <div className={'callout'}>\n                    {item.date ? (\n                      <p>\n                        <strong>Date:</strong> {item.dates}\n                      </p>\n                    ) : (\n                      ''\n                    )}\n                    {item.keywords ? (\n                      <p>\n                        <strong>Keywords:</strong> {item.keywords}\n                      </p>\n                    ) : (\n                      ''\n                    )}\n                    {item.location ? (\n                      <p>\n                        <strong>Location:</strong> {item.location}\n                      </p>\n                    ) : (\n                      ''\n                    )}\n                    {item.type ? (\n                      <p>\n                        <strong>Type:</strong> {item.type}\n                      </p>\n                    ) : (\n                      ''\n                    )}\n                    {item.url ? (\n                      <p>\n                        <strong> URL: </strong>{' '}\n                        <a href={item.url} target={'_blank'}>\n                          {item.url}\n                        </a>\n                      </p>\n                    ) : (\n                      ''\n                    )}\n                  </div>\n                  <h3>Overview</h3>\n                  {Parser(item.description)}\n\n                  {item.target_audience\n                    ? Parser('<h3>Target Audience</h3>' + item.target_audience)\n                    : ''}\n                  {item.learning_outcomes\n                    ? Parser(\n                        '<h3>Learning Outcomes</h3>' + item.learning_outcomes\n                      )\n                    : ''}\n                  {item.organisers\n                    ? Parser('<h3>Organizers</h3>' + item.organisers)\n                    : ''}\n\n                  {item.trainers\n                    ? Parser('<h3>Trainers</h3>' + item.trainers)\n                    : ''}\n                  <h3>Competency Profile</h3>\n                  <table className={'hover'}>\n                    <tbody>\n                      {item.competency_profile.map(profile => {\n                        return (\n                          <tr>\n                            {this.state.frameworks.map(framework => {\n                              if (framework.id === profile.id) {\n                                framework.attribute_types.map(type =>\n                                  attribute_types.push(type.title)\n                                );\n                              }\n                              return null;\n                            })}\n                            <td>\n                              <h4>{profile.title}</h4>\n                            </td>\n                            <td>\n                              {profile.domains.map(domain => (\n                                <div>\n                                  <h5>{domain.title}</h5>\n                                  <ul>\n                                    {domain.competencies.map(competency => (\n                                      <li>\n                                        <strong> {competency.title}</strong>\n                                        <ul>\n                                          {attribute_types.map(type => (\n                                            <span>\n                                              {competency.attributes.map(\n                                                attribute => {\n                                                  if (attribute.type === type) {\n                                                    return (\n                                                      <li>\n                                                        {' '}\n                                                        <em>{type}</em> -{' '}\n                                                        {attribute.title}\n                                                      </li>\n                                                    );\n                                                  }\n                                                  return null;\n                                                }\n                                              )}\n                                            </span>\n                                          ))}\n                                        </ul>\n                                      </li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              ))}\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div\n                  className={\n                    'column large-3 callout industry-background white-color'\n                  }\n                >\n                  <h3>More information</h3>\n                  <p>\n                    We can place some relevant information in this block to make\n                    the page look more beautiful\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      }\n      return null;\n    });\n\n    return (\n      <div className={'row'}>\n        <div className={'column large-12'}>\n          {Resource}\n          {this.mappingBlock()}\n        </div>\n\n        <div style={{ overflow: 'scroll' }}>\n          <ReactModal\n            isOpen={this.state.showModal}\n            className=\"Modal\"\n            overlayClassName=\"Overlay\"\n            contentLabel=\"Minimal Modal Example\"\n          >\n            <div>\n              <h2 style={{ 'text-align': 'center' }}>\n                Manage competency profile for{' '}\n                {this.state.selectedFramework.toUpperCase()}{' '}\n                <i\n                  className=\"fas fa-window-close float-right\"\n                  data-close\n                  onClick={this.handleCloseModal}\n                />{' '}\n              </h2>\n            </div>\n            <table>\n              <AttributeMap\n                selectedCompetencies={selectedCompetencies}\n                selectedAttributes={attributes}\n                selectedFramework={this.state.selectedFramework}\n                resourceID={this.state.resourcePath[2]}\n                handleCloseModal={this.handleCloseModal}\n              />\n            </table>\n          </ReactModal>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst ResDetails = () => (\n  <Switch>\n    <Route exact path=\"/training-resources/:id\" component={ResourceDetails} />\n  </Switch>\n);\n\nexport default ResDetails;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport { Link } from 'react-router-dom';\n\nimport { apiUrl } from '../services/competency/competency';\n\nclass ResourcesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resources: [],\n      filterType: ''\n    };\n    this.archiveHandle = this.archiveHandle.bind(this);\n  }\n\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\n      alert(\n        'You are not authorised to access this page. Contact the administrator'\n      );\n      this.props.history.push('/');\n    }\n    console.log(localStorage.getItem('roles'));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.updateFlag) {\n      this.fetchData();\n      setTimeout(() => {\n        this.setState({ updateFlag: false });\n      }, 1000);\n      console.log('componentDidUpdate');\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n\n    let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\n    fetch(resourcesURL)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          resources: findresponse\n        });\n      });\n  }\n\n  filter(e) {\n    this.setState({ filter: e.target.value });\n  }\n\n  filterTypeHandle(e) {\n    this.setState({ filterType: e.target.value });\n  }\n\n  archiveHandle(rid, status, event) {\n    //alert(\"competency \"+ cid+ \"is \"+ status);\n    let archivedStatus = '';\n    if (status === 1) {\n      archivedStatus = false;\n    } else {\n      archivedStatus = true;\n    }\n    let token = localStorage.getItem('csrf_token');\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\n      credentials: 'include',\n      method: 'PATCH',\n      cookies: 'x-access-token',\n      headers: {\n        Accept: 'application/hal+json',\n        'Content-Type': 'application/hal+json',\n        'X-CSRF-Token': token,\n        Authorization: 'Basic'\n      },\n      body: JSON.stringify({\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/node/training_resource`\n          }\n        },\n        field_archived: [\n          {\n            value: archivedStatus\n          }\n        ],\n        type: [\n          {\n            target_id: 'training_resource'\n          }\n        ]\n      })\n    });\n\n    this.setState({ updateFlag: true });\n\n    event.preventDefault();\n  }\n\n  render() {\n    this.checkUser();\n    let resources = this.state.resources;\n    if (this.state.filter) {\n      resources = resources.filter(\n        item =>\n          item.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n          item.description\n            .toLocaleLowerCase()\n            .includes(this.state.filter.toLowerCase())\n      );\n    }\n\n    if (this.state.filterType !== 'All') {\n      resources = resources.filter(item =>\n        item.type\n          .toLocaleLowerCase()\n          .includes(this.state.filterType.toLowerCase())\n      );\n    }\n\n    const ListOfResources = resources.map((item, index) => (\n      <tr key={index}>\n        <td>{index + 1} </td>\n        <td>\n          {' '}\n          <h4>\n            {' '}\n            <Link to={'/training-resources/' + item.id}>{item.title} </Link>\n          </h4>\n          <p>{item.dates} </p>\n          <strong>Learning resource type:</strong> {item.type} <br />\n          {Parser(item.description.substr(0, 240) + '...')} <br />\n          <br />\n          <strong> URL: </strong>{' '}\n          <a href={item.url} target={'_blank'}>\n            {item.url}\n          </a>\n        </td>\n        <td>\n          {item.archived === '1' ? (\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\n              onClick={this.archiveHandle.bind(this, item.id, 1)}\n            >\n              {' '}\n              <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\n            </a>\n          ) : (\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\n              onClick={this.archiveHandle.bind(this, item.id, 0)}\n            >\n              {' '}\n              <i className=\"fas fa-toggle-off\" />\n            </a>\n          )}\n        </td>\n        <td>\n          <Link to={`/training-resource/edit/${item.id}`}>\n            <i className=\"fas fa-edit\" />{' '}\n          </Link>\n        </td>\n      </tr>\n    ));\n    return (\n      <div className={'row'}>\n        <h3>Training Resources</h3>\n        <div className=\"row\">\n          <div className=\"column large-8\">\n            <div>\n              <input\n                type=\"text\"\n                onChange={this.filter.bind(this)}\n                placeholder=\"Type to search\"\n              />\n            </div>\n          </div>\n          <div className=\"column large-2\">\n            <div>\n              <select ref={'type'} onChange={this.filterTypeHandle.bind(this)}>\n                <option value={'All'}>All</option>\n                <option value={'Online'}>Online</option>\n                <option value={'Face-to-Face'}>Face-to-Face</option>\n                <option value={'Webinar'}>Webinar</option>\n                <option value={'Hackathon'}>Hackathon</option>\n              </select>\n            </div>\n          </div>\n          <div className={'column large-2'}>\n            <Link\n              className={'button float-right'}\n              to={'/training-resource/create'}\n            >\n              <i className=\"fas fa-plus-circle\"> </i> Add new{' '}\n            </Link>\n          </div>\n        </div>\n\n        <table>\n          <thead>\n            <tr>\n              <th>S. No.</th>\n              <th>Details</th>\n              <th>Archive</th>\n              <th>Edit</th>\n            </tr>\n          </thead>\n          <tbody>{ListOfResources}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst Resources = () => (\n  <Switch>\n    <Route exact path=\"/all-training-resources\" component={ResourcesList} />\n  </Switch>\n);\n\nexport default Resources;\n","import React from 'react';\n\nimport { apiUrl } from '../services/competency/competency';\n\nclass ChangePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      roles: '',\n      user: ''\n    };\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n  handlePasswordChange(e) {\n    let old = this.refs.old.value;\n    let new1 = this.refs.new1.value;\n    let uid = localStorage.getItem('userid');\n    fetch(`${apiUrl}/user/` + uid + '/password?_format=json', {\n      credentials: 'include',\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRF-Token': localStorage.getItem('csrf_token')\n      },\n      body: JSON.stringify({\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/user/user`\n          }\n        },\n        old: [\n          {\n            value: old\n          }\n        ],\n        new: [\n          {\n            target_id: new1\n          }\n        ]\n      })\n    })\n      .then(resp => resp)\n      .then(data =>\n        setTimeout(() => {\n          alert('Password changed successfully');\n          window.location.reload();\n        }, 1000)\n      );\n    e.preventDefault();\n  }\n\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    this.checkUser();\n    return (\n      <div>\n        <h3>Change password:</h3>\n        <form id={'passChange'}>\n          <input type={'password'} ref={'old'} placeholder={'Old password'} />\n          <input type={'password'} ref={'new1'} placeholder={'New password'} />\n          <input type={'password'} placeholder={'Confirm new password'} />\n          <input\n            type={'button'}\n            className={'button'}\n            onClick={this.handlePasswordChange.bind(this)}\n            value={'Submit'}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default ChangePassword;\n","import React from 'react';\n\nconst About = () => (\n  <React.Fragment>\n    <h2>About competency mapper</h2>\n    <p className=\"lead\">\n      Competency mapper is a web-based tool to support the creation and\n      management of competency frameworks for professionals working in the\n      biomolecular sciences.\n    </p>\n    <h3>Anyone can..</h3>\n    <p>\n      <ul>\n        <li>\n          Explore the five competency frameworks that we currently have in the\n          system\n        </li>\n        <li>\n          Click on any competency to find the knowledge, skills and attitudes\n          (KSAs) associated with it\n        </li>\n        <li>\n          See the relationships between different competency frameworks; for\n          example, if a competency in framework 2 is derived from one in\n          framework 1, this information is captured\n        </li>\n        <li>\n          Access a list of courses that have been mapped to a particular\n          competency\n        </li>\n        <li>\n          View summary information on each of these courses, including a link\n          through to the course website\n        </li>\n      </ul>\n    </p>\n    <h3>In addition to the above, content editors can...</h3>\n    <ul>\n      <li>Map courses to any competency in the mapper</li>\n      <li>Map courses to any combination of knowledge, skills and attitudes</li>\n    </ul>\n    <h3>In addition to the above, administrators can...</h3>\n    <ul>\n      <li>Build a completely new competency framework from a blank template</li>\n      <li>Make minor updates to an existing competency framework</li>\n      <li>\n        If a competency framework has undergone major updates such as merging,\n        splitting or deprecation of competencies, create and publish a new\n        version of the framework without overwriting the previous version, and\n        without losing links to pre-existing mappings\n      </li>\n      <li>\n        Create and edit multiple personas or roles associated with a competency\n        framework\n      </li>\n      <li>\n        For each competency in an associated framework, define the level of\n        competency required by any of the personas/roles associated with it,\n        using an administrator-defined list of variables.\n      </li>\n    </ul>\n\n    <h3>What is competency?</h3>\n    <p>\n      By definition, competency is an observable ability of any professional,\n      integrating multiple components such as knowledge, skills, values and\n      attitudes. It is observable, so its acquisition can be validated\n      objectively.\n    </p>\n    <h4>Why is it relevant?</h4>\n    <p>\n      Competency provides a shared ‘currency’ applicable to learning of all\n      types and at all career stages.\n    </p>\n    <ul>\n      <li>\n        Individual professionals can use competency as a career development\n        tool: by documenting the competencies that you have gained, and the\n        evidence that you have gained them, in a competency portfolio you can\n        seek further training to fill gaps in your portfolio, or map your\n        existing portfolio to roles that you might not previously have\n        considered.\n      </li>\n      <li>\n        Professional bodies and employers can use competency to define\n        competency frameworks for different roles or professions. These provide\n        useful guidance when hiring and promoting individuals, and can also\n        provide the basis for professional recognition in regulated professions.\n      </li>\n      <li>\n        Course providers can use competency to develop training (by asking what\n        competencies their trainees need to gain) and, where appropriate, to\n        assess whether training has been effective.\n      </li>\n    </ul>\n\n    <h3>What is a competency framework?</h3>\n    <p>\n      A competency framework defines the competencies required to fulfil a\n      particular role. competency frameworks are typically defined by\n      professional bodies or learned societies in collaboration with employers.\n      Several projects under the EU’s Horizon 2020 framework have developed\n      competency frameworks to support emerging professions.\n    </p>\n\n    <h3>Who is developing the competency mapper?</h3>\n    <p>\n      The competency mapper is being developed by the{' '}\n      <a\n        href={'https://www.ebi.ac.uk/about/people/cath-brooksbank'}\n        target={'_blank'}\n      >\n        {' '}\n        EMBL-EBI training team{' '}\n      </a>{' '}\n      with the{' '}\n      <a href={'https://bioexcel.eu/'} target={'_blank'}>\n        {' '}\n        BioExcel{' '}\n      </a>{' '}\n      competency framework as its primary use case.{' '}\n    </p>\n    <p>\n      EMBL-EBI’s Training programme uses a competency-based approach to\n      developing new courses: put simply, we ask ourselves ‘What competency or\n      competencies does our audience for this course need to develop?’ before we\n      create the programme and content for a new course, and before we make a\n      significant update to an existing course.\n    </p>\n    <p>\n      The team has contributed to, and helped to steer, a number of initiatives\n      to develop new training programmes by defining competency requirements in\n      relation to a specific target audience and building a competency framework\n      for that audience. Competency-based projects that we have been involved in\n      include:\n    </p>\n    <ul>\n      <li>\n        The ISCB education committee’s{' '}\n        <a href={'https://europepmc.org/articles/PMC5794068'} target={'_blank'}>\n          {' '}\n          competency framework for bioinformatics professionals{' '}\n        </a>{' '}\n      </li>\n      <li>\n        A clinical bioinformatics competency framework to support Health\n        Education England to prepare clinical practitioners for the application\n        of genomics in the healthcare service\n      </li>\n      <li>\n        The{' '}\n        <a\n          href={\n            'https://drive.google.com/file/d/0B3BA3KSKGOoQb0hvUkx3a3lMS00/view'\n          }\n          target={'_blank'}\n        >\n          {' '}\n          RItrain competency framework{' '}\n        </a>{' '}\n        for managers and leaders of research infrastructure\n      </li>\n      <li>\n        The{' '}\n        <a\n          href={'https://zenodo.org/record/154085#.WbUNUhNSwUE'}\n          target={'_blank'}\n        >\n          {' '}\n          CORBEL competency framework{' '}\n        </a>{' '}\n        for technical operators of research infrastructure\n      </li>\n      <li>\n        The{' '}\n        <a\n          href={'https://zenodo.org/record/264231#.WbUNoRNSwUE'}\n          target={'_blank'}\n        >\n          {' '}\n          BioExcel competency framework{' '}\n        </a>\n        for scientists working on biomolecular modelling and simulation\n      </li>\n      <p />\n      <p>\n        These competency frameworks were designed to be used by the training\n        communities who developed them, and openly available to anyone who might\n        find them useful, yet all too often they end up buried in a PDF file as\n        part of a project deliverable. This made us long for a web-based tool\n        that would make these frameworks,and the training associated with them,\n        readily discoverable. We therefore decided to build that tool, and\n        although it’s still in the early stages of development we’ve decided to\n        make it openly available now so that we can seek broad input to improve\n        it and make it as useful as possible to the education and training\n        community at large. If you have comments or suggestions, please{' '}\n        <a href={'mailto:competency@ebi.ac.uk'}> contact us </a>.\n      </p>\n    </ul>\n  </React.Fragment>\n);\n\nexport default About;\n","import React from 'react';\n\nimport { removeHtmlTags } from '../../services/util/util';\n\nimport { Link } from 'react-router-dom';\n\nfunction FrameworkButton({ framework }) {\n  let description = removeHtmlTags(framework.field_description);\n  if (description.length > 120) {\n    description = `${description.slice(0, 120).trim()}...`;\n  }\n  return (\n    <div className=\"column medium-4\">\n      <Link\n        className=\"column callout\"\n        data-equalizer-watch\n        to={`/framework/${framework.title.toLowerCase()}`}\n      >\n        <img\n          className=\"float-center margin-bottom-medium\"\n          style={{ height: '6rem' }}\n          src={`http://dev-competency-mapper.pantheonsite.io/${\n            framework.field_logo\n          }`}\n          alt=\"competency logo\"\n        />\n        <h5>\n          {description}\n          <i className=\"icon icon-functional\" data-icon=\">\" />\n        </h5>\n      </Link>\n    </div>\n  );\n}\n\nexport default FrameworkButton;\n","import React from 'react';\n\nimport FrameworkButton from '../framework-button/FrameworkButton';\n\nconst $ = window.$;\n\nfunction FrameworkButtons({ frameworks }) {\n  const selfRef = new React.createRef();\n\n  const invokeFoundation = () => {\n    window.setTimeout(() => $(selfRef.current).foundation());\n    return frameworks.map(framework => (\n      <FrameworkButton key={framework.nid} framework={framework} />\n    ));\n  };\n\n  return frameworks.length < 1 ? null : (\n    <div className=\"row\" data-equalizer ref={selfRef}>\n      {invokeFoundation()}\n    </div>\n  );\n}\n\nexport default FrameworkButtons;\n","import React, { Component } from 'react';\n\nimport FrameworkButtons from '../components/framework-buttons/FrameworkButtons';\nimport { Link } from 'react-router-dom';\n\nimport { withSnackbar } from 'notistack';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport CompetencyService from '../services/competency/competency';\n\nclass Frameworks extends Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  state = {\n    frameworks: []\n  };\n\n  async componentDidMount() {\n    try {\n      this.activeRequests.startRequest();\n      const frameworks = await this.competencyService.getAllFrameworksDetails();\n      this.setState({ frameworks });\n    } catch (error) {\n      this.props.enqueueSnackbar('Unable to fetch framework data', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  render() {\n    const { frameworks } = this.state;\n\n    return (\n      <div className=\"column\">\n        <h3>Overview</h3>\n        <p className=\"lead\">\n          Competency mapper is a web-based tool to support the creation and\n          management of competency frameworks for professionals working in the\n          biomolecular sciences{' '}\n          <Link to=\"/about\" className=\"readmore\">\n            read more{' '}\n          </Link>\n        </p>\n\n        <FrameworkButtons frameworks={frameworks} />\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(Frameworks);\n","import { apiUrl } from '../competency/competency';\nimport HttpService from '../http/http';\n\nconst http = new HttpService();\nconst loginUrl = `${apiUrl}/user/login?_format=json`;\nconst logoutUrl = `${apiUrl}/user/logout`;\n\nexport async function login(username, password) {\n  const credentials = { name: username, pass: password };\n  try {\n    const response = await http.post(loginUrl, credentials);\n    const { data } = response;\n    localStorage.setItem('roles', data.current_user.roles);\n    localStorage.setItem('csrf_token', data.csrf_token);\n    localStorage.setItem('logout_token', data.logout_token);\n    localStorage.setItem('user', data.current_user.name);\n    localStorage.setItem('userid', data.current_user.uid);\n    return data;\n  } catch (error) {\n    logout();\n    throw error;\n  }\n}\n\nexport function logout() {\n  localStorage.removeItem('roles');\n  localStorage.removeItem('csrf_token');\n  localStorage.removeItem('logout_token');\n  localStorage.removeItem('userid');\n  localStorage.removeItem('user');\n  return http.post(logoutUrl);\n}\n","import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Masthead from '../containers/masthead/Masthead';\nimport ManageAttributes from './ManageAttributes';\nimport ManageCompetencies from './ManageCompetencies';\nimport CompetencyDetails from './CompetencyDetails';\nimport Competencies from './CompetencyList';\nimport ResourceEdit from './ResourceEdit';\nimport ResourceCreate from './ResourceCreate';\nimport ResourceDetails from './ResourceDetails';\nimport ResourcesList from './ResourcesList';\nimport ChangePassword from './ChangePassword';\nimport About from '../components/about/About';\nimport Frameworks from './Frameworks';\n\nimport { SnackbarProvider } from 'notistack';\nimport { login, logout } from '../services/auth/auth';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nconst $ = window.$;\n\nclass Root extends Component {\n  state = {\n    isActive: false,\n    roles: localStorage.getItem('roles') || '',\n    user: localStorage.getItem('user') || ''\n  };\n  activeRequests = new ActiveRequestsService();\n\n  componentDidMount() {\n    $(document).foundation();\n    $(document).foundationExtendEBI();\n\n    this.setState({ isActive: this.activeRequests.isActive });\n    this.subcription = this.activeRequests.addEventListener(\n      this.handleActiveRequests\n    );\n\n    window.addEventListener('storage', this.detectUserChangesFromOtherTabs);\n  }\n\n  componentWillUnmount() {\n    if (this.subcription) {\n      this.activeRequests.removeEventListener(this.subcription);\n    }\n    window.removeEventListener('storage', this.detectUserChangesFromOtherTabs);\n  }\n\n  handleActiveRequests = hasPendingRequests => {\n    this.setState({ isActive: hasPendingRequests });\n    console.log('isActive', hasPendingRequests);\n  };\n\n  detectUserChangesFromOtherTabs = ({ key, newValue }) => {\n    if (key === 'user') {\n      if (newValue) {\n        this.setState({\n          user: localStorage.getItem('user'),\n          roles: localStorage.getItem('roles')\n        });\n      } else {\n        this.setState({ user: '', roles: '' });\n      }\n    }\n  };\n\n  handleLogin = async (username, password) => {\n    try {\n      await login(username, password);\n      this.setState({\n        user: localStorage.getItem('user'),\n        roles: localStorage.getItem('roles')\n      });\n    } catch (error) {\n      window.console.error(error);\n      if (error.response) {\n        switch (error.response.status) {\n          case 400:\n            window.alert(error.response.data.message);\n            return;\n          default:\n            window.alert(\n              'Sorry, there was an unknown login problem, please try again.'\n            );\n        }\n        window.alert(\n          'Sorry, there was an unknown login problem, please try again.'\n        );\n      }\n    }\n  };\n\n  handleLogout = () => {\n    this.setState({ user: '', roles: '' });\n    logout();\n  };\n\n  render() {\n    const { isActive, roles, user } = this.state;\n    return (\n      <>\n        <SnackbarProvider\n          maxSnack={1}\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n          preventDuplicate\n        >\n          <Masthead\n            roles={roles}\n            user={user}\n            isActive={isActive}\n            onLogin={this.handleLogin}\n            onLogout={this.handleLogout}\n          />\n\n          <section id=\"main-content-area\" className=\"row\" role=\"main\">\n            <main className=\"column\">\n              <Switch>\n                <ProtectedRoute\n                  condition={!!user && roles.includes('content_manager')}\n                  path=\"/training-resource/edit/:nid\"\n                  component={ResourceEdit}\n                />\n                <ProtectedRoute\n                  condition={!!user && roles.includes('content_manager')}\n                  path=\"/training-resource/create\"\n                  component={ResourceCreate}\n                />\n                <Route\n                  path=\"/training-resources/:id\"\n                  component={ResourceDetails}\n                />\n                <Route\n                  path=\"/all-training-resources\"\n                  component={ResourcesList}\n                />\n                <ProtectedRoute\n                  condition={!!user && roles.includes('framework_manager')}\n                  path=\"/framework/:framework/manage/competencies/:cid/manage-attributes\"\n                  component={ManageAttributes}\n                />\n                <ProtectedRoute\n                  condition={!!user && roles.includes('framework_manager')}\n                  path=\"/framework/:framework/manage/competencies/:domainId?\"\n                  component={ManageCompetencies}\n                />\n                <Route\n                  path=\"/framework/:framework/competency/details/:cid\"\n                  component={CompetencyDetails}\n                />\n                <Route path=\"/framework/:framework\" component={Competencies} />\n                <Route\n                  path=\"/user/change/password\"\n                  component={ChangePassword}\n                />\n                <Route path=\"/about\" component={About} />\n                <Route path=\"/\" component={Frameworks} />\n              </Switch>\n            </main>\n          </section>\n        </SnackbarProvider>\n      </>\n    );\n  }\n}\n\nexport default Root;\n\nclass ProtectedRoute extends Component {\n  render() {\n    const { component: Component, condition, ...props } = this.props;\n    return (\n      <Route\n        {...props}\n        render={props =>\n          condition ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\n\nimport Root from './app/containers/Root';\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Root />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meter\":\"progress-bar_meter__2axTP\",\"progress\":\"progress-bar_progress__3d3PT\"};"],"sourceRoot":""}