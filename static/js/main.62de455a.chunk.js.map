{"version":3,"sources":["app/services/http/headers.js","app/services/http/http.js","app/services/util/auth.js","app/containers/navigation/Navigation.jsx","app/containers/masthead/Masthead.jsx","shared/components/edit-inline/EditInline.tsx","app/containers/simple-form/SimpleForm.tsx","app/components/error-loading/ErrorLoading.tsx","app/containers/framework-versions/FrameworkVersions.tsx","app/services/competency/body.js","app/services/competency/competency.js","app/services/active-requests/active-requests.js","app/services/util/util.js","app/containers/ManageAttributes.jsx","app/containers/version-controls/VersionControls.tsx","app/containers/ManageCompetencies.jsx","app/containers/ManageAttribute.jsx","app/containers/ManageCompetency.jsx","app/containers/ManageDomains.jsx","app/containers/ManageData.jsx","app/services/courses/courses.js","app/services/util/slugifier.js","app/containers/CompetencyDetails.jsx","app/components/competency-list/CompetencyList.jsx","app/components/domain-list/DomainList.jsx","app/containers/courses/Courses.jsx","app/containers/ProfileList.jsx","app/containers/PathwaysList.jsx","app/components/FAIRDownload.jsx","app/containers/Copyright.jsx","app/containers/CompetencyList.jsx","app/containers/ResourceEdit.jsx","app/containers/ResourceCreate.jsx","app/containers/AttributeMap.jsx","app/containers/ResourceDetails.jsx","app/containers/ResourcesList.jsx","app/containers/ResourcesHome.jsx","app/containers/ChangePassword.jsx","app/containers/UserView.jsx","app/components/about/About.js","app/components/framework-button/FrameworkButton.jsx","app/components/framework-buttons/FrameworkButtons.jsx","app/containers/login-form/LoginForm.jsx","app/components/Footer.jsx","app/services/auth/auth.js","app/containers/Association.jsx","app/containers/Frameworks.jsx","app/containers/CompetencySettings.jsx","app/containers/AttributeSettings.jsx","app/containers/AttributeDemap.jsx","app/services/profile/body.js","app/services/profile/profile.js","app/containers/ProfileCreate.jsx","app/containers/GuestHelp.jsx","app/containers/ProfileCreateGuest.jsx","shared/components/ProfileComparisonModal.jsx","app/containers/ProfileView.jsx","app/containers/ProfilesCompareButterfly.jsx","app/containers/ProfilesCompare.jsx","app/containers/ProfileMapDownload.jsx","app/containers/ProfileViewGuest.jsx","app/containers/ProfileMapGuest.jsx","app/containers/ProfileEdit.jsx","app/containers/ProfileMap.jsx","app/containers/ProfilesCompareSummary.jsx","app/containers/Documentation.jsx","app/containers/Login.jsx","app/containers/navigation/ManageFrameworks.jsx","app/containers/Breadcrumbs.jsx","app/containers/DevelopYourCourses.jsx","app/containers/Root.jsx","index.jsx","app/containers/user_icon.png","app/components/assets/CC_BY.png","app/components/assets/european-union.png","app/components/assets/PerMedCoE.jpg","app/components/assets/Bioexcel.png"],"names":["HeadersService","Object","classCallCheck","this","instance","type","arguments","length","undefined","csfrToken","window","localStorage","getItem","Accept","Content-Type","X-CSRF-Token","Authorization","checkUser","apiUrl","process","apiUrlWithHTTP","axios","defaults","baseURL","needTimeStamp","Date","now","HttpService","headers","Headers","url","credentialType","get","withCredentials","body","option","post","patch","auth","csrf_token","currently_logged_in_user","id","username","is_logged_in","roles","getLoggedInUser","_this","Promise","resolve","reject","concat","then","response","data","user","catch","error","console","log","logout","logout_token","removeItem","Navigation","props","possibleConstructorReturn","getPrototypeOf","call","navRef","React","createRef","state","frameworks","_this2","token","fetch","method","credentials","Response","json","findresponse","setState","frameworkResources","react_default","a","createElement","Fragment","className","key","react_router_dom","to","tabIndex","style","padding","trainingResources","userDropdown","href","onClick","event","preventDefault","location","reload","cursor","includes","Component","Masthead","onLogin","password","onLogout","_callee","regenerator_default","wrap","_context","prev","next","stop","_this$props","avoidPath","pathname","bgStyle","backgroundImage","JSON","stringify","marginBottom","width","height","xmlns","d","fill","fillRule","navigation_Navigation","defaultState","oriValue","value","active","EditInline","selfRef","inputRef","toggleActive","current","contains","target","reset","_this$state","submit","change","render","staticElement","editable","_this$state2","ref","onChange","aria-label","text","document","addEventListener","removeEventListener","prevProps","prevState","setTimeout","focus","defaultProps","newValue","description","uuid","mapping","SimpleForm","currentTarget","name","defineProperty","onSubmit","onCreate","trim","setDefaultOption","options","title","placeholder","showMappingField","selectOptions","map","_ref","required","ErrorLoading","message","customStyles","content","top","left","right","bottom","marginRight","transform","border","FrameworkVersion","versions","framework","_useState","useState","_useState2","slicedToArray","showNotes","setShowNotes","_useState3","_useState4","notes","setNotes","versionItems","filter","version","number","release_notes","lib_default","isOpen","float","Parser","httpApiURl","replace","BodyService","_links","_embedded","domainId","domainUuid","_ref$mapping","draftId","draftUuid","target_id","field_map_other_competency","self","lang","_links2","_embedded2","_ref2","attributeTypeId","attributeTypeUuid","competencyId","competencyUuid","mutate","_ref3","releaseNotes","field_parent","field_release_notes","field_item","nodeId","vid","attribuiteId","_links4","_embedded4","resourceID","dates","dates2","target_audience","learning_outcomes","keywords","organisers","trainers","parentID","versionID","newData","addtional","field_type","field_additional_information","items","CompetencyService","http","Body","createAttribute","createCompetency","mutateCompetency","mutateDomain","mutateCompetencyPosition","toggleArchivingVersionedNode","attributeId","mutateAttribute","publishFramework","createDraftFramework","versionId","updateReleaseNotes","changeDomain","editResource","attribiuteId","changeAttributeSettings","resource","attributes","framework_id","createBulkData","saveSorting","ActiveRequestsService","counter","callbacks","fn","push","index","forEach","safeFlat","array","Array","prototype","flat","reduce","acc","cur","toConsumableArray","tagsReg","RegExp","nbspReg","removeHtmlTags","htmlString","replaceBy","ManageAttributes","activeRequests","competencyService","match","params","frameworkName","frameworkVersion","frameworStatus","attributeTypes","domainName","cid","competencyName","competencyData","path","split","loadingError","draftVersion","startRequest","find","attribute","fetchFramework","t0","enqueueSnackbar","variant","finishRequest","finish","scroll","loadData","fetchVersions","getAllVersionedFrameworks","allFrameworks","currentFramework","fw","toLowerCase","attribute_types","reverse","liveVersion","status","frameworkData","getVersionedDraftFramework","getVersionedFramework","competencyMatch","filterByCompetencyId","frameworkStatus","domainTitle","item","domains","domain","competencies","competency","nid","patchAttribute","position","patchAttributePosition","isArchived","attributeType","_this$state3","archived","EditInline_EditInline","editAttribute","field_number","editAttributePosition","toggleArchive","_this3","_this$state4","getAttributeRows","_this$state5","error_loading_ErrorLoading","SimpleForm_SimpleForm","getAttributeList","FrameworkVersions","withSnackbar","VersionControls","release","updateNotes","createDraft","curr","originalNotes","setVersion","_useState5","_useState6","pressedRelease","setPressedRelease","_useState7","_useState8","pressedNotes","setPressedNotes","react_ckeditor_component_lib_default","events","editor","getData","cleanNotes","ManageCompetencies","frameworkVersionId","competencyTypes","allowedFrms","releaseNewVersion","_callee2","_context2","_callee3","_context3","_callee4","_context4","refs","scrollIntoView","patchCompetency","patchCompetencyPosition","getCompetencyRows","_this4","editCompetency","editCompetencyPosition","bind","_this$state6","version_controls_VersionControls","getCompetencyList","ManageAttribute","asyncToGenerator","mark","sorting","closeModalPosition","_x","apply","showModal","parentTitle","showAttributeModal","attributeTypeTitle","newAttributes","typetitle","handleOpenAttributeModal","assertThisInitialized","handleCloseAttributeModal","OpenModalPosition","e","showModalPosition","dataset","competencyid","competencytitle","attributetype","aid","version_id","dragged","dataTransfer","effectAllowed","setData","display","parentNode","removeChild","from","Number","over","splice","insertBefore","frameworkDef","editableFrm","def","data-competencyid","data-competencytitle","data-typetitle","data-attributetype","attr","archiveAttribute","_this$props4","getAttributes","dist","open","onClose","center","classNames","overlay","modal","rows","setAttributes","saveAttributes","onDragOver","dragOver","i","listStyleType","data-position","draggable","onDragEnd","dragEnd","onDragStart","dragStart","ManageCompetency","comp","OpenModalMapping","CloseModalMapping","showModalMapping","mapped_other_competency","_this$props2","archiveCompetency","Collapsible_default","trigger","triggerWhenOpen","containers_ManageAttribute","_this$props3","getCompetencies","editMapping","activeclassName","config","toolbarGroups","groups","ManageDomains","newDomains","showModalCompetency","newCompetencies","archiveDomain","OpenModalCompetency","closeModalCompetency","handleRemoveCompetencies","setCompetencies","domainid","domaintitle","patchDomain","editDomain","data-domainid","data-domaintitle","containers_ManageCompetency","count","saveCompetencies","activeClass","paddingTop","handleAddMoreCompetencies","ManageData","_x2","_x3","parent","handleOpenModal","handleCloseModal","saveDomains","alert","_context7","containers_ManageDomains","setDomains","CoursesService","page","filterType","$framework","$competencyID","extractSlugFromBackendUrl","CompetencyDetails","coursesService","attributeDefs","resources","all","getFramework","getResources","URLSearchParams","search","element","getElementById","block","behavior","inline","getAllFrameworks","frameworkMatch","getByCompetency","string","training_resource_id","objectSpread","competencyDetails","resourceBlock","react_meta_tags_lib_default","property","history","Helmet","rel","CompetencyList","disable","trainingResourcesExist","attributesGrouped","groupBy","paddingLeft","close","parentIndex","DomainList","childIndex","components_competency_list_CompetencyList","Courses","onFilter","term","courses","filteredCourses","course","test","activePage","totalItemsCount","noResultsFound","loading","frameworkId","pageNumber","fetchData","scrollTo","getByFramework","allCourses","filterCourses","showAllTrainingResources","hitcount","filteredProfiles","competency_profile","profile","framework_label","modifiedCourse","slug","findIndex","c","competency_id","competency_label","searchSubmit","class","for","filterTypeHandle","alt","src","Pagination_default","itemsCountPerPage","pageRangeDisplayed","handlePageChange","innerClass","itemClass","itemClassPrev","itemClassNext","linkClass","prevPageText","nextPageText","ProfileList","guestProfile","setGuestProfile","profiles","setProfiles","userFrameworks","setUserFrameworks","userName","useEffect","tempguestProfile","parse","temp","checkFMAccess","image","user_icon","versionNumber","job_title","color","confirmAlert","customUI","handleDelete","publishing_status","url_alias","PathwaysList","pathways","setPathways","checkUserAccess","pathway","FAIRDownload","setHeaders","filters","setFilters","facets","setFacets","useHistory","sent","facetClick","checked","indexOf","join","action","identifiers","defaultChecked","htmlFor","columnCount","react_csv","filename","header","Copyright","marginTop","CCBY_IMG","frameworkDescription","filteredDomains","profileCount","pathwayCount","allResourcesFetched","visibleTabs","selectedTabIndex","pathnames","pathnames_count","filteredCompetencies","currentUrl","vfTabs","fetchProfiles","fetchPathways","checkForTrainingResources","setCurrentTab","findResponse","frameWorkId","versionStatus","vr","attrTypes","_this5","domainList","domain_list_DomainList","changeTabURL","children","click","react_meta_tags_lib","jsonData","desc","esm","selectedIndex","onSelect","containers_ProfileList","containers_Copyright","courses_Courses","containers_PathwaysList","components_FAIRDownload","_props$match$params","ResourceEdit","training_resource","csrf","updateFlag","training_resource_slug","d1","d2","dateValidate","end_date","data_to_send","field_dates","field_end_date","field_description","format","field_location","field_url","field_target_audience","field_learning_outcomes","field_domain_topics","field_organisers","field_trainers","redirectTo","csrfURL","findresponse2","fields","input_name","tess_id","tess_content_provider","handleSubmit","handleChange","handleCKEditorChange","EditResources","react_router","exact","component","ResourceCreate","changeTitle","changeDescription","changeType","changeTargetAudience","changeLearningOutcomes","changeOrganisers","changeTrainers","changeLocation","changeUrl","changeDates","changeDates2","changeKeywords","changeProvider","changeCategory","getAutocomplete","optionClick","tessResources","provider","providers","category","showAutocomplete","autocompleteTerm","background","backgroundSize","backgroundRepeat","backgroundPositionX","evt","newContent","accept","extraParams","selectedResource","startDate","endDate","start","slice","end","toString","venue","organizer","tess_category","charAt","toUpperCase","tess_conten_provider","cookies","field_tess_id","field_tess_category","field_tess_content_provider","_this6","showLoadingStyle","onKeyDown","CreateResources","$","AttributeMap","resourceSlug","frameworkdetails","frameworkUUID","selectedAttributes","resourceDetails","resourcePath","handleSelect","checkedAttributes","attributeIDs","attrmap","response_data","childItems","getElementsByName","getAttribute","is","lists","each","fetchFrameworkDetails","findresponse1","latest_version","detail","fetchCompetencyList","nextProps","nextState","frameworkDetails","frameworkDefs","domainsOptions","attributeTypeOptions","resDetails","selectedAttributesArray","selectedCompetenciesArray","ikey","attribute_type","data-id","ListOfCompetencies","did","data-test","handleAllCheck","marginLeft","data-uuid","handleAttributeClick","AttrMap","ResourceDetails","selectedFramework","URL","pop","getSlugFromURLBar","resourcesURL","findresponse3","margin","months","start_dt","start_day","getDate","start_month","getMonth","start_year","getFullYear","end_day","end_month","end_year","rid","archivedStatus","field_archived","check_array","isArray","Resource","archiveHandle","formatDates","mappingBlock","overflow","overlayClassName","contentLabel","text-align","data-close","containers_AttributeMap","selectedCompetencies","ResDetails","ResourcesList","filterMapping","userid","ListOfResources","maxWidth","author","filterMappingHandle","Resources","ResourcesHome","ResourcesHomepage","ChangePassword","handlePasswordChange","old","new1","uid","pass","existing","resp","UserView","setUser","setFrameworks","frm","setFrm","field_frameworks","mail","About","FrameworkButton","sub_text","card_link","aria-hidden","fill-rule","FrameworkButtons","framework_button_FrameworkButton","LoginForm","fontSize","fontWeight","OpenModal","CloseModal","autoComplete","Footer","EU","PerMed","BioExcel","backgroundColor","loginUrl","login","_login","setItem","current_user","abrupt","Association","textAlign","link","Frameworks","handleLogin","t1","framework_buttons_FrameworkButtons","masterList","login_form_LoginForm","containers_Association","components_Footer","CompetencySettings","competencyUUID","competencyTitle","frameworkList","domainID","onTextChange","competencyID","result","setMappingText","versoinManagerURL","selectedDomainID","selectedDomainUUID","field_domain","target_uuid","competency_title","domain_id","domain_title","domainOptions","domainArray","colSpan","CompetencySettingsRoot","AttributeSettings","attributeID","attributeTypeID","attributeTypeUUID","changeSettings","handleCompetencyChange","handleTypeChange","selectedCompetencyID","field_competency","selectedCompetencyUUID","selectedAttributeTypeID","field_attribute_type","selectedAttributeTypeUUID","attribute_title","attribute_type_id","attribute_type_title","competencyOptions","competencyArray","attributeTypeArray","rowSpan","AttributeSettingsRoot","AttributeDemap","demap","AttributeDemapRoot","frameworkUuid","age","currentRole","gender","jobTitle","qualification","additionalInfo","fileid","field_versions","field_age","field_current_role","field_gender","field_job_title","field_qualification_background","field_image","field_publishing_status","profileId","publishStatus","mappingBody","expertise","field_profile_mapping","ProfileService","createProfile","editProfile","mapProfile","current_role","qualification_background","additional_information","existingGuestProfile","profile_mapping","doc","jsPDF","setFont","qDim","currentDate","moment","currentTime","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","marginright","fifthCol","profileBody","pdfProfileImgHeight","selectedFile","selectedFileData","currentYAxis","setFontType","setFontSize","frameworkLogoData","pdfLogoHeight","logoData","addImage","imgData","splitTextToSize","getTextDimensions","fromHTML","h","jobTitleUnderscored","save","ProfileCreate","profileService","setTitle","setAge","setCurrentRole","setGender","_useState9","_useState10","setSelectedFile","_useState11","_useState12","setSelectedFileData","_useState13","_useState14","imgpreview","setImgpreview","_useState15","_useState16","fileSizeError","setFileSizeError","_useState17","_useState18","fileTypeError","setFileTypeError","_useState19","_useState20","setJobTitle","_useState21","_useState22","setQualification","_useState23","_useState24","setAdditionalInfo","_useState25","_useState26","setFramework","_useState27","_useState28","setProfile","_useState29","_useState30","frameworkMoreData","setFrameworkMoreData","promise1","promise2","data1","data2","response1","response2","storedProfile","bootstrap","_ref4","ver","mapDownloadProfile","mappingAttributes","Content-Disposition","fid","getWhoCreateProfile","titleCalloutClass","jobTitleCalloutClass","nameHelp","jobTitleHelp","defaultValue","files","size","reader","FileReader","img","Image","readAsDataURL","clearimgpreview","ckeditor_default","ClassicEditor","onInit","submitButtonLabel","CreateProfile","GuestHelp","modalOpen","closeModal","ProfileCreateGuest","setModelOpen","parseInt","_ref5","createGuestProfile","openModal","containers_GuestHelp","Path","WebkitOverflowScrolling","borderRadius","outline","ProfileComparisonModal","includeGuestProfile","setShowModal","currentProfile","linkVariant","onRequestClose","setSelectedProfileId","comparisonError","redirectToCompare","ProfileView","selectedProfileId","frameworkInfo","setFrameworkInfo","setComparisonError","competencyView","expertise_levels_legend","frameworkFullName","user_roles","domainsList","profilesExcludingCurrentProfile","p","getExpertise","obj","o","info","expertise_levels","level","getBarWidth","totalLevels","rating_level","infoIndex","levelIndex","data-tip","data-html","data-type","data-multiline","index_es","innerText","itemIndex","domainIndex","visibility","compIndex","typeIndex","attrIndex","getAttributeStatus","ProfileComparisonModal_ProfileComparisonModal","data-profileid","print","ViewProfile","ProfilesCompareButterfly","profile1","profile2","mapping1","mapping2","expertise_array","chart_props","includeSummary","profileid","label","frmIndex","profile1Expertise","profile2Expertise","width1","margin1","width2","floatRight","generateProfileView","textAling","handlePrint","ProfilesCompare","profile1Id","profile2Id","setProfile1","setProfile2","isGuestProfile","setIsGuestProfile","link1","setLink1","link2","setLink2","containers_ProfilesCompareButterfly","sendRoute","ProfileMapDownload","expertiseLevels","setExpertiseLevels","competencyForm","expertise_not_applicable","promiseFramework","promiseVersion","dataFramework","dataVersion","responseFramework","responseVersion","getExpertiseLevels","downloadProfileFromHtml","addCompetencyAttributes","removeCompetencyAttributes","fId","levels","margins","source","profileTitle","elementHandlers","#editor","renderer","dispose","setFieldContent","heading","field","__html","jIndex","attribute_id","prop","handleCheckboxMapping","data-competency","expertise_id","tempMap","handleMapping","data-expertise","generateForm","dangerouslySetInnerHTML","MapProfileDownload","ProfileViewGuest","data-accordion-item","ViewGuestProfile","ProfileMapGuest","setMapping","mapProfileGuest","checkboxStatus","tempMapping","handleCheckBox","disabled","attributesList","checkBoxes","querySelectorAll","arr","ProfileEdit","setFid","setPublishStatus","objectUrl","createObjectURL","EditProfile","ProfileMap","MapProfile","ProfilesCompareSummary","useLocation","summary","setSummary","profileJobTitle","resourceLink","resourceName","findResources","SummaryPath","Documentation","swagger_ui_react","spec","Login","ManageFrameworks","exportURL","Breadcrumbs","convertFrameworkName","aria-current","DevelopYourCourses","Root","isActive","handleActiveRequests","hasPendingRequests","detectUserChangesFromOtherTabs","handleLogout","subcription","build","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","containers_Breadcrumbs","masthead_Masthead","role","Root_ProtectedRoute","condition","ProtectedRoute","objectWithoutProperties","assign","root","ReactDOM","basename","containers_Root","Modal","setAppElement","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.62de455a.chunk.js","sourcesContent":["class HeadersService {\r\n  static instance;\r\n\r\n  constructor() {\r\n    if (HeadersService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    HeadersService.instance = this;\r\n  }\r\n\r\n  get(type = 'hal+json') {\r\n    const csfrToken = window.localStorage.getItem('csrf_token');\r\n    if (type === 'json') {\r\n      return {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': csfrToken,\r\n        Authorization: 'Basic'\r\n      };\r\n    }\r\n\r\n    return {\r\n      Accept: 'application/hal+json',\r\n      'Content-Type': 'application/hal+json',\r\n      'X-CSRF-Token': csfrToken,\r\n      Authorization: 'Basic'\r\n    };\r\n  }\r\n}\r\n\r\nexport default HeadersService;\r\n","import Headers from './headers';\r\nimport axios from 'axios';\r\n\r\nconst checkUser = localStorage.getItem('userid');\r\n\r\nexport const apiUrl = checkUser\r\n  ? process.env.REACT_APP_HTTPS_CMS_API_URL\r\n  : process.env.REACT_APP_PROXY_API_URL;\r\n\r\n/* note that for API requests that include the _links: {type: {href:''}} parameter, the request fails if the href value\r\nis preceded with HTTPS. it only works if HTTP is used instead. Drupal responds with an error message such as:\r\nmessage: \"Type https://cms.competency.ebi.ac.uk/rest/type/node/training_resource does not correspond to an entity on\r\nthis site.\" but when HTTP is used instead of HTTPS, Drupal is able to recognise the resource. Thus, to avoid this error,\r\nwe use process.env.REACT_APP_HTTP_CMS_API_URL as seen in the variable declared below.\r\nNOTE that, the href mentioned here is not referring to the address of the API request, rather we are referring to the\r\nhref value passed in the _links.type.href request parameter as stated above.\r\n */\r\nexport const apiUrlWithHTTP = process.env.REACT_APP_HTTP_CMS_API_URL;\r\n\r\naxios.defaults.baseURL = apiUrl;\r\n\r\nconst needTimeStamp = checkUser ? '&timestamp=' + Date.now() : '';\r\n\r\nclass HttpService {\r\n  static instance;\r\n  headers = new Headers();\r\n\r\n  constructor() {\r\n    if (HttpService.instance) {\r\n      return HttpService.instance;\r\n    }\r\n\r\n    HttpService.instance = this;\r\n  }\r\n\r\n  get(url, credentialType = '') {\r\n    if (credentialType) {\r\n      return axios.get(url, {\r\n        headers: this.headers.get(credentialType),\r\n        withCredentials: true\r\n      });\r\n    }\r\n    return axios.get(url + '&source=competencyhub' + needTimeStamp);\r\n  }\r\n\r\n  post(url, body, option = 'hal+json') {\r\n    // return axios.post(apiUrl + url, body, {\r\n    //   headers: this.headers.get(option),\r\n    //   withCredentials: true\r\n    // });\r\n    return axios.post(process.env.REACT_APP_HTTPS_CMS_API_URL + url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  patch(url, body, option = 'hal+json') {\r\n    // return axios.patch(apiUrl + url, body, {\r\n    //   headers: this.headers.get(option),\r\n    //   withCredentials: true\r\n    // });\r\n    return axios.patch(process.env.REACT_APP_HTTPS_CMS_API_URL + url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n}\r\n\r\nexport default HttpService;\r\n","import axios from 'axios';\n\nexport default {\n  csrf_token: localStorage.getItem('csrf_token'),\n  currently_logged_in_user: {\n    id: null,\n    username: '',\n    is_logged_in: false,\n    roles: []\n  },\n  getLoggedInUser() {\n    return new Promise((resolve, reject) => {\n      axios\n        .get(\n          `${process.env.REACT_APP_HTTPS_CMS_API_URL}/api/users?_format=json`,\n          {\n            withCredentials: true\n          }\n        )\n        .then(response => {\n          this.currently_logged_in_user = response.data.user;\n          resolve(response.data.user);\n        })\n        .catch(error => {\n          console.log('error caught', error);\n          reject(error);\n        });\n    });\n  },\n  logout() {\n    return new Promise((resolve, reject) => {\n      let logout_token = localStorage.getItem('logout_token');\n      axios\n        .get(\n          `${\n            process.env.REACT_APP_HTTPS_CMS_API_URL\n          }/user/logout?_format=json&token=${logout_token}&timestamp=${Date.now()}`,\n          {\n            withCredentials: true\n          }\n        )\n        .then(() => {\n          localStorage.removeItem('roles');\n          localStorage.removeItem('csrf_token');\n          localStorage.removeItem('logout_token');\n          localStorage.removeItem('userid');\n          localStorage.removeItem('user');\n          resolve();\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n};\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { apiUrl } from '../../services/http/http';\r\nimport auth from '../../services/util/auth';\r\n\r\nclass Navigation extends Component {\r\n  navRef = React.createRef();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: this.props.user,\r\n      frameworks: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/api/authorisation/${this.state.user}?_format=json`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: {\r\n        'X-CSRF-Token': token\r\n      }\r\n    })\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n      });\r\n  }\r\n  render() {\r\n    const { roles } = this.props;\r\n    const frameworkResources = (\r\n      <>\r\n        <li className=\"vf-list__item\" key=\"navigation\">\r\n          <Link\r\n            className=\"vf-link\"\r\n            to=\"/manage-frameworks\" // eslint-disable-line jsx-a11y/anchor-is-valid\r\n            tabIndex=\"0\"\r\n          >\r\n            Manage frameworks\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          |\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    const trainingResources = (\r\n      <>\r\n        <li className=\"vf-list__item\" key=\"resources\">\r\n          <Link className=\"vf-link\" to=\"/all-training-resources\">\r\n            Manage Training Resources\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          |\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    const userDropdown = (\r\n      <>\r\n        <li\r\n          className=\"vf-list__item\"\r\n          key=\"myaccount\"\r\n          style={{ padding: '5px' }}\r\n        >\r\n          <Link className=\"vf-link\" to={'/user/view'}>\r\n            My account\r\n          </Link>\r\n        </li>\r\n        <li\r\n          className=\"vf-list__item\"\r\n          key=\"changepwd\"\r\n          style={{ padding: '5px' }}\r\n        >\r\n          <Link className=\"vf-link\" to={'/user/change/password'}>\r\n            Change password\r\n          </Link>\r\n        </li>\r\n        <li className=\"vf-list__item\" style={{ padding: '5px' }}>\r\n          <span\r\n            className=\"vf-link\"\r\n            href=\"#\" // eslint-disable-line jsx-a11y/anchor-is-valid\r\n            onClick={event => {\r\n              event.preventDefault();\r\n              auth.logout().then(() => {\r\n                window.location.reload();\r\n              });\r\n            }}\r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            Logout\r\n          </span>\r\n        </li>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"vf-breadcrumbs\">\r\n          <ul className=\"vf-breadcrumbs__list | vf-list vf-list--inline\">\r\n            {roles.includes('framework_manager') && frameworkResources}\r\n            {roles.includes('content_manager') && trainingResources}\r\n            {userDropdown}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Navigation from '../navigation/Navigation';\r\n\r\nclass Masthead extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.string.isRequired,\r\n    roles: PropTypes.string.isRequired,\r\n    onLogin: PropTypes.func.isRequired,\r\n    onLogout: PropTypes.func.isRequired\r\n  };\r\n\r\n  onLogin = (username, password) => {\r\n    this.props.onLogin(username, password);\r\n  };\r\n\r\n  onLogout = async () => {\r\n    await this.props.onLogout();\r\n  };\r\n\r\n  render() {\r\n    // const { roles, user, isActive } = this.props;\r\n\r\n    const { roles, user, location } = this.props;\r\n    const avoidPath = location.pathname;\r\n\r\n    const bgStyle = {\r\n      backgroundImage:\r\n        'url(' +\r\n        JSON.stringify(\r\n          'https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg'\r\n        ) +\r\n        ')',\r\n      marginBottom: 0\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {!avoidPath.includes('profile/view') &&\r\n        !avoidPath.includes('profile/create') &&\r\n        !avoidPath.includes('profiles/compare') &&\r\n        !avoidPath.includes('profile/edit') &&\r\n        !avoidPath.includes('profile/map') &&\r\n        !avoidPath.includes('training-resources/') &&\r\n        !avoidPath.includes('competency/details') ? (\r\n          <>\r\n            <section className=\"vf-hero | vf-u-fullbleed\" style={bgStyle}>\r\n              <div className=\"vf-hero__content | vf-box | vf-stack vf-stack--400\">\r\n                <h1 className=\"vf-hero__heading\">\r\n                  {/*<a className=\"vf-hero__heading_link\" href=\"/\">*/}\r\n                  Competency Hub\r\n                  {/*</a>*/}\r\n                </h1>\r\n                <p className=\"vf-hero__subheading\">\r\n                  Browse competencies, career profiles and training resources to\r\n                  advance your career in the life sciences\r\n                </p>\r\n                {/* <p className=\"vf-hero__text\">\r\n                  Browse competencies, career profiles and training resources to advance your career in the life sciences\r\n                </p>{' '} */}\r\n                <Link className=\"vf-hero__link\" to=\"/about\">\r\n                  Learn more about competencies and the Competency Hub\r\n                  <svg\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\"\r\n                      fill=\"\"\r\n                      fillRule=\"nonzero\"\r\n                    />\r\n                  </svg>\r\n                </Link>\r\n              </div>\r\n            </section>\r\n            <div className=\"vf-grid\">\r\n              <div />\r\n              <div />\r\n              <div />\r\n              <div />\r\n              <div />\r\n              <div>\r\n                {user && roles ? (\r\n                  <Navigation\r\n                    roles={roles}\r\n                    user={user}\r\n                    onLogout={this.onLogout}\r\n                  />\r\n                ) : (\r\n                  '' // <LoginForm onSubmit={this.onLogin} />\r\n                )}\r\n                {/*<ProgressBar isActive={isActive} />*/}\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Masthead;\r\n","import React, { Component } from 'react';\r\n\r\nimport './EditInline.css';\r\n\r\nconst defaultProps = {\r\n  style: {} as Record<string, string | number>,\r\n  text: '',\r\n  change: (newValue: string) => {},\r\n  staticElement: 'div',\r\n  editable: true\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  oriValue: '',\r\n  value: '',\r\n  active: false\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class EditInline extends Component<Props, State> {\r\n  static defaultProps = defaultProps; // No idea why the props are marked as optional (see '!' in the code below)\r\n  readonly state: State = defaultState;\r\n  selfRef = React.createRef<HTMLDivElement>();\r\n  inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  componentDidMount() {\r\n    const { text } = this.props;\r\n    this.setState({ value: text!, oriValue: text! });\r\n    document.addEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props, prevState: State) {\r\n    const { active } = this.state;\r\n    if (active && !prevState.active) {\r\n      // Unable to focus on the input element.\r\n      // this.inputRef.current && this.inputRef.current.focus();\r\n\r\n      // Dirty: The only way I was able to focus on the input element.\r\n      setTimeout(\r\n        () => this.inputRef.current && this.inputRef.current.focus(),\r\n        0\r\n      );\r\n    }\r\n  }\r\n\r\n  toggleActive = (event: MouseEvent) => {\r\n    if (\r\n      this.selfRef.current &&\r\n      this.selfRef.current.contains(event.target as Node)\r\n    ) {\r\n      this.setState({ active: true });\r\n      return;\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  onChange(value: string) {\r\n    this.setState({ value });\r\n  }\r\n\r\n  reset = () => {\r\n    const { oriValue, active } = this.state;\r\n    if (active) {\r\n      this.setState({ active: false, value: oriValue });\r\n    }\r\n  };\r\n\r\n  submit = () => {\r\n    const { change } = this.props;\r\n    const { value } = this.state;\r\n    change!(value);\r\n    this.setState({ active: false, oriValue: value });\r\n  };\r\n\r\n  render = () => {\r\n    const { style, staticElement, editable } = this.props;\r\n    const { value, active } = this.state;\r\n\r\n    if (!editable) {\r\n      return React.createElement(staticElement!, { style }, value);\r\n    }\r\n\r\n    if (!active) {\r\n      return React.createElement(staticElement!, { style, ref: this.selfRef }, [\r\n        value,\r\n        <>\r\n          <i\r\n            key=\"dummy\"\r\n            className=\"icon icon-common icon-edit icon-left-spacer edit-indicator cursor\"\r\n            aria-label=\"edit\"\r\n          />\r\n          <span className=\"edit-indicator cursor\">Edit</span>\r\n        </>\r\n      ]);\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-inline-container\" ref={this.selfRef}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"inner-input vf-form__input\"\r\n          value={value}\r\n          onChange={event => this.onChange(event.target.value)}\r\n          ref={this.inputRef}\r\n          // autoFocus={true} // It only works when it is rendered after mounting\r\n        />\r\n        <div className=\"edit-inline-controls\">\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.submit}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-check\"\r\n              aria-label=\"accept changes\"\r\n            />\r\n          </button>\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.reset}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-undo\"\r\n              aria-label=\"undo changes\"\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nconst defaultProps = {\r\n  showMappingField: false\r\n};\r\n\r\ntype Props = {\r\n  title: string;\r\n  placeholder: string;\r\n  options: Record<'description' | 'uuid', string>[];\r\n  onCreate(newValue: string, uuid: string, mapping: string): any;\r\n} & Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  description: '',\r\n  uuid: '',\r\n  mapping: ''\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class SimpleForm extends Component<Props, State> {\r\n  static defaultProps = defaultProps;\r\n  readonly state = defaultState;\r\n\r\n  componentDidMount() {\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  setDefaultOption() {\r\n    const { options } = this.props;\r\n    if (options.length) {\r\n      const { uuid } = options[0];\r\n      this.setState({ uuid });\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.setState(defaultState);\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  onChange = (event: React.FormEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    event.preventDefault();\r\n    const { value } = event.currentTarget;\r\n    const name = event.currentTarget.name;\r\n    // https://github.com/Microsoft/TypeScript/issues/13948\r\n    if (name === 'uuid') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'description') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'mapping') {\r\n      this.setState({ [name]: value });\r\n    }\r\n  };\r\n\r\n  onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const { onCreate } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    if (description.trim() && uuid) {\r\n      onCreate(description, uuid, mapping);\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { title, placeholder, options, showMappingField } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    const selectOptions = options.map(({ description, uuid }) => (\r\n      <option key={uuid} value={uuid}>\r\n        {description}\r\n      </option>\r\n    ));\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"callout\">\r\n        <h4>{title}</h4>\r\n        <div className=\"row\">\r\n          <div className=\"column large-7\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder={placeholder}\r\n              name=\"description\"\r\n              value={description}\r\n              required\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className=\"column large-3\">\r\n            <select name=\"uuid\" value={uuid} required onChange={this.onChange}>\r\n              {selectOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"column large-2\">\r\n            <input type=\"submit\" className=\"button\" value=\"Create\" />\r\n          </div>\r\n          {showMappingField ? (\r\n            <div className=\"column\">\r\n              <label>\r\n                Maps to competency/attribute from other framework\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Framework (version), competency or attribute\"\r\n                  name=\"mapping\"\r\n                  value={mapping}\r\n                  onChange={this.onChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst defaultProps = {\r\n  message: 'Sorry, there was a problem when fetching the data!',\r\n  style: {} as Record<string, string | number>\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nexport const ErrorLoading: React.FC<Props> = ({ message, style }) => {\r\n  return (\r\n    <div className=\"margin-top-large callout alert\" style={style}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorLoading.defaultProps = defaultProps;\r\n\r\nexport default ErrorLoading;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport Parser from 'html-react-parser';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  versions: Version[];\r\n  framework: string;\r\n  style: string;\r\n};\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: '80%',\r\n    height: '50%',\r\n    border: '1px solid #000'\r\n  }\r\n};\r\n\r\nexport const FrameworkVersion: React.FC<Props> = ({ versions, framework }) => {\r\n  const [showNotes, setShowNotes] = useState(false);\r\n  const [notes, setNotes] = useState('');\r\n\r\n  //let versionNumber = '';\r\n\r\n  const versionItems = versions\r\n    .filter(version => version.number !== 'draft')\r\n    .map(version => (\r\n      <li key={version.id}>\r\n        <Link to={`/framework/${framework}/${version.number}`}>\r\n          {version.number}\r\n        </Link>{' '}\r\n        <button\r\n          className=\"vf-link ch_link\"\r\n          onClick={() => {\r\n            setNotes('Version: ' + version.number + version.release_notes);\r\n            setShowNotes(true);\r\n          }}\r\n        >\r\n          (release notes)\r\n        </button>\r\n      </li>\r\n    ));\r\n\r\n  return (\r\n    <>\r\n      <Modal isOpen={showNotes} style={customStyles}>\r\n        <h4>Release notes for {framework} </h4>\r\n        <div style={{ float: 'right' }}>\r\n          <button\r\n            className=\"button\"\r\n            onClick={() => {\r\n              setNotes('');\r\n              setShowNotes(false);\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        </div>\r\n        {Parser(notes)}\r\n        {versionItems}\r\n        <div className=\"padding-top-large\">\r\n          <button\r\n            className=\"button\"\r\n            onClick={() => {\r\n              setNotes('');\r\n              setShowNotes(false);\r\n            }}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n      <div>\r\n        <h3 className=\"vf-u-type__text-heading--4\">Framework versions</h3>\r\n        {versions.length === 0 ? (\r\n          'No previous versions'\r\n        ) : (\r\n          <ul>{versionItems}</ul>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FrameworkVersion;\r\n","import { apiUrl } from '../http/http';\r\n//requests fail when https is included in _links.type.href below\r\n//so we moved changed the value of apiUrl to exclude the s and only have http\r\nconst httpApiURl = apiUrl.replace('https', 'http');\r\n\r\nclass BodyService {\r\n  static createCompetency({\r\n    description,\r\n    domainId,\r\n    domainUuid,\r\n    mapping = '',\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/competency`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'competency'\r\n        }\r\n      ],\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static createAttribute({\r\n    description,\r\n    attributeTypeId,\r\n    attributeTypeUuid,\r\n    competencyId,\r\n    competencyUuid,\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/attribute`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'attribute'\r\n        }\r\n      ],\r\n\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static mutateCompetency(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateCompetencyPosition(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateAttribute(key, value) {\r\n    return BodyService.mutate(key, value, 'attribute');\r\n  }\r\n\r\n  static mutateDomain(key, value) {\r\n    return BodyService.mutate(key, value, 'domain');\r\n  }\r\n  // https://cms.competency.ebi.ac.uk\r\n  static mutate(key, value, target) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/${target}`\r\n          // href: `http://cms.competency.ebi.ac.uk/rest/type/node/${target}`\r\n        }\r\n      },\r\n      [key]: [\r\n        {\r\n          value: value\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: target\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static publishFramework(framework, version, releaseNotes) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: releaseNotes\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: version\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createDraftFramework(framework) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: 'draft'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static toggleArchivingVersionedNode(framework, nodeId) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: nodeId\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static updateReleaseNotes(notes) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href:\r\n            //'https://dev-competency-mapper.pantheonsite.io/rest/type/taxonomy_term/version'\r\n            `${httpApiURl}/rest/type/taxonomy_term/version`\r\n        }\r\n      },\r\n      vid: [\r\n        {\r\n          target_id: 'version'\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: notes\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  // Change domain service\r\n\r\n  static changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/competency`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n        }\r\n      },\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      type: {\r\n        target_id: 'competency'\r\n      },\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  // Change competency service\r\n\r\n  static changeAttributeSettings(\r\n    attribuiteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${httpApiURl}/node/${attribuiteId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/attribute`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n        }\r\n      },\r\n      type: {\r\n        target_id: 'attribute'\r\n      },\r\n      _embedded: {\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${httpApiURl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${httpApiURl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${httpApiURl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${httpApiURl}/rest/type/node/training_resource`\r\n        }\r\n      },\r\n      title: [\r\n        {\r\n          value: title\r\n        }\r\n      ],\r\n\r\n      type: [\r\n        {\r\n          target_id: 'training_resource'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createBulkData(parentID, versionID, newData, type, addtional) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: newData\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: parentID\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: versionID\r\n        }\r\n      ],\r\n      field_type: [\r\n        {\r\n          value: type\r\n        }\r\n      ],\r\n      field_additional_information: [\r\n        {\r\n          value: addtional\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static saveSorting(items) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: items\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\nexport default BodyService;\r\n","import HttpService from '../http/http';\r\nimport Body from './body';\r\n\r\nclass CompetencyService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor() {\r\n    if (CompetencyService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CompetencyService.instance = this;\r\n  }\r\n\r\n  async getFramework(framework) {\r\n    const response = await this.http.get(\r\n      `/api/v1/framework/${framework}?_format=json`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedDraftFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/edit?_format=json&timestamp=${Date.now()}`,\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/${version}?_format=json`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getAllFrameworks() {\r\n    const response = await this.http.get(`/api/v1/framework?_format=json`);\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getAllVersionedFrameworks() {\r\n    // const response = await this.http.get(\r\n    //   `/api/version_manager?_format=json&timestamp=${Date.now()}`\r\n    // );\r\n    const response = await this.http.get(`/api/version_manager?_format=json`);\r\n    return response.data;\r\n  }\r\n\r\n  async createAttribute(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createAttribute(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async createCompetency(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createCompetency(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetency(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetency(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchDomain(domainId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${domainId}?_format=hal_json`,\r\n      Body.mutateDomain(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetencyPosition(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetencyPosition(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async toggleArchivingVersionedNode(framework, nodeId) {\r\n    const response = await this.http.patch(\r\n      `/api/${framework}/edit?_format=json`,\r\n      Body.toggleArchivingVersionedNode(framework, nodeId),\r\n      'json'\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttribute(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttributePosition(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async publishFramework(framework, version, releaseNotes) {\r\n    const response = await this.http.patch(\r\n      '/api/version_manager?_format=json',\r\n      Body.publishFramework(framework, version, releaseNotes),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createDraftFramework(framework) {\r\n    const response = await this.http.post(\r\n      '/api/version_manager?_format=json',\r\n      Body.createDraftFramework(framework),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async updateReleaseNotes(notes, versionId) {\r\n    const response = await this.http.patch(\r\n      `/taxonomy/term/${versionId}?_format=hal_json`,\r\n      Body.updateReleaseNotes(notes)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.changeDomain(competencyId, domainId, domainUuid, mapping)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${resourceID}?_format=hal_json`,\r\n      Body.editResource(\r\n        resourceID,\r\n        title,\r\n        dates,\r\n        dates2,\r\n        type,\r\n        description,\r\n        location,\r\n        url,\r\n        target_audience,\r\n        learning_outcomes,\r\n        keywords,\r\n        organisers,\r\n        trainers\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeAttributeSettings(\r\n    attribiuteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${attribiuteId}?_format=hal_json`,\r\n      Body.changeAttributeSettings(\r\n        attribiuteId,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async demap(resource, items) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&items=` +\r\n        items +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async attrmap(resource, attributes, framework_id) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&attributes=` +\r\n        attributes +\r\n        `&framework_id=` +\r\n        framework_id +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createBulkData(parentID, versionID, newData, type, addtional) {\r\n    const response = await this.http.post(\r\n      '/api/data_manager?_format=json',\r\n      Body.createBulkData(parentID, versionID, newData, type, addtional),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async saveSorting(items) {\r\n    const response = await this.http.patch(\r\n      '/api/data_manager?_format=json',\r\n      Body.saveSorting(items),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default CompetencyService;\r\n","class ActiveRequestsService {\r\n  static instance;\r\n  counter = 0;\r\n  callbacks = [];\r\n\r\n  get isActive() {\r\n    return !!this.counter;\r\n  }\r\n\r\n  constructor() {\r\n    if (ActiveRequestsService.instance) {\r\n      return ActiveRequestsService.instance;\r\n    }\r\n\r\n    ActiveRequestsService.instance = this;\r\n  }\r\n\r\n  addEventListener(fn) {\r\n    return this.callbacks.push(fn);\r\n  }\r\n\r\n  removeEventListener(index) {\r\n    return delete this.callbacks[index - 1];\r\n  }\r\n\r\n  startRequest() {\r\n    if (this.counter === 0) {\r\n      this.callbacks.forEach(fn => fn && fn(true));\r\n    }\r\n    ++this.counter;\r\n  }\r\n\r\n  finishRequest() {\r\n    if (this.counter === 1) {\r\n      this.callbacks.forEach(fn => fn && fn(false));\r\n    }\r\n\r\n    if (this.counter > 0) {\r\n      --this.counter;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ActiveRequestsService;\r\n","// In modern browser (es2018), instead of `reduce` it is possible to call `flat`\r\nexport const safeFlat = array =>\r\n  Array.prototype.flat\r\n    ? array.flat()\r\n    : array.reduce((acc, cur) => [...acc, ...cur], []);\r\n\r\nconst tagsReg = new RegExp('</?.+?/?>', 'g');\r\nconst nbspReg = /&nbsp;/g;\r\n\r\nexport const removeHtmlTags = (htmlString, replaceBy = '') =>\r\n  htmlString.replace(tagsReg, replaceBy).replace(nbspReg, ' ');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat } from '../services/util/util';\r\n\r\nclass ManageAttributes extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    // framework level\r\n    framework: this.props.match.params.framework,\r\n    frameworkName: '',\r\n    frameworkVersion: '',\r\n    frameworStatus: '',\r\n    attributeTypes: [], // defined at framework level\r\n    versions: [],\r\n\r\n    // domain level\r\n    domainId: '',\r\n    domainName: '',\r\n\r\n    // competency level\r\n    competencyId: this.props.match.params.cid,\r\n    competencyUuid: '',\r\n    competencyName: '',\r\n    competencyData: [],\r\n\r\n    path: this.props.location.pathname.split('/'),\r\n\r\n    loadingError: false,\r\n    editable: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scroll(0, 0);\r\n    this.loadData();\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions() {\r\n    const { framework } = this.state;\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const attributeTypes = currentFramework[0].attribute_types.map(\r\n        attribute => ({ description: attribute.title, uuid: attribute.uuid })\r\n      );\r\n      this.setState({\r\n        versions: currentFramework[0].versions.reverse(),\r\n        attributeTypes\r\n      });\r\n    }\r\n  }\r\n\r\n  async fetchFramework() {\r\n    const { framework, versions, competencyId } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    const competencyMatch = this.filterByCompetencyId(\r\n      frameworkData,\r\n      competencyId\r\n    );\r\n\r\n    if (competencyMatch.length) {\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        domainName: competencyMatch[0].domainTitle,\r\n        domainId: competencyMatch[0].domainId,\r\n        competencyUuid: competencyMatch[0].uuid,\r\n        competencyName: competencyMatch[0].title,\r\n        competencyData: competencyMatch[0],\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  filterByCompetencyId(data, id) {\r\n    return safeFlat(\r\n      data.map(item =>\r\n        safeFlat(\r\n          item.domains.map(domain =>\r\n            domain.competencies\r\n              .filter(competency => competency.id === id)\r\n              .map(competency => {\r\n                competency.domainTitle = domain.title;\r\n                competency.domainId = domain.nid;\r\n                return competency;\r\n              })\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  createAttribute = async (description, attributeTypeUuid, mapping) => {\r\n    const {\r\n      competencyId,\r\n      competencyUuid,\r\n      attributeTypes,\r\n      versions\r\n    } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const attributeTypeId = attributeTypes.find(\r\n        attribute => attribute.uuid === attributeTypeUuid\r\n      ).id;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createAttribute({\r\n        description,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editAttribute(attributeId, title) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(attributeId, 'title', title);\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editAttributePosition(attributeId, position) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttributePosition(\r\n        attributeId,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(attributeId, isArchived) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(\r\n        attributeId,\r\n        'field_archived',\r\n        isArchived === '1' ? false : true\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  getAttributeRows(attributeType) {\r\n    const { competencyData, editable } = this.state;\r\n\r\n    return competencyData.attributes\r\n      .filter(attribute => attribute.type === attributeType.description)\r\n      .map(attribute => {\r\n        if (editable) {\r\n          return (\r\n            <tr key={attribute.uuid}>\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.title}\r\n                  change={newValue =>\r\n                    this.editAttribute(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.field_number}\r\n                  change={newValue =>\r\n                    this.editAttributePosition(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td>\r\n                <button\r\n                  className=\"cursor\"\r\n                  onClick={() =>\r\n                    this.toggleArchive(attribute.id, attribute.archived)\r\n                  }\r\n                >\r\n                  {attribute.archived === '1' ? (\r\n                    <span className=\"fas fa-toggle-on\">\r\n                      <span>Archived</span>\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"fas fa-toggle-off\" />\r\n                  )}\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <Link\r\n                  to={`/framework/${this.state.framework}/competency/${\r\n                    this.state.competencyId\r\n                  }/attribute/${attribute.id}/settings`}\r\n                >\r\n                  <i className=\"fas fa-cog\" />\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          );\r\n        }\r\n\r\n        if (attribute.archived === '1') {\r\n          return null;\r\n        }\r\n        return (\r\n          <tr key={attribute.uuid}>\r\n            <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={attribute.title}\r\n                change={newValue => this.editAttribute(attribute.id, newValue)}\r\n                editable={editable}\r\n              />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n  }\r\n\r\n  getAttributeList() {\r\n    const { attributeTypes, editable } = this.state;\r\n    return attributeTypes.map(attributeType => (\r\n      <React.Fragment key={attributeType.uuid}>\r\n        <tr className=\"secondary-background-important white-color\">\r\n          <td>\r\n            <strong>\r\n              <em>{attributeType.description}</em>\r\n            </strong>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getAttributeRows(attributeType)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      attributeTypes,\r\n      versions,\r\n      domainId,\r\n      domainName,\r\n      competencyName,\r\n      competencyData,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (competencyData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage attributes</h2>\r\n        <h4>\r\n          <Link to={`/framework/${framework}/manage/competencies`}>\r\n            {frameworkName}\r\n          </Link>\r\n          {' / '}\r\n          <Link to={`/framework/${framework}/manage/competencies/${domainId}`}>\r\n            {domainName}\r\n          </Link>\r\n          {' / '}\r\n          {competencyName}\r\n        </h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new attribute\"\r\n            placeholder=\"Attribute description\"\r\n            options={attributeTypes}\r\n            onCreate={this.createAttribute}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getAttributeList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageAttributes);\r\n","import React, { FC, useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport CKEditor from 'react-ckeditor-component';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  release(version: string, notes: string): void;\r\n  updateNotes(notes: string): void;\r\n  createDraft(): void;\r\n  versions: Version[];\r\n  editable: false;\r\n};\r\n\r\nexport const VersionControls: React.FC<Props> = ({\r\n  release,\r\n  updateNotes,\r\n  createDraft,\r\n  versions,\r\n  editable\r\n}) => {\r\n  const liveVersion = versions.reduce((prev, curr) => {\r\n    if (curr.status === 'live') {\r\n      return curr.number;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const originalNotes = versions.reduce((prev, curr) => {\r\n    if (curr.number === 'draft') {\r\n      return curr.release_notes;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const [version, setVersion] = useState('');\r\n  const [notes, setNotes] = useState(originalNotes);\r\n  const [pressedRelease, setPressedRelease] = useState(false);\r\n  const [pressedNotes, setPressedNotes] = useState(false);\r\n\r\n  const reset = () => {\r\n    setVersion('');\r\n    setPressedRelease(false);\r\n  };\r\n\r\n  const publish = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const cleanNotes = notes.trim();\r\n    if (pressedRelease && version && cleanNotes) {\r\n      release(version, cleanNotes);\r\n      reset();\r\n    }\r\n  };\r\n\r\n  if (editable) {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={pressedNotes}>\r\n          <CKEditor\r\n            content={notes}\r\n            events={{\r\n              change: (event: any) => setNotes(event.editor.getData())\r\n            }}\r\n          />\r\n          <div className=\"padding-top-large\">\r\n            <span className=\"padding-right-small\">\r\n              <button\r\n                className=\"button\"\r\n                onClick={() => {\r\n                  setNotes(originalNotes);\r\n                  setPressedNotes(false);\r\n                }}\r\n              >\r\n                Close\r\n              </button>\r\n            </span>\r\n            <button\r\n              className=\"button\"\r\n              onClick={() => {\r\n                updateNotes(notes);\r\n                setPressedNotes(false);\r\n              }}\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n        <Modal isOpen={pressedRelease}>\r\n          <form onSubmit={publish}>\r\n            <label>\r\n              Version{' '}\r\n              {liveVersion\r\n                ? `(live version ${liveVersion})`\r\n                : '(no live version)'}\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"1.0.0\"\r\n                value={version}\r\n                required\r\n                onChange={event => setVersion(event.currentTarget.value.trim())}\r\n              />\r\n            </label>\r\n            <CKEditor\r\n              content={notes}\r\n              events={{\r\n                change: (event: any) => setNotes(event.editor.getData())\r\n              }}\r\n            />\r\n            <div className=\"padding-top-large\">\r\n              <span className=\"padding-right-small\">\r\n                <button className=\"button\" onClick={reset}>\r\n                  Cancel\r\n                </button>\r\n              </span>\r\n              <button className=\"button\" type=\"submit\">\r\n                Publish\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n        <span className=\"padding-right-small\">\r\n          <button\r\n            className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n            onClick={() => setPressedRelease(true)}\r\n          >\r\n            Release new version <i className=\"icon icon-common icon-send\" />\r\n          </button>\r\n        </span>\r\n        <button\r\n          className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n          onClick={() => setPressedNotes(true)}\r\n        >\r\n          Update release notes <i className=\"icon icon-common icon-edit\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"padding-right-small\">\r\n        <button\r\n          className=\"vf-button vf-button--tertiary vf-button--sm\"\r\n          onClick={() => createDraft()}\r\n        >\r\n          Create draft\r\n        </button>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VersionControls;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\nimport VersionControls from '../containers/version-controls/VersionControls';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\n\r\nclass ManageCompetencies extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkName: '',\r\n    frameworkData: [],\r\n    frameworkVersion: '',\r\n    frameworkVersionId: '',\r\n    frameworkStatus: '',\r\n    competencyTypes: [],\r\n    versions: [],\r\n    loadingError: false,\r\n    editable: false,\r\n    allowedFrms: []\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework } = props.match.params;\r\n    if (framework !== state.framework) {\r\n      return {\r\n        framework,\r\n        frameworkData: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, domainId } = this.props.match.params;\r\n    await this.loadData(framework);\r\n\r\n    if (domainId) {\r\n      setTimeout(() => {\r\n        const ref = this.refs[domainId];\r\n        if (ref) {\r\n          ref.scrollIntoView();\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkData, loadingError } = this.state;\r\n    if (framework !== prevState.framework) {\r\n      if (frameworkData.length === 0 && !loadingError) {\r\n        this.loadData(framework);\r\n      }\r\n    }\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  async fetchFramework(framework) {\r\n    const { versions } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      this.setState({ frameworkVersionId: draftVersion[0].id });\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    if (frameworkData.length) {\r\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\r\n        description: domain.title,\r\n        uuid: domain.uuid\r\n      }));\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkData,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        competencyTypes,\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  createCompetency = async (description, domainUuid, mapping) => {\r\n    const { framework, frameworkData, versions } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const domainId = frameworkData[0].domains.find(\r\n        domain => domain.uuid === domainUuid\r\n      ).nid;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createCompetency({\r\n        description,\r\n        domainId,\r\n        domainUuid,\r\n        mapping,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editCompetency(cid, title) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetency(cid, 'title', title);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editCompetencyPosition(cid, position) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetencyPosition(\r\n        cid,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(cid, isArchived) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.toggleArchivingVersionedNode(framework, cid);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  releaseNewVersion = async (version, notes) => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.publishFramework(framework, version, notes);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  updateNotes = async notes => {\r\n    const { framework, frameworkVersionId } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.updateReleaseNotes(\r\n        notes,\r\n        frameworkVersionId\r\n      );\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  createDraft = async () => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.createDraftFramework(framework);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  getCompetencyList() {\r\n    const { frameworkData, editable } = this.state;\r\n    return frameworkData[0].domains.map(domain => (\r\n      <React.Fragment key={domain.nid}>\r\n        <tr\r\n          className=\"secondary-background-important white-color\"\r\n          ref={domain.nid}\r\n        >\r\n          <td>\r\n            <h4>{domain.title}</h4>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          <td>Attributes</td>\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getCompetencyRows(domain.competencies)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  getCompetencyRows(competencies) {\r\n    const { framework, editable } = this.state;\r\n    return competencies.map(competency => {\r\n      if (editable) {\r\n        return (\r\n          <tr key={competency.id}>\r\n            <td className={competency.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={competency.title}\r\n                change={newValue =>\r\n                  this.editCompetency(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n            <td>\r\n              <InlineEdit\r\n                text={competency.position}\r\n                change={newValue =>\r\n                  this.editCompetencyPosition(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n\r\n            <td>\r\n              <button\r\n                className=\"cursor\"\r\n                onClick={this.toggleArchive.bind(\r\n                  this,\r\n                  competency.id,\r\n                  competency.archived\r\n                )}\r\n              >\r\n                {competency.archived === '1' ? (\r\n                  <span className=\"fas fa-toggle-on\">\r\n                    <span>Archived</span>\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"fas fa-toggle-off\" />\r\n                )}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/manage/competencies/${\r\n                  competency.id\r\n                }/manage-attributes`}\r\n              >\r\n                <i className=\"fas fa-sitemap\" />\r\n              </Link>\r\n            </td>\r\n\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/competency/${\r\n                  competency.id\r\n                }/settings`}\r\n              >\r\n                <i className=\"fas fa-cog\" />\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        );\r\n      }\r\n\r\n      if (competency.archived === '1') {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <tr key={competency.id}>\r\n          <td>\r\n            <InlineEdit\r\n              text={competency.title}\r\n              change={newValue => this.editCompetency(competency.id, newValue)}\r\n              editable={editable}\r\n            />\r\n          </td>\r\n          <td>\r\n            <Link\r\n              to={`/framework/${framework}/manage/competencies/${\r\n                competency.id\r\n              }/manage-attributes`}\r\n            >\r\n              <i className=\"fas fa-sitemap\" />\r\n            </Link>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // if(this.state.allowedFrms.length > 0){\r\n    //   if(this.state.allowedFrms.indexOf(this.state.framework) == -1){\r\n    //     return(<h4 className=\"callout warning\"> <i className=\"icon icon-common icon-exclamation-triangle\"></i> You are not authorised to manage this framework </h4> );\r\n    //   }\r\n    // }\r\n\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkData,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      competencyTypes,\r\n      versions,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (frameworkData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage framework</h2>\r\n        <h4>{frameworkName}</h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        <VersionControls\r\n          editable={editable}\r\n          createDraft={this.createDraft}\r\n          versions={versions}\r\n          release={this.releaseNewVersion}\r\n          updateNotes={this.updateNotes}\r\n        />\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new competency\"\r\n            placeholder=\"Competency description\"\r\n            options={competencyTypes}\r\n            onCreate={this.createCompetency}\r\n            showMappingField={true}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getCompetencyList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageCompetencies);\r\n","import React from 'react';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageAttribute extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      parentID: '',\n      parentTitle: '',\n      showAttributeModal: '',\n      attributeType: '',\n      attributeTypeTitle: '',\n      newAttributes: '',\n      competency: [],\n      typetitle: ''\n    };\n    this.handleOpenAttributeModal = this.handleOpenAttributeModal.bind(this);\n    this.handleCloseAttributeModal = this.handleCloseAttributeModal.bind(this);\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n    //this.archiveAttribute = this.archiveAttribute.bind(this);\n  }\n\n  OpenModalPosition(e, competency) {\n    this.setState({ showModalPosition: true });\n    this.setState({ competency: competency });\n    this.setState({ typetitle: e.target.dataset.typetitle });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  handleOpenAttributeModal(e) {\n    this.setState({ showAttributeModal: true });\n    this.setState({ parentID: e.target.dataset.competencyid });\n    this.setState({ parentTitle: e.target.dataset.competencytitle });\n    this.setState({ attributeType: e.target.dataset.attributetype });\n    this.setState({ attributeTypeTitle: e.target.dataset.typetitle });\n\n    e.preventDefault();\n  }\n\n  handleCloseAttributeModal() {\n    this.setState({ showAttributeModal: false });\n  }\n\n  async editAttribute(aid, title) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(aid, 'title', title);\n      await loadData(framework);\n      this.props.enqueueSnackbar('Attribute updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  setAttributes(e) {\n    this.setState({ newAttributes: e.target.value });\n  }\n\n  async saveAttributes(e) {\n    const { frameworkData, framework, loadData } = this.props;\n    const { newAttributes, attributeType, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newAttributes;\n    let type = 'attribute';\n    let addtional = attributeType;\n    let response = '';\n    try {\n      //this.activeRequests.startRequest();\n      response = this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      console.log(response);\n      loadData(framework);\n      this.props.enqueueSnackbar('Attributes created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n    e.preventDefault();\n    this.handleCloseAttributeModal();\n  }\n\n  async archiveAttribute(attribute, isArchived) {\n    const { framework, loadData } = this.props;\n\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        attribute\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Attribute status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.competency.attributes;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.id));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getAttributes(frameworkDef, frameworkData, competency, domain, editableFrm) {\n    return frameworkDef.map(def => (\n      <div className=\"row\">\n        <div className=\"column medium-12\">\n          <li className=\"attribute_type\">\n            <em>{def.title}</em>\n            <span style={{ display: 'flex' }}>\n              {editableFrm === true ? (\n                <button\n                  className=\"ch_link addButton icon icon-common icon-plus-circle icon-custom \"\n                  data-competencyid={competency.id}\n                  data-competencytitle={competency.title}\n                  data-typetitle={def.title}\n                  data-attributetype={def.id}\n                  title=\"Add attributes\"\n                  onClick={e => this.handleOpenAttributeModal(e)}\n                >\n                  Add {def.title}{' '}\n                </button>\n              ) : (\n                ''\n              )}\n            </span>\n\n            <ul>\n              {competency.attributes.map(attr => {\n                if (attr.type === def.title)\n                  return (\n                    <li\n                      key={attr.id}\n                      className={attr.archived === '1' ? 'strikeout' : ''}\n                    >\n                      <div className=\"attribute_title\">\n                        <InlineEdit\n                          style={{ display: 'inline' }}\n                          text={attr.title}\n                          change={newValue =>\n                            this.editAttribute(attr.id, newValue)\n                          }\n                          editable={\n                            attr.archived === '1' || editableFrm === false\n                              ? false\n                              : true\n                          }\n                        />\n                        {editableFrm === true ? (\n                          <>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"ch_link\"\n                                onClick={() =>\n                                  this.archiveAttribute(attr.id, attr.archived)\n                                }\n                              >\n                                {attr.archived === '1' ? (\n                                  <span className=\"fas fa-toggle-on icon-left-spacer\">\n                                    <span>Archived</span>\n                                  </span>\n                                ) : (\n                                  <span className=\"fas fa-toggle-off icon-left-spacer\">\n                                    {' '}\n                                    <span> Archive</span>\n                                  </span>\n                                )}\n                              </button>\n                            </span>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"ch_link addButton icon icon-common icon-sort\"\n                                title=\"Change order\"\n                                data-typetitle={def.title}\n                                onClick={e =>\n                                  this.OpenModalPosition(e, competency)\n                                }\n                              >\n                                Change order{' '}\n                              </button>\n                            </span>\n                          </>\n                        ) : (\n                          ''\n                        )}\n                      </div>\n                    </li>\n                  );\n                return null;\n              })}\n            </ul>\n\n            <hr />\n          </li>\n        </div>\n        {/*<div className=\"column medium-4\" style={{ display: 'flex' }}>\n          <button\n            className=\"addButton\"\n            data-competencyid={competency.id}\n            data-competencytitle={competency.title}\n            data-typetitle={def.title}\n            data-attributetype={def.id}\n            title=\"Add attributes\"\n            onClick={e => this.handleOpenAttributeModal(e)}\n          >\n            Add {def.title} <i className=\"icon icon-common icon-plus-circle\" />\n          </button>\n          <button\n            className=\"addButton\"\n            title=\"Change order\"\n            data-typetitle={def.title}\n            onClick={e => this.OpenModalPosition(e, competency)}\n          >\n            Change order <i className=\"icon icon-common icon-sort\" />\n          </button>\n            </div>*/}\n      </div>\n    ));\n  }\n\n  render() {\n    const {\n      frameworkDef,\n      frameworkData,\n      competency,\n      domain,\n      editableFrm\n    } = this.props;\n    const {\n      //parentID,\n      parentTitle,\n      //attributeType,\n      attributeTypeTitle\n    } = this.state;\n    return (\n      <div>\n        {this.getAttributes(\n          frameworkDef,\n          frameworkData,\n          competency,\n          domain,\n          editableFrm\n        )}\n        {/* Modal for adding attributes */}\n        <Modal\n          open={this.state.showAttributeModal}\n          onClose={this.handleCloseAttributeModal}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Add {attributeTypeTitle} attributes</h3>\n          <h4>{parentTitle} </h4>\n          <h5>Please enter one {attributeTypeTitle} attribute per line</h5>\n          <form className=\"vf-form\">\n            <textarea\n              id=\"attribute_txt\"\n              rows=\"5\"\n              onChange={e => this.setAttributes(e)}\n              required\n              className=\"vf-form__input\"\n            />\n            <button\n              className=\"vf-button vf-button--primary vf-button--sm\"\n              onClick={e => this.saveAttributes(e)}\n            >\n              Save\n            </button>\n          </form>\n        </Modal>\n\n        {/* Modal for sorting attribute positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.competency.id ? (\n            <>\n              <h4>{this.state.competency.title}</h4>\n              <ul onDragOver={this.dragOver.bind(this)}>\n                {this.state.competency.attributes.map((attribute, i) => {\n                  if (attribute.type === this.state.typetitle) {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={attribute.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i className=\"icon icon-common icon-move\" />{' '}\n                        {attribute.title}\n                      </li>\n                    );\n                  }\n                  return null;\n                })}\n              </ul>\n            </>\n          ) : (\n            ''\n          )}\n\n          <button\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageAttribute);\n","import React from 'react';\nimport CKEditor from 'react-ckeditor-component';\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n//import ErrorLoading from '../components/error-loading/ErrorLoading';\nimport Parser from 'html-react-parser';\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageAttribute from './ManageAttribute';\n\nimport Collapsible from 'react-collapsible';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageCompetency extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      domain: [],\n      comp: '',\n      mapping: ''\n    };\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n    this.OpenModalMapping = this.OpenModalMapping.bind(this);\n    this.CloseModalMapping = this.CloseModalMapping.bind(this);\n  }\n\n  OpenModalPosition(e, domain) {\n    this.setState({ showModalPosition: true });\n    this.setState({ domain: domain });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  OpenModalMapping(e, competency) {\n    this.setState({ showModalMapping: true });\n    this.setState({ comp: competency });\n    this.setState({ mapping: competency.mapped_other_competency });\n  }\n\n  CloseModalMapping() {\n    this.setState({ showModalMapping: false });\n  }\n\n  async editCompetency(competency, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(competency, 'title', title);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Competency updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async editMapping(e, competency, mapping) {\n    e.preventDefault();\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(\n        competency,\n        'field_map_other_competency',\n        mapping\n      );\n      await this.props.loadData(framework);\n      this.CloseModalMapping();\n      this.props.enqueueSnackbar('Record updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async archiveCompetency(competency, isArchived) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        competency\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Competency status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.domain.competencies;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getCompetencies(competencies) {\n    const {\n      frameworkData,\n      domain,\n      frameworkDef,\n      framework,\n      loadData,\n      editableFrm\n    } = this.props;\n    return competencies.map(competency => (\n      <li\n        id={competency.id}\n        key={competency.id}\n        style={{ listStyleType: 'none' }}\n      >\n        <div className=\"row competency_title\">\n          <h3 className={competency.archived === '1' ? 'strikeout' : ''}>\n            <InlineEdit\n              style={{ display: 'inline' }}\n              text={competency.title}\n              change={newValue => this.editCompetency(competency.id, newValue)}\n              editable={\n                competency.archived === '1' || editableFrm === false\n                  ? false\n                  : true\n              }\n            />\n            {editableFrm === true ? (\n              <>\n                <span className=\"edit-indicator\">\n                  <button\n                    className=\"ch_link\"\n                    onClick={() =>\n                      this.archiveCompetency(competency.id, competency.archived)\n                    }\n                  >\n                    {competency.archived === '1' ? (\n                      <span className=\"fas fa-toggle-on icon-left-spacer\">\n                        <span>Archived</span>\n                      </span>\n                    ) : (\n                      <span className=\"fas fa-toggle-off icon-left-spacer\">\n                        {' '}\n                        <span> Archive</span>\n                      </span>\n                    )}\n                  </button>\n                </span>\n\n                <span className=\"edit-indicator\">\n                  <button\n                    className=\"ch_link\"\n                    onClick={e => this.OpenModalPosition(e, domain)}\n                  >\n                    <span className=\"fas fa-sort icon-left-spacer\">\n                      <span>Change order</span>\n                    </span>\n                  </button>\n                </span>\n              </>\n            ) : (\n              ''\n            )}\n          </h3>\n        </div>\n\n        <Collapsible\n          trigger={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-right icon-custom\" />\n            </div>\n          }\n          triggerWhenOpen={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-down icon-custom\" />\n            </div>\n          }\n        >\n          <em>\n            <span>\n              This competency maps to:\n              {Parser(competency.mapped_other_competency || '')}\n              <button\n                className=\"ch_link\"\n                onClick={e => this.OpenModalMapping(e, competency)}\n              >\n                <span className=\"fas fa-edit icon-left-spacer\" />\n              </button>\n            </span>\n          </em>\n          <ul>\n            <ManageAttribute\n              framework={framework}\n              frameworkData={frameworkData}\n              domain={domain}\n              competency={competency}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              editableFrm={editableFrm}\n            />\n          </ul>\n        </Collapsible>\n      </li>\n    ));\n  }\n\n  render() {\n    const { frameworkData, domain } = this.props;\n    const competencies = frameworkData.map(item =>\n      item.domains.map(item => {\n        if (item.nid === domain.nid) {\n          return <ul>{this.getCompetencies(item.competencies)}</ul>;\n        }\n        return null;\n      })\n    );\n    return (\n      <>\n        <div key={'domainlist'}>\n          {competencies\n            ? competencies\n            : 'No competencies found. Add new competencies to start.'}\n        </div>\n        <Modal\n          open={this.state.showModalMapping}\n          onClose={this.CloseModalMapping}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <form\n            onSubmit={e =>\n              this.editMapping(e, this.state.comp.id, this.state.mapping)\n            }\n          >\n            <div className=\"column medium-9\">\n              <h3>{this.state.comp.title}</h3>\n              <h4>This competency maps to:</h4>\n              {console.log(this.state.comp.id)}\n              <CKEditor\n                key={'mapsto_'}\n                content={this.state.mapping}\n                events={{\n                  change: e => this.setState({ mapping: e.editor.getData() }) //this.editMapping(this.state.comp.id, \"This info\")\n                }}\n                activeclassName=\"p10\"\n                config={{\n                  toolbarGroups: [\n                    {\n                      name: 'document',\n                      groups: ['mode', 'document', 'doctools']\n                    },\n                    {\n                      name: 'paragraph',\n                      groups: [\n                        'list',\n                        'indent',\n                        'blocks',\n                        'align',\n                        'bidi',\n                        'paragraph'\n                      ]\n                    },\n                    { name: 'links', groups: ['links'] }\n                  ]\n                }}\n              />\n              <input type=\"submit\" className=\"button\" value=\"Save\" />\n            </div>\n          </form>\n        </Modal>\n\n        {/* Modal for sorting competency positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.domain.nid ? <h4>{this.state.domain.title}</h4> : ''}\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map(domain => {\n                if (domain.nid === this.state.domain.nid) {\n                  return domain.competencies.map((competency, i) => {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={competency.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i className=\"icon icon-common icon-move\" />{' '}\n                        {competency.title}\n                      </li>\n                    );\n                  });\n                }\n                return null;\n              })\n            )}\n          </ul>\n          <button\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withSnackbar(ManageCompetency);\n","import React from 'react';\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\nimport CKEditor from 'react-ckeditor-component';\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageCompetency from './ManageCompetency';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageDomains extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      newDomains: '',\n      showModalCompetency: false,\n      showModalMapping: false,\n      newCompetencies: [{ competency: '', mapping: '' }],\n      parentID: '',\n      parentTitle: '',\n      sorting: []\n    };\n\n    this.archiveDomain = this.archiveDomain.bind(this);\n    this.OpenModalCompetency = this.OpenModalCompetency.bind(this);\n    this.closeModalCompetency = this.closeModalCompetency.bind(this);\n\n    this.OpenModalMapping = this.OpenModalMapping.bind(this);\n    this.CloseModalMapping = this.CloseModalMapping.bind(this);\n\n    this.handleRemoveCompetencies = this.handleRemoveCompetencies.bind(this);\n    this.setCompetencies = this.setCompetencies.bind(this);\n\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n  }\n\n  OpenModalMapping(e, domain) {\n    this.setState({ showModalMapping: true });\n    //this.setState({ domain: domain });\n  }\n\n  CloseModalMapping() {\n    this.setState({ showModalMapping: false });\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e) {\n    this.setState({ showModalPosition: true });\n    console.log('change positions');\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  OpenModalCompetency(e) {\n    this.setState({ parentID: e.target.dataset.domainid });\n    this.setState({ parentTitle: e.target.dataset.domaintitle });\n    this.setState({ showModalCompetency: true });\n  }\n\n  closeModalCompetency() {\n    this.setState({ showModalCompetency: false });\n  }\n\n  handleAddMoreCompetencies(e) {\n    this.setState({\n      newCompetencies: [\n        ...this.state.newCompetencies,\n        { competency: '', mapping: '' }\n      ]\n    });\n    e.preventDefault();\n  }\n\n  handleRemoveCompetencies(e, index) {\n    this.state.newCompetencies.splice(index, 1);\n    this.setState({ newCompetencies: this.state.newCompetencies });\n    e.preventDefault();\n  }\n\n  setCompetencies(e, index, type) {\n    let newData = this.state.newCompetencies;\n    if (type === 'competency') {\n      newData[index].competency = e.target.value;\n    } else {\n      newData[index].mapping = e.editor.getData(); //e.target.value;\n    }\n    this.setState({ newCompetencies: newData });\n  }\n\n  async saveCompetencies(e) {\n    const { framework, frameworkData } = this.props;\n    const { newCompetencies, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newCompetencies;\n    let type = 'competency';\n    let addtional = '';\n    e.preventDefault();\n\n    console.log(this.state.newCompetencies);\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Competencies added successfully', {\n        variant: 'success'\n      });\n    }\n    this.setState({ newCompetencies: [{ competency: '', mapping: '' }] });\n    this.closeModalCompetency();\n  }\n\n  async editDomain(domain, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchDomain(domain, 'title', title);\n      await this.props.loadData(framework);\n      await this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      // this.props.enqueueSnackbar('Domain updated', {\n      //   variant: 'success'\n      // });\n    }\n  }\n\n  async archiveDomain(domain, isArchived) {\n    const { framework } = this.props;\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        domain\n      );\n      this.props.loadData(framework);\n      console.log('all good gg');\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    var data = this.props.frameworkData[0].domains;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.nid));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.nid);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkData,\n      frameworkDef,\n      loadData,\n      editableFrm\n    } = this.props;\n    const domains = frameworkData.map(item =>\n      item.domains.map((domain, index) => (\n        <li\n          key={'li_' + index}\n          id={domain.nid}\n          className={domain.archived === '1' ? 'strikeout' : ''}\n          style={{ listStyleType: 'none' }}\n        >\n          <div key={'div1_' + domain.nid} className=\"row domain_title\">\n            <hr />\n            <div key={'div2_' + domain.nid} className=\"column medium-12\">\n              <h2 key={'h4_' + domain.nid}>\n                <InlineEdit\n                  style={{ display: 'inline' }}\n                  text={domain.title}\n                  change={newValue => this.editDomain(domain.nid, newValue)}\n                  editable={\n                    domain.archived === '1' || editableFrm === false\n                      ? false\n                      : true\n                  }\n                  key={'inline_edit_' + domain.nid}\n                />\n                {editableFrm !== false ? (\n                  <>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        key={domain.nid}\n                        className=\"ch_link \"\n                        onClick={() =>\n                          this.archiveDomain(domain.nid, domain.archived)\n                        }\n                      >\n                        {domain.archived === '1' ? (\n                          <span className=\"ch_link fas fa-toggle-on icon-left-spacer\">\n                            <span>Archived</span>\n                          </span>\n                        ) : (\n                          <span className=\"fas fa-toggle-off icon-left-spacer\">\n                            {' '}\n                            <span> Archive</span>\n                          </span>\n                        )}\n                      </button>\n                    </span>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        className=\"ch_link addButton\"\n                        onClick={this.OpenModalPosition}\n                      >\n                        {' '}\n                        <i className=\"icon icon-common icon-sort icon-left-spacer\" />{' '}\n                        Change order{' '}\n                      </button>\n                    </span>\n                    {domain.archived !== '1' ? (\n                      <span\n                        key={'span_' + domain.nid}\n                        className=\"edit-indicator\"\n                      >\n                        <button\n                          className=\"ch_link addButton icon icon-common icon-plus-circle icon-left-spacer\"\n                          href=\"#\"\n                          data-domainid={domain.nid}\n                          data-domaintitle={domain.title}\n                          onClick={e => this.OpenModalCompetency(e)}\n                        >\n                          Add competencies\n                        </button>\n                      </span>\n                    ) : (\n                      ''\n                    )}\n                  </>\n                ) : (\n                  ''\n                )}\n              </h2>\n            </div>\n          </div>\n          <div key={'p_' + domain.nid}>\n            <ManageCompetency\n              framework={framework}\n              frameworkData={frameworkData}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              domain={domain}\n              editableFrm={editableFrm}\n            />\n          </div>\n        </li>\n      ))\n    );\n\n    return (\n      <div key={'domains_list'}>\n        {domains[0].length > 0 ? (\n          <>\n            <ul key={'ul_' + domains.count}>{domains}</ul>{' '}\n            {console.log(domains)}{' '}\n          </>\n        ) : (\n          <>\n            <p className=\"callout\">\n              No data found. You may start by adding domains.\n            </p>{' '}\n            {console.log(domains)}\n          </>\n        )}\n\n        {/* Modal for mapping */}\n\n        {/* <Modal\n          open={this.state.showModalCompetency}\n          onClose={this.closeModalCompetency}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n         <form onSubmit={e => this.saveCompetencies(e)}>\n            {this.state.newCompetencies.map((item, index) => (\n              <div key={'competency_' + index} className=\"row callout\">\n                <div className=\"column medium-9\">\n\n                  Add/edit this competency maps to:\n  \n                   <CKEditor\n                    key={'mapsto_' + index}\n                    content={item.mapping}\n                    events={{\n                      change: (e) => this.setCompetencies(e, index, 'mapping')\n                    }}\n                    activeClass=\"p10\"\n                    config={{\n                      toolbarGroups :[\n                        { name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\n                        { name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },\n                        { name: 'links', groups: [ 'links' ] },\n                    ]\n                  }}\n                  />\n                </div>\n\n              </div>\n            ))}\n\n            <input type=\"submit\" className=\"button\" value=\"Save\" />\n          </form> \n        </Modal> */}\n\n        {/* Modal for competencies */}\n\n        <Modal\n          open={this.state.showModalCompetency}\n          onClose={this.closeModalCompetency}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h2>{this.state.parentTitle}</h2>\n          <h3>Add competencies(s) </h3>\n\n          <form className=\"vf-form\" onSubmit={e => this.saveCompetencies(e)}>\n            {this.state.newCompetencies.map((item, index) => (\n              <div key={'competency_' + index} className=\"row callout\">\n                <div className=\"column medium-9\">\n                  Competency\n                  <input\n                    key={index}\n                    type=\"text\"\n                    onChange={e => this.setCompetencies(e, index, 'competency')}\n                    value={item.competency}\n                    required\n                    className=\"vf-form__input\"\n                  />\n                  This competency maps to:\n                  <CKEditor\n                    key={'mapsto_' + index}\n                    className=\"vf-form__input\"\n                    content={item.mapping}\n                    events={{\n                      change: e => this.setCompetencies(e, index, 'mapping')\n                    }}\n                    activeClass=\"p10\"\n                    config={{\n                      toolbarGroups: [\n                        {\n                          name: 'document',\n                          groups: ['mode', 'document', 'doctools']\n                        },\n                        {\n                          name: 'paragraph',\n                          groups: [\n                            'list',\n                            'indent',\n                            'blocks',\n                            'align',\n                            'bidi',\n                            'paragraph'\n                          ]\n                        },\n                        { name: 'links', groups: ['links'] }\n                      ]\n                    }}\n                  />\n                </div>\n                <div className=\"column medium-3\" style={{ paddingTop: '1%' }}>\n                  {index > 0 ? (\n                    <button\n                      className=\"vf-button vf-button--sm\"\n                      onClick={e => this.handleRemoveCompetencies(e, index)}\n                    >\n                      <i className=\"icon icon-common icon-close\" />{' '}\n                    </button>\n                  ) : (\n                    ''\n                  )}\n                </div>\n              </div>\n            ))}\n\n            <div className=\"row\">\n              <div className=\"column medium-10\">\n                <button\n                  className=\"vf-button vf-button--sm vf-button--secondary\"\n                  onClick={e => this.handleAddMoreCompetencies(e)}\n                >\n                  <i className=\"icon icon-common icon-plus-circle\" /> Add more\n                </button>\n              </div>\n            </div>\n            <input\n              type=\"submit\"\n              className=\"vf-button vf-button--sm vf-button--primary\"\n              value=\"Save\"\n            />\n          </form>\n        </Modal>\n\n        {/* Modal for sorting domain positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map((domain, i) => {\n                return (\n                  <li\n                    style={{ listStyleType: 'none' }}\n                    data-position={i}\n                    key={item.position}\n                    draggable=\"true\"\n                    onDragEnd={this.dragEnd.bind(this)}\n                    onDragStart={this.dragStart.bind(this)}\n                  >\n                    <i className=\"icon icon-common icon-move\" /> {domain.title}\n                  </li>\n                );\n              })\n            )}\n          </ul>\n          <button\n            className=\"vf-button vf-button--sm vf-button--primary\"\n            onClick={this.saveSorting}\n          >\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageDomains);\n","import React from 'react';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\nimport VersionControls from '../containers/version-controls/VersionControls';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageDomains from './ManageDomains';\n\nclass ManageData extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      framework: '',\n      frameworkName: '',\n      frameworkData: [],\n      frameworkVersion: '',\n      frameworkVersionId: '',\n      frameworkStatus: '',\n      frameworkDef: [],\n      versions: [],\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      showModalPosition: false,\n      newDomains: '',\n      parent: ''\n    };\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.saveDomains = this.saveDomains.bind(this);\n    this.loadData = this.loadData.bind(this);\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e) {\n    this.setState({ showModalPosition: true });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  setDomains(e) {\n    this.setState({ newDomains: e.target.value });\n  }\n\n  async saveDomains(e) {\n    const { framework, frameworkData, newDomains } = this.state;\n\n    let parentID = frameworkData[0].nid;\n    let versionID = frameworkData[0].version_id;\n    let newData = newDomains;\n    let type = 'domain';\n    let addtional = '';\n    e.preventDefault();\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      await this.loadData(framework);\n      this.props.enqueueSnackbar('Domains created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n\n    this.handleCloseModal();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { framework } = props.match.params;\n    if (framework !== state.framework) {\n      return {\n        framework,\n        frameworkData: [],\n        loadingError: false\n      };\n    }\n\n    // No state update necessary\n    return null;\n  }\n\n  async componentDidMount() {\n    const { framework, domainId } = this.props.match.params;\n    await this.loadData(framework);\n\n    if (domainId) {\n      setTimeout(() => {\n        const ref = this.refs[domainId];\n        if (ref) {\n          ref.scrollIntoView();\n        }\n      }, 100);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { framework, frameworkData, loadingError } = this.state;\n    if (framework !== prevState.framework) {\n      if (frameworkData.length === 0 && !loadingError) {\n        this.loadData(framework);\n      }\n    }\n  }\n\n  async loadData(framework) {\n    try {\n      this.activeRequests.startRequest();\n      await this.fetchVersions(framework);\n      await this.fetchFramework(framework);\n    } catch (error) {\n      this.setState({ loadingError: true });\n      alert(`Error: ${error}`);\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async fetchVersions(framework) {\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\n    const currentFramework = allFrameworks.filter(\n      fw => fw.title.toLowerCase().replace(/\\s+/g, '') === framework\n    );\n    if (currentFramework.length > 0) {\n      this.setState({ versions: currentFramework[0].versions.reverse() });\n      this.setState({ frameworkDef: currentFramework[0].attribute_types });\n    }\n  }\n\n  async fetchFramework(framework) {\n    const { versions } = this.state;\n    const liveVersion = versions.filter(version => version.status === 'live');\n    const draftVersion = versions.filter(version => version.status === 'draft');\n    let frameworkData = [];\n    let editable = false;\n\n    if (draftVersion.length) {\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\n        framework\n      );\n      this.setState({ frameworkVersionId: draftVersion[0].id });\n      editable = true;\n      console.log(frameworkData);\n    } else {\n      if (liveVersion.length) {\n        frameworkData = await this.competencyService.getVersionedFramework(\n          framework,\n          liveVersion[0].number\n        );\n      }\n    }\n\n    if (frameworkData.length) {\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\n        description: domain.title,\n        uuid: domain.uuid\n      }));\n      this.setState({\n        frameworkName: frameworkData[0].title,\n        frameworkData: frameworkData,\n        frameworkVersion: frameworkData[0].version,\n        frameworkStatus: frameworkData[0].status,\n        competencyTypes,\n        editable\n      });\n    }\n  }\n\n  releaseNewVersion = async (version, notes) => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.publishFramework(framework, version, notes);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  updateNotes = async notes => {\n    const { framework, frameworkVersionId } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.updateReleaseNotes(\n        notes,\n        frameworkVersionId\n      );\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  createDraft = async () => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createDraftFramework(framework);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkName,\n      frameworkData,\n      frameworkVersion,\n      frameworkStatus,\n      frameworkDef,\n      //competencyTypes,\n      versions,\n      loadingError,\n      editable\n    } = this.state;\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    if (frameworkData.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"row\">\n        <h2>Manage framework data</h2>\n        <h4>{frameworkName}</h4>\n        <p>\n          <span className=\"tag\">{frameworkVersion}</span>\n          <span className=\"tag secondary-background\">\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\n          </span>\n        </p>\n        <div className=\"row\">\n          <div className=\"column medium-9\">\n            <VersionControls\n              editable={editable}\n              createDraft={this.createDraft}\n              versions={versions}\n              release={this.releaseNewVersion}\n              updateNotes={this.updateNotes}\n            />\n          </div>\n          <div className=\"vf-grid vf-grid vf-grid__col-4\">\n            <div className=\"vf-grid vf-grid__col--span-3\" />\n\n            <div className=\"vf-grid vf-grid__col--span-1\">\n              {editable === true ? (\n                <button\n                  href=\"#\"\n                  className=\"vf-button vf-button--tertirary vf-button--sm\"\n                  onClick={this.handleOpenModal}\n                >\n                  {' '}\n                  <i className=\"icon icon-common icon-plus-circle\" /> Add\n                  domains{' '}\n                </button>\n              ) : (\n                ''\n              )}\n            </div>\n          </div>\n        </div>\n\n        <ManageDomains\n          editableFrm={editable}\n          framework={framework}\n          frameworkData={frameworkData}\n          frameworkDef={frameworkDef}\n          loadData={this.loadData}\n        />\n\n        <FrameworkVersions framework={framework} versions={versions} />\n\n        {/* Modal for adding domains */}\n\n        <Modal\n          open={this.state.showModal}\n          onClose={this.handleCloseModal}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h2>Add domain(s) </h2>\n          <h3>Please enter one domain per line</h3>\n          <form className=\"vf-form\">\n            <textarea\n              id=\"domain_txt_area\"\n              rows=\"5\"\n              onChange={e => this.setDomains(e)}\n              required\n              className=\"vf-form__input\"\n            />\n            <button\n              className=\"vf-button vf-button--sm vf-button--primary\"\n              onClick={e => this.saveDomains(e)}\n            >\n              Save\n            </button>\n          </form>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageData);\n","import HttpService from '../http/http';\r\n\r\nexport const apiUrl = process.env.REACT_APP_PROXY_API_URL;\r\n\r\nclass CoursesService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor(props) {\r\n    //super(props);\r\n    if (CoursesService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CoursesService.instance = this;\r\n  }\r\n\r\n  // removed timestamp\r\n  async checkForTrainingResources(page, filter, filterType, $framework) {\r\n    // const checkUser = localStorage.getItem('userid');\r\n    // const needTimeStamp = checkUser ? '&timestamp=' + Date.now() : '';\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency_framework_resources?_format=json&source=competencyhub&page=${page}&title=${filter}&type=${filterType}&framework=${$framework}&checkForTrainingResources=${true}&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getCourses(page, filter, filterType) {\r\n    const response = await this.http.get(\r\n      //`${apiUrl}/api/resources?_format=json`\r\n      // `${apiUrl}/api/resources?_format=json&page=${page}&title=${filter}&type=${filterType}`\r\n      `${apiUrl}/api/resources?_format=json&source=competencyhub&page=${page}&title=${filter}&type=${filterType}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getByFramework(page, filter, filterType, $framework) {\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency_framework_resources?_format=json&source=competencyhub&page=${page}&title=${filter}&type=${filterType}&framework=${$framework}&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getByCompetency($competencyID) {\r\n    const response = await this.http.get(\r\n      `${apiUrl}/api/competency-resources?field_competency_target_id=${$competencyID}?source=competencyhub`\r\n    );\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default CoursesService;\r\n","export function slugify(string) {\n  return string\n    .toLowerCase()\n    .replace(/[^\\w ]+/g, '')\n    .replace(/ +/g, '-');\n}\n\nexport function extractSlugFromBackendUrl(url) {\n  return url.split('/')[4].split('?')[0];\n}\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Parser from 'html-react-parser';\r\nimport { withSnackbar } from 'notistack';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport CoursesService from '../services/courses/courses';\r\nimport { slugify } from '../services/util/slugifier';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nclass CompetencyDetails extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  coursesService = new CoursesService();\r\n\r\n  state = {\r\n    framework: this.props.match.params.framework,\r\n    version: this.props.location.pathname.split('/'),\r\n    frameworkData: [],\r\n    competencyId: this.props.match.params.cid,\r\n    attributeDefs: [],\r\n    resources: [],\r\n    competency: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.getFramework(),\r\n        this.getAttributes(),\r\n        this.getResources()\r\n      ]).then(() => {\r\n        const params = new URLSearchParams(window.location.search);\r\n        let scroll = params.get('scroll');\r\n        if (scroll === 'true') {\r\n          let element = document.getElementById('training-resources-block');\r\n          if (element) {\r\n            element.scrollIntoView();\r\n            element.scrollIntoView(false);\r\n            element.scrollIntoView({ block: 'start' });\r\n            element.scrollIntoView({\r\n              behavior: 'smooth',\r\n              block: 'start',\r\n              inline: 'nearest'\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async getFramework() {\r\n    const { framework } = this.state;\r\n    const { version } = this.state;\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      version[3]\r\n    );\r\n\r\n    this.setState({\r\n      frameworkData\r\n    });\r\n  }\r\n\r\n  async getAttributes() {\r\n    const allFrameworks = await this.competencyService.getAllFrameworks();\r\n    const { framework } = this.state;\r\n    const frameworkMatch = allFrameworks.filter(\r\n      item =>\r\n        item.name.toLowerCase().replace(/ /g, '') ===\r\n        framework.replace(/ /g, '')\r\n    );\r\n    if (frameworkMatch.length) {\r\n      const attributeDefs = frameworkMatch[0].attribute_types.map(\r\n        attribute => attribute.title\r\n      );\r\n      this.setState({ attributeDefs });\r\n    }\r\n  }\r\n\r\n  async getResources() {\r\n    try {\r\n      const resources = await this.coursesService.getByCompetency(\r\n        this.state.competencyId\r\n      );\r\n      // const resources = allResources.filter(\r\n      //   resource =>\r\n      //     resource.archived === 'no' &&\r\n      //     !!resource.competency_profile.find(\r\n      //       profile => profile.competency_id === this.state.competencyId\r\n      //     )\r\n      // );\r\n\r\n      this.setState({ resources });\r\n      /*const resources = [{\"id\":1, \"title\":this.state.version[3]}];*/\r\n      this.setState({ resources });\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar('Unable to retrieve training resources', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  }\r\n\r\n  resourceBlock() {\r\n    const { resources } = this.state;\r\n    return resources.map(resource => (\r\n      <li key={resource.nid}>\r\n        <Link\r\n          to={{\r\n            pathname: `/training-resources/${slugify(resource.title)}`,\r\n            state: {\r\n              training_resource_id: resource.nid\r\n            }\r\n          }}\r\n        >\r\n          {resource.title}\r\n        </Link>\r\n        {/*<Link to={`/training-resources/${resource.nid}`}>{resource.title}</Link>*/}\r\n      </li>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      competencyId,\r\n      frameworkData,\r\n      attributeDefs,\r\n      resources\r\n    } = this.state;\r\n\r\n    const competencies = [];\r\n    frameworkData.forEach(item =>\r\n      item.domains.forEach(domain =>\r\n        domain.competencies.forEach(competency => {\r\n          if (competency.id === competencyId) {\r\n            competencies.push({\r\n              ...competency,\r\n              framework: item.title,\r\n              domain: domain.title\r\n            });\r\n          }\r\n        })\r\n      )\r\n    );\r\n\r\n    const competencyDetails = competencies.map(competency => (\r\n      <div key={competency.id}>\r\n        <div className=\"vf-grid\">\r\n          <div>\r\n            <h1>{competency.title}</h1>\r\n            <br />\r\n            <br />\r\n            <h2>Competency attributes</h2>\r\n            <ul>\r\n              {attributeDefs.map(def => {\r\n                return (\r\n                  <div key={def}>\r\n                    <div className=\"margin-top-medium\">\r\n                      {' '}\r\n                      <h3>{def}</h3>\r\n                    </div>\r\n                    {competency.attributes.map(attribute => {\r\n                      if (attribute.type === def) {\r\n                        return <li key={attribute.id}>{attribute.title} </li>;\r\n                      }\r\n                      return null;\r\n                    })}\r\n                  </div>\r\n                );\r\n              })}\r\n            </ul>\r\n\r\n            <div>\r\n              <h2>Competency derived from:</h2>\r\n              <p>\r\n                {' '}\r\n                {competency.mapped_other_competency\r\n                  ? Parser(competency.mapped_other_competency)\r\n                  : 'No data available'}{' '}\r\n              </p>\r\n\r\n              {resources.length === 0 ? null : (\r\n                <div id=\"training-resources-block\">\r\n                  <h2>Training resources associated with this competency</h2>\r\n                  <ul>{this.resourceBlock()}</ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n    return (\r\n      <div>\r\n        {competencies.length > 0 ? (\r\n          <>\r\n            <MetaTags>\r\n              <title>{competencies[0].title}</title>\r\n              <meta name=\"description\" content={competencies[0].title} />\r\n              <meta property=\"og:title\" content={competencies[0].title} />\r\n              <meta property=\"og:type\" content=\"website\" />\r\n              <meta\r\n                property=\"og:url\"\r\n                content={`https://competency.ebi.ac.uk${\r\n                  this.props.history.location.pathname\r\n                }`}\r\n              />\r\n              <meta\r\n                property=\"og:image\"\r\n                content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\r\n              />\r\n              <meta\r\n                property=\"og:description\"\r\n                content=\"Details of a competency e.g. attributes and associated training resources\"\r\n              />\r\n              <meta\r\n                property=\"keywords\"\r\n                content={`competency, competency-based training, ${\r\n                  competencies[0].domain\r\n                }, ${\r\n                  competencies[0].framework === 'ISCB'\r\n                    ? 'computational biology competencies'\r\n                    : ''\r\n                }`}\r\n              />\r\n            </MetaTags>\r\n            <Helmet>\r\n              <link rel=\"canonical\" href={this.props.location.pathname} />\r\n            </Helmet>\r\n          </>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        {competencyDetails}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(CompetencyDetails);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { groupBy } from 'lodash-es';\r\nimport './CompetencyList.css';\r\n\r\nfunction CompetencyList({\r\n  index,\r\n  framework,\r\n  competency,\r\n  disable,\r\n  version,\r\n  attributeTypes,\r\n  trainingResourcesExist\r\n}) {\r\n  const attributesGrouped = groupBy(competency.attributes, 'type');\r\n  const attrTypes = attributeTypes;\r\n  const attributes = attrTypes.map(type => {\r\n    const attributes = attributesGrouped[type]\r\n      ? attributesGrouped[type].map(attribute => (\r\n          <li className=\"vf-list__item\" key={attribute.id}>\r\n            {attribute.title}\r\n          </li>\r\n        ))\r\n      : '';\r\n    return attributes ? (\r\n      <div key={type} className=\"attribute_type\">\r\n        <em>{type}</em>\r\n        <ul className=\"vf-list--unordered\" style={{ paddingLeft: '24px' }}>\r\n          {attributes}\r\n        </ul>\r\n      </div>\r\n    ) : (\r\n      ''\r\n    );\r\n  });\r\n\r\n  if (competency.archived === '1') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        {/* <Collapsible\r\n          trigger={\r\n            <div className=\"open-close-title\">\r\n              <span className=\"icon icon-common icon-angle-right float-left icon-custom\" />\r\n              <span>{competency.title}</span>\r\n            </div>\r\n          }\r\n          triggerWhenOpen={\r\n            <div className=\"open-close-title\">\r\n              <span className=\"icon icon-common icon-angle-down float-left icon-custom\" />\r\n              <span>{competency.title}</span>\r\n            </div>\r\n          }\r\n        >\r\n          <div>\r\n            {attributes}\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.id\r\n              }?scroll=true`}\r\n            >\r\n              <span>\r\n                <i className=\"icon icon-spacer icon-common icon-info\" />\r\n                {trainingResourcesExist\r\n                  ? 'View training resources mapped to this competency'\r\n                  : 'View more information about this competency'}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </Collapsible> */}\r\n        <details className=\"vf-details\" close>\r\n          <summary className=\"vf-details--summary\">{competency.title}</summary>\r\n          {attributes}\r\n          <div>\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.id\r\n              }?scroll=true`}\r\n            >\r\n              <span>\r\n                <i className=\"icon icon-spacer icon-common icon-info\" />\r\n                {trainingResourcesExist\r\n                  ? 'View training resources associated with this competency'\r\n                  : 'View more information about this competency'}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </details>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nCompetencyList.defaultProps = {\r\n  parentIndex: 0,\r\n  index: 0,\r\n  disable: true,\r\n  trainingResourcesExist: false\r\n};\r\n\r\nCompetencyList.propTypes = {\r\n  parentIndex: PropTypes.number,\r\n  index: PropTypes.number,\r\n  framework: PropTypes.string,\r\n  competency: PropTypes.shape({\r\n    title: PropTypes.string\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default CompetencyList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CompetencyList from '../competency-list/CompetencyList';\r\n\r\nfunction DomainList({\r\n  index,\r\n  framework,\r\n  domain,\r\n  disable,\r\n  version,\r\n  attributeTypes,\r\n  trainingResourcesExist\r\n}) {\r\n  const competencies = domain.competencies.map((competency, childIndex) => (\r\n    <CompetencyList\r\n      key={competency.id}\r\n      index={childIndex}\r\n      framework={framework}\r\n      competency={competency}\r\n      disable={disable}\r\n      version={version}\r\n      attributeTypes={attributeTypes}\r\n      trainingResourcesExist={trainingResourcesExist}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div style={{ border: 'none' }}>\r\n      <h2 style={{ marginBottom: 0 }}> {domain.title}</h2>\r\n      {competencies}\r\n    </div>\r\n  );\r\n}\r\n\r\nDomainList.defaultProps = {\r\n  domain: { title: '', competencies: [] },\r\n  disable: true,\r\n  trainingResourcesExist: false\r\n};\r\n\r\nDomainList.propTypes = {\r\n  framework: PropTypes.string,\r\n  domain: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    competencies: PropTypes.array\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default DomainList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorLoading from '../../components/error-loading/ErrorLoading';\r\n\r\nimport ActiveRequestsService from '../../services/active-requests/active-requests';\r\nimport CoursesService from '../../services/courses/courses';\r\nimport { safeFlat } from '../../services/util/util';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass Courses extends Component {\r\n  static propTypes = {\r\n    framework: PropTypes.string,\r\n    frameworkId: PropTypes.string,\r\n    version: PropTypes.string\r\n  };\r\n  coursesService = new CoursesService();\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      courses: [],\r\n      filteredCourses: [],\r\n      filter: '',\r\n      filterType: '',\r\n      loadingError: false,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      noResultsFound: false,\r\n      loading: false\r\n    };\r\n    this.state.framework = props.framework;\r\n    this.state.frameworkId = props.frameworkId;\r\n    this.state.version = props.version;\r\n    this.state.totalItemsCount = 0;\r\n  }\r\n\r\n  async handlePageChange(pageNumber) {\r\n    await this.setState({ courses: null });\r\n    await this.setState({ activePage: pageNumber });\r\n    await this.fetchData();\r\n    setTimeout(function() {\r\n      window.scrollTo(0, 0);\r\n    }, 700);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const allCourses = await this.coursesService.getByFramework(\r\n        this.state.activePage,\r\n        this.state.filter,\r\n        this.state.filterType,\r\n        this.props.framework\r\n      );\r\n      const courses = this.filterCourses(allCourses);\r\n      this.showAllTrainingResources = this.showAllTrainingResources.bind(this);\r\n      this.setState({ courses, filteredCourses: courses });\r\n      if (courses.length > 0) {\r\n        this.setState({\r\n          totalItemsCount: courses[0].hitcount\r\n        });\r\n      } else {\r\n        this.setState({\r\n          noResultsFound: true\r\n        });\r\n      }\r\n      this.setState({\r\n        totalItemsCount: courses.length > 0 ? courses[0].hitcount : 0\r\n      });\r\n      this.setState({\r\n        loading: false\r\n      });\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async showAllTrainingResources() {\r\n    await this.setState({ filter: '' });\r\n    await this.setState({ activePage: 1 });\r\n    await this.setState({ filterType: '' });\r\n    await this.fetchData().then(() => {\r\n      this.setState({\r\n        noResultsFound: false\r\n      });\r\n    });\r\n  }\r\n\r\n  async searchSubmit(e) {\r\n    e.preventDefault();\r\n    //await this.setState({ resources: null });\r\n    await this.setState({ activePage: 0 });\r\n    await this.fetchData();\r\n  }\r\n\r\n  filterCourses(allCourses) {\r\n    const { framework } = this.state;\r\n    // const { version } = this.state;\r\n    const filteredCourses = [];\r\n    allCourses.forEach(course => {\r\n      if (course.archived === 'archived') {\r\n        return;\r\n      }\r\n\r\n      const filteredProfiles = course.competency_profile.filter(\r\n        profile => (profile.framework_label || '').toLowerCase() === framework\r\n      );\r\n\r\n      if (filteredProfiles.length === 0) {\r\n        return;\r\n      }\r\n\r\n      const modifiedCourse = {\r\n        ...course,\r\n        competencies: safeFlat(filteredProfiles.map(profile => profile))\r\n      };\r\n      filteredCourses.push(modifiedCourse);\r\n    });\r\n    return filteredCourses;\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { courses } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredCourses = courses.filter(course => term.test(course.title));\r\n    this.setState({ filteredCourses, filter });\r\n  };\r\n\r\n  async filter(e) {\r\n    await this.setState({ filter: e.target.value });\r\n  }\r\n\r\n  async filterTypeHandle(e) {\r\n    await this.setState({ filterType: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      filteredCourses,\r\n      framework,\r\n      // filter,\r\n      loadingError,\r\n      version\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    // let duplicates = [];\r\n\r\n    const competencyList = competencies =>\r\n      competencies\r\n        .filter(\r\n          (competency, index, all) =>\r\n            all.findIndex(c => c.competency_id === competency.competency_id) ===\r\n            index\r\n        )\r\n        .map(competency => (\r\n          <li key={competency.id}>\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.competency_id\r\n              }`}\r\n            >\r\n              {competency.competency_label}\r\n            </Link>\r\n          </li>\r\n        ));\r\n    const resources = filteredCourses.map((course, index) => (\r\n      // <tr key={course.id}>\r\n      <tr key={course.slug}>\r\n        <td>\r\n          {index +\r\n            1 +\r\n            (this.state.activePage ? (this.state.activePage - 1) * 15 : 0)}{' '}\r\n        </td>\r\n        <td>\r\n          <Link\r\n            to={{\r\n              pathname: `/training-resources/${course.slug}`,\r\n              state: {\r\n                training_resource_id: course.id\r\n              }\r\n            }}\r\n          >\r\n            {course.title}\r\n          </Link>\r\n        </td>\r\n        <td>{course.type}</td>\r\n        <td>\r\n          <ul>{competencyList(course.competencies)} </ul>\r\n        </td>\r\n      </tr>\r\n    ));\r\n\r\n    return (\r\n      <>\r\n        {this.state.noResultsFound ? (\r\n          <>\r\n            <p className=\"vf-text-body vf-text-body--2\">No results found</p>\r\n            <button\r\n              className=\"vf-button vf-button--primary vf-button--sm \"\r\n              onClick={this.showAllTrainingResources}\r\n            >\r\n              Show all training resources\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <div>\r\n            <form\r\n              className=\"vf-form | vf-search\"\r\n              onSubmit={e => this.searchSubmit(e)}\r\n            >\r\n              <div className=\"vf-grid vf-grid__col-4\">\r\n                <div className=\"vf-form__item | vf-search__item vf-grid__col--span-2\">\r\n                  <label\r\n                    class=\"vf-form__label vf-u-sr-only | vf-search__label\"\r\n                    for=\"search_box\"\r\n                  >\r\n                    Search training resources\r\n                  </label>\r\n                  <input\r\n                    type=\"search\"\r\n                    onChange={this.filter.bind(this)}\r\n                    placeholder=\"Type to search\"\r\n                    className=\"vf-form__input | vf-search__item\"\r\n                    id=\"search_box\"\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item vf-grid__col--span-1\">\r\n                  <select\r\n                    ref={'type'}\r\n                    onChange={this.filterTypeHandle.bind(this)}\r\n                    className=\"vf-form__select\"\r\n                  >\r\n                    <option value={'All'}>All types</option>\r\n                    <option value={'Online'}>Online</option>\r\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                    <option value={'Webinar'}>Webinar</option>\r\n                    <option value={'Hackathon'}>Hackathon</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"vf-form__item vf-grid__col--span-1\">\r\n                  <input\r\n                    type=\"submit\"\r\n                    className=\"vf-search__button | vf-button vf-button--primary vf-button--sm\"\r\n                    value=\"Search\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n            {this.state.loading ? (\r\n              <div>\r\n                <div className=\"vf-u-margin__top--200\" />\r\n                <span>Fetching data...</span>\r\n                <img\r\n                  alt=\"progress\"\r\n                  style={{ width: '7%' }}\r\n                  src=\"/progressbar.gif\"\r\n                />\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>S. No.</th>\r\n                      <th>Training resource(s)</th>\r\n                      <th>Type</th>\r\n                      <th>Competencies</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{resources}</tbody>\r\n                </table>\r\n                <nav className=\"vf-pagination\" aria-label=\"Pagination\">\r\n                  <Pagination\r\n                    activePage={this.state.activePage}\r\n                    itemsCountPerPage={15}\r\n                    totalItemsCount={this.state.totalItemsCount}\r\n                    pageRangeDisplayed={10}\r\n                    onChange={e => this.handlePageChange(e)}\r\n                    innerClass=\"vf-pagination__list\"\r\n                    itemClass=\"vf-pagination__item\"\r\n                    itemClassPrev=\"vf-pagination__item--previous-page\"\r\n                    itemClassNext=\"vf-pagination__item--next-page\"\r\n                    linkClass=\"vf-pagination__link vf-pagination__label\"\r\n                    activeClass=\"vf-pagination__item--is-active\"\r\n                    prevPageText=\"Previous\"\r\n                    nextPageText=\"Next\"\r\n                  />\r\n                </nav>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Courses;\r\n","import React, { useState, useEffect } from 'react';\n// import { useHistory } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\nimport './Profile.css';\nimport user_icon from './user_icon.png';\n\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport auth from '../services/util/auth';\n\nconst ProfileList = props => {\n  // let history = useHistory();\n\n  const frameworkName = props.framework;\n  const frameworkVersion = props.version;\n  const [guestProfile, setGuestProfile] = useState();\n  const [profiles, setProfiles] = useState();\n  const [userFrameworks, setUserFrameworks] = useState([]);\n\n  // var profilesToCompare = [];\n  const needTimeStamp = auth.currently_logged_in_user.is_logged_in\n    ? '&timestamp=' + Date.now()\n    : '';\n\n  var userName = auth.currently_logged_in_user.username;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        let tempguestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n        setGuestProfile(tempguestProfile ? tempguestProfile : '');\n        await fetch(\n          `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&source=competencyhub&timestamp=${needTimeStamp}`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setProfiles(findresponse);\n          });\n        if (userName) {\n          await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n            method: 'GET',\n            credentials: 'include'\n          })\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setUserFrameworks(findresponse);\n            });\n        }\n      } catch (e) {\n        console.log(e.message);\n      }\n    };\n\n    fetchData();\n  }, [frameworkVersion, frameworkName, userName, needTimeStamp]);\n\n  // const setProfilesToCompare = e => {\n  //   if (profilesToCompare.length > 2) {\n  //     alert('You have to select two profiles to compare.');\n  //     return;\n  //   }\n\n  //   if (e.target.checked) {\n  //     profilesToCompare.push(e.target.getAttribute('data-profileid'));\n  //   } else {\n  //     profilesToCompare = profilesToCompare.filter(function(value, index, arr) {\n  //       return value !== e.target.getAttribute('data-profileid');\n  //     });\n  //   }\n  // };\n\n  // const redirectToCompare = e => {\n  //   e.preventDefault();\n  //   if (profilesToCompare.length !== 2) {\n  //     alert('You have to select two profiles to compare.');\n  //     return;\n  //   } else {\n  //     history.push(\n  //       `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n  //         profilesToCompare[0]\n  //       }/${profilesToCompare[1]}`\n  //     );\n  //   }\n  // };\n\n  const handleDelete = e => {\n    e.preventDefault();\n    confirmAlert({\n      customUI: ({ onClose }) => {\n        return (\n          <div className=\"react-confirm-alert-body\">\n            <h2>Delete my profile</h2>\n            <p>\n              Are you sure you want to delete your profile? This action cannot\n              be undone!!\n            </p>\n            <div className=\"react-confirm-alert-button-group\">\n              <button onClick={onClose}>No</button>\n              <button\n                onClick={() => {\n                  localStorage.removeItem('guestProfile');\n                  alert('Profile deleted');\n                  window.location.reload(false);\n                  onClose();\n                }}\n              >\n                Yes, Delete it!\n              </button>\n            </div>\n          </div>\n        );\n      }\n    });\n  };\n\n  const checkFMAccess = () => {\n    var temp = [];\n    if (userFrameworks.length > 0) {\n      userFrameworks.forEach(item => {\n        temp.push(item.toLowerCase().replace(/ /g, ''));\n      });\n      if (temp.includes(frameworkName)) {\n        return true;\n      }\n      return false;\n    }\n  };\n  return (\n    <div>\n      <div className=\"introduction\">\n        <div className=\"vf-grid vf-grid__col-2\">\n          <div>\n            <h4>\n              <i className=\"icon icon-common icon-search-document\" /> Discover\n              and explore{' '}\n            </h4>\n            <p>Explore career profiles within this competency framework</p>\n          </div>\n          <div>\n            <h4>\n              <i className=\"icon icon-common icon-user-plus\" /> Create your own\n              profile\n            </h4>\n            <p>\n              Create your own profile and assess yourself against the\n              competencies\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"wrapper\">\n        <div className=\"vf-grid vf-grid__col-2\">\n          <div>\n            <h3>Career profiles</h3>\n          </div>\n          <div>\n            <span style={{ float: 'right' }}>\n              {auth.currently_logged_in_user.roles.length > 0 &&\n              checkFMAccess() ? (\n                <span>\n                  <Link\n                    className=\"vf-button vf-button--primary vf-button--sm\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/`}\n                  >\n                    {' '}\n                    Create reference profile{' '}\n                    <i className=\"icon icon-common icon-user-plus\" />\n                  </Link>\n                </span>\n              ) : (\n                <span />\n              )}\n            </span>\n          </div>\n        </div>\n        <hr />\n        <div className=\"vf-grid vf-grid__col-3\">\n          {guestProfile ? (\n            <div className=\"vf-profile vf-profile--very-easy vf-profile--small vf-profile--block\">\n              <img\n                alt=\"\"\n                src={\n                  guestProfile.image[0] ? guestProfile.image[0].url : user_icon\n                }\n                className=\"vf-profile__image\"\n                width={'auto'}\n                height={'auto'}\n                loading=\"lazy\"\n              />\n              <div>\n                <h4 className=\"vf-profile__title\">\n                  <Link\n                    className=\"vf-profile__link\"\n                    to={`/framework/${guestProfile.frameworkName}/${\n                      guestProfile.versionNumber\n                    }/profile/view/guest`}\n                  >\n                    {guestProfile.job_title}\n                  </Link>\n                </h4>\n\n                <div\n                  style={{\n                    color: '#999',\n                    bottom: '-15px',\n                    position: 'relative'\n                  }}\n                >\n                  <span>\n                    <hr className=\"vf-divider | vf-u-fullbleed\" />\n                  </span>\n\n                  <Link onClick={e => handleDelete(e)} to={`#`}>\n                    Delete your profile{' '}\n                    <i className=\"icon icon-common icon-trash-alt\" />\n                  </Link>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <article className=\"vf-profile vf-profile--very-easy vf-profile--small vf-profile--inline\">\n              <img\n                alt=\"\"\n                src={user_icon}\n                className=\"vf-profile__image\"\n                width={'auto'}\n                height={'auto'}\n                loading=\"lazy\"\n              />\n\n              <Link\n                className=\"vf-button vf-button--primary vf-button--sm\"\n                to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n              >\n                Add your profile{' '}\n              </Link>\n            </article>\n          )}\n          {/* </div> */}\n          {profiles\n            ? profiles.map((profile, index) => {\n                if (!auth.currently_logged_in_user.is_logged_in) {\n                  if (profile.publishing_status === 'Live') {\n                    return (\n                      <div key={index}>\n                        <article className=\"vf-profile vf-profile--very-easy vf-profile--small vf-profile--inline\">\n                          {profile.image[0] ? (\n                            <img\n                              alt=\"\"\n                              src={profile.image[0].url}\n                              className=\"vf-profile__image\"\n                              width={'auto'}\n                              height={'auto'}\n                              loading=\"lazy\"\n                            />\n                          ) : (\n                            <img\n                              alt=\"\"\n                              src={user_icon}\n                              className=\"vf-profile__image\"\n                            />\n                          )}\n                          <h4 className=\"vf-profile__title\">\n                            {profile.job_title ? (\n                              <a\n                                className=\"vf-profile__link\"\n                                href={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                  profile.id\n                                }${profile.url_alias}`}\n                              >\n                                {profile.job_title}\n                              </a>\n                            ) : (\n                              'Job title'\n                            )}\n                          </h4>\n                        </article>\n                      </div>\n                    );\n                  }\n                } else {\n                  return (\n                    <div>\n                      <div className=\"profile_badge\">\n                        <p className={profile.publishing_status}>\n                          {profile.image[0] ? (\n                            <img\n                              alt=\"\"\n                              src={profile.image[0].url}\n                              className=\"profile_img\"\n                            />\n                          ) : (\n                            <img\n                              alt=\"\"\n                              src={user_icon}\n                              className=\"profile_img\"\n                            />\n                          )}\n                        </p>\n\n                        <div className=\"row action-buttons-row my-profile-card\">\n                          <div>\n                            <h4>\n                              {profile.job_title\n                                ? profile.job_title\n                                : 'Job title'}\n                            </h4>\n                            <a\n                              href={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                profile.id\n                              }${profile.url_alias}`}\n                            >\n                              View profile{' '}\n                              <i className=\"icon icon-common icon-angle-right\" />\n                            </a>\n                            <p>&nbsp;</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n                return null;\n              })\n            : ''}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileList;\n","import React, { useState, useEffect } from 'react';\n\nimport user_icon from './user_icon.png';\nimport { apiUrl } from '../services/http/http';\n\nconst PathwaysList = props => {\n  const frameworkName = props.framework;\n  const [pathways, setPathways] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // Removed timestamp\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/pathways/?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setPathways(findresponse);\n        });\n    };\n\n    fetchData();\n  }, [frameworkName]);\n\n  const checkUserAccess = () => {\n    if (localStorage.getItem('roles')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return (\n    <>\n      <div>\n        <p>\n          Learning pathways are collections of training courses and materials to\n          help you learn about a specific topic. Note that some of these\n          resources are external to the EMBL-EBI Competency Hub.\n        </p>\n      </div>\n      {checkUserAccess() === true ? (\n        <a\n          style={{ float: 'right' }}\n          href={`${apiUrl}/node/add/learning_pathway`}\n        >\n          <button className=\"vf-button vf-button--primary vf-button--sm\">\n            Add new learning pathway\n          </button>\n        </a>\n      ) : (\n        ''\n      )}\n      <div className=\"vf-grid vf-grid__col-3\">\n        {pathways\n          ? pathways.map((pathway, index) => {\n              if (!checkUserAccess()) {\n                if (pathway.publishing_status === true) {\n                  return (\n                    <div>\n                      <article className=\"vf-profile vf-profile--very-easy vf-profile--large vf-profile--block\">\n                        {pathway.image[0] ? (\n                          <div className={pathway.publishing_status}>\n                            <img\n                              alt=\"profile\"\n                              src={pathway.image[0].url}\n                              className=\"vf-profile__image\"\n                              width={'auto'}\n                              height={'auto'}\n                            />\n                          </div>\n                        ) : (\n                          <img\n                            alt=\"pathway\"\n                            src={user_icon}\n                            className=\"vf-profile__image\"\n                            width={'auto'}\n                            height={'auto'}\n                          />\n                        )}\n                        <h3 className=\"vf-profile__title\">\n                          {pathway.title ? (\n                            <a\n                              className=\"vf-profile__link\"\n                              href={`${pathway.url_alias}`}\n                            >\n                              {pathway.title}\n                            </a>\n                          ) : (\n                            'Title'\n                          )}\n                        </h3>\n                      </article>\n                    </div>\n                  );\n                }\n              } else {\n                return (\n                  <div>\n                    <article\n                      className={`vf-profile vf-profile--very-easy vf-profile--large vf-profile--block ${\n                        pathway.publishing_status ? 'Live' : 'Draft'\n                      }`}\n                    >\n                      {pathway.image[0] ? (\n                        <div>\n                          <img\n                            alt=\"profile\"\n                            src={pathway.image[0].url}\n                            className=\"vf-profile__image\"\n                            width={'auto'}\n                            height={'auto'}\n                          />\n                        </div>\n                      ) : (\n                        <img\n                          alt=\"pathway\"\n                          src={user_icon}\n                          className=\"vf-profile__image\"\n                          width={'auto'}\n                          height={'auto'}\n                        />\n                      )}\n                      <h3 className=\"vf-profile__title\">\n                        {pathway.title ? (\n                          <a\n                            className=\"vf-profile__link\"\n                            href={`${pathway.url_alias}`}\n                          >\n                            {pathway.title}\n                          </a>\n                        ) : (\n                          'Title'\n                        )}\n                      </h3>\n                    </article>\n                  </div>\n                );\n              }\n              return null;\n            })\n          : ''}\n      </div>\n    </>\n  );\n};\n\nexport default PathwaysList;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CSVLink } from 'react-csv';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\n\nconst FAIRDownload = () => {\n  let http = new HttpService();\n  const [data, setData] = useState();\n  // const [data2, setData2] = useState();\n  const [headers, setHeaders] = useState();\n  const [filters, setFilters] = useState();\n  const [facets, setFacets] = useState('');\n  let history = useHistory();\n  let location = history.location;\n  const frameworkName = location.pathname.split('/')[2];\n  const frameworkVersion = location.pathname.split('/')[3];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await http\n        .get(\n          `${apiUrl}/api/export/${frameworkName}/${frameworkVersion}?_format=json&filters=${facets}&source=competencyhub`\n        )\n        .then(response => response.data);\n      setData(response.data);\n      setHeaders(response.headers);\n      setFilters(response.filters);\n    };\n    fetchData();\n  }, [facets, frameworkName, frameworkVersion, http]);\n\n  const facetClick = e => {\n    let target = e.target;\n    let temp = facets.split(',');\n    //temp.push();\n    if (target.checked) {\n      let index = temp.indexOf(e.target.name);\n      temp.splice(index, 1);\n    } else {\n      temp.push(...facets, e.target.name);\n    }\n    setFacets(temp.join());\n  };\n\n  return (\n    <>\n      <div>\n        <p>\n          Download the information of this framework as a csv file. Choose which\n          identifiers and reference profiles (if available) to include in the\n          table. This option enables you to create derivative works of the\n          competency framework.\n        </p>\n        <div className=\"vf-u-margin__top--800\" />\n        <h3>Filter columns</h3>\n      </div>\n      <div className=\"vf-grid\">\n        <div>\n          <div className=\"vf-u-margin__top--400\" />\n          <h4>Identifiers</h4>\n          <form action=\"#\" className=\"vf-form | vf-search\">\n            {filters\n              ? filters.identifiers.map(filter => {\n                  return (\n                    <div\n                      key={filter}\n                      className=\"vf-form__item vf-form__item--checkbox\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        id={filter}\n                        name={filter}\n                        className=\"vf-form__checkbox\"\n                        //checked={!facets.includes(filter)}\n                        defaultChecked={!facets.includes(filter)}\n                        onClick={e => facetClick(e)}\n                      />\n                      <label htmlFor={filter} className=\"vf-form__label\">\n                        {filter}\n                      </label>\n                    </div>\n                  );\n                })\n              : ''}\n          </form>\n        </div>\n        <div>\n          <div className=\"vf-u-margin__top--400\" />\n          <h4>Reference profiles</h4>\n          <form action=\"#\" className=\"vf-form | vf-search\">\n            <div className=\"vf-form__item\" style={{ columnCount: '2' }}>\n              {filters\n                ? filters.profiles.map(filter => {\n                    return (\n                      <div className=\"vf-form__item vf-form__item--checkbox\">\n                        <input\n                          type=\"checkbox\"\n                          id={filter}\n                          name={filter}\n                          className=\"vf-form__checkbox\"\n                          checked={!facets.includes(filter)}\n                          onClick={e => facetClick(e)}\n                        />\n                        <label for={filter} className=\"vf-form__label\">\n                          {filter}\n                        </label>\n                      </div>\n                    );\n                  })\n                : ''}\n            </div>\n          </form>\n        </div>\n        <div>\n          <div className=\"vf-u-margin__top--1600\" />\n          <CSVLink\n            className=\"vf-button vf-button--primary vf-button--sm\"\n            filename={frameworkName + '_' + frameworkVersion + '.csv'}\n            data={data ? data : ''}\n          >\n            Export\n          </CSVLink>\n        </div>\n      </div>\n      <div className=\"vf-u-margin__top--400\" />\n      <div>\n        <svg className=\"vf-icon-sprite vf-icon-sprite--tables\" display=\"none\">\n          <defs>\n            <g id=\"vf-table-sortable--up\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M17.485,5.062,12.707.284a1.031,1.031,0,0,0-1.415,0L6.515,5.062a1,1,0,0,0,.707,1.707H10.25a.25.25,0,0,1,.25.25V22.492a1.5,1.5,0,1,0,3,0V7.019a.249.249,0,0,1,.25-.25h3.028a1,1,0,0,0,.707-1.707Z\"\n              />\n            </g>\n            <g id=\"vf-table-sortable--down\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M17.7,17.838a1,1,0,0,0-.924-.617H13.75a.249.249,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0V16.971a.25.25,0,0,1-.25.25H7.222a1,1,0,0,0-.707,1.707l4.777,4.778a1,1,0,0,0,1.415,0l4.778-4.778A1,1,0,0,0,17.7,17.838Z\"\n              />\n            </g>\n            <g id=\"vf-table-sortable\">\n              <path\n                xmlns=\"http://www.w3.org/2000/svg\"\n                d=\"M9,19a1,1,0,0,0-.707,1.707l3,3a1,1,0,0,0,1.414,0l3-3A1,1,0,0,0,15,19H13.5a.25.25,0,0,1-.25-.25V5.249A.25.25,0,0,1,13.5,5H15a1,1,0,0,0,.707-1.707l-3-3a1,1,0,0,0-1.414,0l-3,3A1,1,0,0,0,9,5h1.5a.25.25,0,0,1,.25.25v13.5a.25.25,0,0,1-.25.25Z\"\n              />\n            </g>\n          </defs>\n        </svg>\n        <table className=\"vf-table vf-table--striped\">\n          <thead className=\"vf-table__header\">\n            <tr className=\"vf-table__row\">\n              {headers ? (\n                headers.map((header, index) => {\n                  return (\n                    <th key={index} className=\"vf-table__heading\">\n                      {header}\n                    </th>\n                  );\n                })\n              ) : (\n                <th />\n              )}\n            </tr>\n          </thead>\n          <tbody className=\"vf-table__body\">\n            {data ? (\n              data.map((data, index) => {\n                return (\n                  <tr key={index} className=\"vf-table__row\">\n                    {headers ? (\n                      headers.map(header => (\n                        <td key={header} className=\"vf-table__cell\">\n                          {data[header]}\n                        </td>\n                      ))\n                    ) : (\n                      <td />\n                    )}\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <td>\n                  <img alt=\"progress\" src=\"/progressbar.gif\" />\n                  <h4>Loading data...</h4>\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n};\n\nexport default FAIRDownload;\n","import React from 'react';\n// import Parser from 'html-react-parser';\nimport CCBY_IMG from '../components/assets/CC_BY.png';\n\nconst Copyright = framework => {\n  return (\n    <>\n      <figure className=\"vf-figure vf-figure--align vf-figure--align-inline-start\">\n        <img\n          alt=\"\"\n          style={{ width: '125px', marginTop: '5px' }}\n          className=\"vf-figure__image\"\n          src={CCBY_IMG}\n          width={'auto'}\n          height={'auto'}\n          loading=\"lazy\"\n        />\n      </figure>\n      <p>\n        This competency framework is a free cultural work licensed under <br />{' '}\n        a{' '}\n        <a\n          className=\"vf-link\"\n          href=\"https://creativecommons.org/licenses/by/4.0/\"\n        >\n          Creative Commons Attribution 4.0 International (CC BY 4.0){' '}\n        </a>\n        license.\n      </p>\n    </>\n  );\n};\n\nexport default Copyright;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\n\r\nimport DomainList from '../components/domain-list/DomainList';\r\nimport Courses from './courses/Courses';\r\nimport ProfileList from './ProfileList';\r\nimport PathwaysList from './PathwaysList';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport CompetencyService from '../services/competency/competency';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat, removeHtmlTags } from '../services/util/util';\r\nimport FAIRDownload from '../components/FAIRDownload';\r\nimport CoursesService from '../services/courses/courses';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport jsonData from './masterList.json';\r\nimport Copyright from './Copyright';\r\nimport auth from '../services/util/auth';\r\nimport { MetaTags } from 'react-meta-tags';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nclass CompetencyList extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.shape({\r\n      match: PropTypes.shape({ framework: PropTypes.string })\r\n    })\r\n  };\r\n\r\n  competencyService = new CompetencyService();\r\n  activeRequests = new ActiveRequestsService();\r\n  coursesService = new CoursesService();\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkVersion: '',\r\n    frameworkName: '',\r\n    frameworkStatus: '',\r\n    frameworkDescription: '',\r\n    versions: [],\r\n    domains: [],\r\n    filter: '',\r\n    filteredDomains: [],\r\n    loadingError: false,\r\n    trainingResourcesExist: false,\r\n    profileCount: 0,\r\n    pathwayCount: 0,\r\n    attributeTypes: [],\r\n    allResourcesFetched: false,\r\n    visibleTabs: [],\r\n    selectedTabIndex: 0,\r\n    pathnames: this.props.history.location.pathname,\r\n    pathnames_count: 0\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework, version: frameworkVersion } = props.match.params;\r\n    if (\r\n      framework !== state.framework ||\r\n      frameworkVersion !== state.frameworkVersion\r\n    ) {\r\n      return {\r\n        framework,\r\n        frameworkVersion,\r\n        domains: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async setCurrentTab() {\r\n    let visibleTabs = [];\r\n    if (auth.currently_logged_in_user.is_logged_in) {\r\n      visibleTabs.push('career-profiles');\r\n      visibleTabs.push('competencies');\r\n      visibleTabs.push('training-resources');\r\n      visibleTabs.push('learning-pathways');\r\n    } else {\r\n      if (this.state.profileCount > 0) {\r\n        visibleTabs.push('career-profiles');\r\n      }\r\n      visibleTabs.push('competencies');\r\n      if (this.state.trainingResourcesExist) {\r\n        visibleTabs.push('training-resources');\r\n      }\r\n      if (this.state.pathwayCount > 0) {\r\n        visibleTabs.push('learning-pathways');\r\n      }\r\n    }\r\n    // visibleTabs.push('competencies');\r\n    // if (this.state.trainingResourcesExist) {\r\n    //   visibleTabs.push('training-resources');\r\n    // }\r\n    visibleTabs.push('export');\r\n    await this.setState({ visibleTabs: visibleTabs });\r\n    let currentUrl = window.location.href;\r\n    let selectedTabIndex = 0;\r\n    for (let i = 0; i < this.state.visibleTabs.length; i++) {\r\n      if (currentUrl.includes(this.state.visibleTabs[i])) {\r\n        console.log(this.state.visibleTabs[i]);\r\n        selectedTabIndex = i;\r\n      }\r\n    }\r\n    await this.setState({\r\n      selectedTabIndex: selectedTabIndex\r\n    });\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, version: frameworkVersion } = this.props.match.params;\r\n    this.setState({ pathnames_count: this.state.pathnames.split('/').length });\r\n    window.vfTabs();\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        await this.fetchFramework(framework, frameworkVersion),\r\n        await this.fetchVersions(framework),\r\n        await this.fetchProfiles(),\r\n        await this.fetchPathways(),\r\n        await this.coursesService\r\n          .checkForTrainingResources(1, '', 'All', framework)\r\n          .then(count => {\r\n            if (count > 0) {\r\n              this.setState({\r\n                trainingResourcesExist: true\r\n              });\r\n            }\r\n          })\r\n      ]).then(() => {\r\n        this.setState({\r\n          allResourcesFetched: true\r\n        });\r\n        this.setCurrentTab();\r\n      });\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkVersion, domains, loadingError } = this.state;\r\n    if (\r\n      framework !== prevState.framework ||\r\n      frameworkVersion !== prevState.frameworkVersion\r\n    ) {\r\n      if (domains.length === 0 && !loadingError) {\r\n        try {\r\n          this.activeRequests.startRequest();\r\n          await this.fetchFramework(framework, frameworkVersion);\r\n        } catch (error) {\r\n          this.setState({ loadingError: true });\r\n        } finally {\r\n          this.activeRequests.finishRequest();\r\n        }\r\n      }\r\n      this.fetchProfiles();\r\n      this.fetchPathways();\r\n    }\r\n  }\r\n\r\n  // Removed timestamp\r\n  fetchProfiles() {\r\n    const { framework, frameworkVersion } = this.state;\r\n    fetch(\r\n      `${apiUrl}/api/${framework}/${frameworkVersion}/profiles?_format=json&source=competencyhub`\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findResponse => {\r\n        this.setState({\r\n          profileCount: findResponse.filter(\r\n            item => item.publishing_status === 'Live'\r\n          ).length\r\n        });\r\n      });\r\n  }\r\n\r\n  // Removed timestamp\r\n  fetchPathways() {\r\n    const { framework } = this.state;\r\n    fetch(\r\n      `${apiUrl}/api/${framework}/pathways?_format=json&source=competencyhub`\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findResponse => {\r\n        this.setState({\r\n          pathwayCount: findResponse.filter(\r\n            item => item.publishing_status === true\r\n          ).length\r\n          //pathwayCount: findResponse.length\r\n        });\r\n      });\r\n  }\r\n\r\n  async fetchFramework(framework, frameworkVersion) {\r\n    window.scroll(0, 0);\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      frameworkVersion\r\n    );\r\n    const domains = safeFlat(frameworkData.map(item => item.domains));\r\n    const frameworkDescription = removeHtmlTags(frameworkData[0].description);\r\n\r\n    this.setState({\r\n      frameworkName: frameworkData[0].title,\r\n      //frameworkStatus: frameworkData[0].status,\r\n      frameworkDescription,\r\n      domains,\r\n      filteredDomains: domains,\r\n      frameWorkId: frameworkData[0].nid\r\n    });\r\n\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase().replace(/ /g, '') === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const versionStatus = currentFramework[0].versions.filter(\r\n        vr => vr.number === frameworkVersion\r\n      );\r\n      this.setState({ frameworkStatus: versionStatus[0].status });\r\n      let attrTypes = currentFramework[0].attribute_types.map(\r\n        type => type.title\r\n      );\r\n      this.setState({ attributeTypes: attrTypes });\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase().replace(/ /g, '') === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { domains } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredDomains = domains.map(domain => {\r\n      const filteredCompetencies = domain.competencies.filter(competency =>\r\n        term.test(competency.title)\r\n      );\r\n      if (filteredCompetencies.length === 0) {\r\n        return null;\r\n      }\r\n      return { ...domain, competencies: filteredCompetencies };\r\n    });\r\n    this.setState({ filter, filteredDomains });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkVersion,\r\n      frameworkName,\r\n      frameWorkId,\r\n      frameworkStatus,\r\n      frameworkDescription,\r\n      filteredDomains,\r\n      versions,\r\n      filter,\r\n      loadingError,\r\n      attributeTypes\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    const domainList = filteredDomains.map(domain =>\r\n      domain === null ? null : (\r\n        <DomainList\r\n          key={domain.nid}\r\n          framework={framework}\r\n          domain={domain}\r\n          disable={true}\r\n          version={frameworkVersion}\r\n          attributeTypes={attributeTypes}\r\n          trainingResourcesExist={this.state.trainingResourcesExist}\r\n        />\r\n      )\r\n    );\r\n\r\n    const changeTabURL = e => {\r\n      e.currentTarget.children[0].click();\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <MetaTags>\r\n          <title>\r\n            {\r\n              jsonData.filter(item => item.title === this.state.framework)[0]\r\n                .desc\r\n            }\r\n          </title>\r\n          <meta\r\n            property=\"og:title\"\r\n            content={\r\n              jsonData.filter(item => item.title === this.state.framework)[0]\r\n                .desc\r\n            }\r\n          />\r\n          <meta property=\"og:type\" content=\"website\" />\r\n          <meta\r\n            property=\"og:url\"\r\n            content={`https://competency.ebi.ac.uk${\r\n              this.props.history.location.pathname\r\n            }`}\r\n          />\r\n          <meta\r\n            property=\"og:image\"\r\n            content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\r\n          />\r\n          <meta property=\"og:description\" content={frameworkDescription} />\r\n          <meta name=\"description\" content={frameworkDescription} />\r\n          <meta\r\n            property=\"keywords\"\r\n            content={`training, competencies, career profiles, ${\r\n              jsonData.filter(item => item.title === this.state.framework)[0]\r\n                .desc\r\n            }${\r\n              frameworkName === 'ISCB'\r\n                ? ', computational biology competencies'\r\n                : ''\r\n            }`}\r\n          />\r\n        </MetaTags>\r\n        <Helmet>\r\n          <link rel=\"canonical\" href={this.props.location.pathname} />\r\n        </Helmet>\r\n        <div className=\"vf-u-margin__top--400\" />\r\n        <h2>\r\n          {' '}\r\n          {\r\n            jsonData.filter(item => item.title === this.state.framework)[0].desc\r\n          }{' '}\r\n        </h2>\r\n        <h3>{frameworkName}</h3>\r\n        <p>\r\n          <span className=\"vf-badge\">{frameworkVersion}</span>\r\n          <span className=\"vf-badge vf-badge--primary\"> {frameworkStatus}</span>\r\n        </p>\r\n        <p>{frameworkDescription}</p>\r\n        {console.log(this.state.visibleTabs)}\r\n        {this.state.allResourcesFetched ? (\r\n          <Tabs\r\n            className=\"vf-tabs ch_tabs__list\"\r\n            selectedIndex={this.state.selectedTabIndex}\r\n            onSelect={index =>\r\n              this.setState({\r\n                selectedTabIndex: index\r\n              })\r\n            }\r\n          >\r\n            <TabList className=\"vf-tabs__list\">\r\n              {localStorage.getItem('roles') ? (\r\n                <Tab onClick={e => changeTabURL(e)}>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/career-profiles`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Career profiles\r\n                  </Link>\r\n                </Tab>\r\n              ) : this.state.profileCount > 0 ? (\r\n                <Tab onClick={e => changeTabURL(e)}>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/career-profiles`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Career profiles\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              <Tab onClick={e => changeTabURL(e)}>\r\n                <Link\r\n                  to={`/framework/${framework}/${\r\n                    this.props.match.params.version\r\n                  }/competencies`}\r\n                  className=\"customTabLinks\"\r\n                >\r\n                  Competencies\r\n                </Link>\r\n              </Tab>\r\n\r\n              {this.state.trainingResourcesExist ? (\r\n                <Tab onClick={e => changeTabURL(e)}>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/training-resources`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Training resources\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              {localStorage.getItem('roles') ? (\r\n                <Tab onClick={e => changeTabURL(e)}>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/learning-pathways`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Learning pathways\r\n                  </Link>\r\n                </Tab>\r\n              ) : this.state.pathwayCount > 0 ? (\r\n                <Tab onClick={e => changeTabURL(e)}>\r\n                  <Link\r\n                    to={`/framework/${framework}/${\r\n                      this.props.match.params.version\r\n                    }/learning-pathways`}\r\n                    className=\"customTabLinks\"\r\n                  >\r\n                    Learning pathways\r\n                  </Link>\r\n                </Tab>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <Tab onClick={e => changeTabURL(e)}>\r\n                <Link\r\n                  to={`/framework/${framework}/${\r\n                    this.props.match.params.version\r\n                  }/export`}\r\n                  className=\"customTabLinks\"\r\n                >\r\n                  Export\r\n                </Link>\r\n              </Tab>\r\n            </TabList>\r\n\r\n            {localStorage.getItem('roles') ? (\r\n              <TabPanel>\r\n                <ProfileList framework={framework} version={frameworkVersion} />\r\n                <div className=\"vf-grid\">\r\n                  <div>\r\n                    <FrameworkVersions\r\n                      framework={framework}\r\n                      versions={versions}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Copyright framework={framework} />\r\n                  </div>\r\n                </div>\r\n              </TabPanel>\r\n            ) : this.state.profileCount > 0 ? (\r\n              <TabPanel>\r\n                <ProfileList framework={framework} version={frameworkVersion} />\r\n                <div className=\"vf-u-margin__top--1600\" />\r\n                <div className=\"vf-grid\">\r\n                  <div>\r\n                    <FrameworkVersions\r\n                      framework={framework}\r\n                      versions={versions}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Copyright framework={framework} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"vf-u-margin__top--1600\" />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <TabPanel>\r\n              <form\r\n                action=\"#\"\r\n                className=\"vf-form | vf-search vf-search--inline\"\r\n              >\r\n                <div className=\"vf-form__item | vf-search__item\">\r\n                  <label\r\n                    className=\"vf-form__label vf-u-sr-only | vf-search__label\"\r\n                    htmlFor=\"inlinesearchitem\"\r\n                  >\r\n                    Inline search\r\n                  </label>\r\n                  <input\r\n                    type=\"search\"\r\n                    placeholder=\"Filter competencies\"\r\n                    id=\"inlinesearchitem\"\r\n                    className=\"vf-form__input | vf-search__input\"\r\n                    onChange={event => this.onFilter(event.target.value)}\r\n                    value={filter}\r\n                  />\r\n                </div>\r\n              </form>\r\n              <div className=\"vf-u-margin__top--800\" />\r\n              <div>{domainList}</div>\r\n              <div className=\"vf-u-margin__top--800\" />\r\n              <div className=\"vf-grid\">\r\n                <div>\r\n                  <FrameworkVersions\r\n                    framework={framework}\r\n                    versions={versions}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Copyright framework={framework} />\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__top--1600\" />\r\n            </TabPanel>\r\n\r\n            {this.state.trainingResourcesExist ? (\r\n              <TabPanel>\r\n                <Courses\r\n                  framework={framework}\r\n                  version={frameworkVersion}\r\n                  frameworkId={frameWorkId}\r\n                />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {localStorage.getItem('roles') ? (\r\n              <TabPanel>\r\n                <PathwaysList framework={framework} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n                <div className=\"vf-u-margin__top--1600\" />\r\n              </TabPanel>\r\n            ) : this.state.pathwayCount > 0 ? (\r\n              <TabPanel>\r\n                <PathwaysList framework={framework} />\r\n                <FrameworkVersions framework={framework} versions={versions} />\r\n                <div className=\"vf-u-margin__top--1600\" />\r\n              </TabPanel>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <TabPanel>\r\n              <FAIRDownload />\r\n              <FrameworkVersions framework={framework} versions={versions} />\r\n              <div className=\"vf-u-margin__top--1200\" />\r\n            </TabPanel>\r\n          </Tabs>\r\n        ) : (\r\n          <div>\r\n            <div className=\"vf-u-margin__top--200\" />\r\n            <span>Fetching data...</span>\r\n            <img\r\n              alt=\"progress\"\r\n              style={{ width: '7%' }}\r\n              src=\"/progressbar.gif\"\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CompetencyList;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { apiUrl, apiUrlWithHTTP } from '../services/http/http';\r\nimport axios from 'axios';\r\nimport CKEditor from 'react-ckeditor-component';\r\n\r\nclass ResourceEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      training_resource: {},\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      path: this.props.location.pathname.split('/'),\r\n      training_resource_slug: ''\r\n    };\r\n  }\r\n\r\n  dateValidate(d1, d2) {\r\n    let date1 = new Date(d1);\r\n    let date2 = new Date(d2);\r\n    return date1 <= date2;\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let csrf = localStorage.getItem('csrf_token');\r\n\r\n    if (\r\n      this.dateValidate(\r\n        this.state.training_resource.dates,\r\n        this.state.training_resource.end_date\r\n      )\r\n    ) {\r\n      let data_to_send = {\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrlWithHTTP}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        title: [\r\n          {\r\n            value: this.state.training_resource.title\r\n          }\r\n        ],\r\n        field_dates: [\r\n          {\r\n            value: this.state.training_resource.dates\r\n              ? this.state.training_resource.dates\r\n              : null\r\n          }\r\n        ],\r\n        field_end_date: [\r\n          {\r\n            value: this.state.training_resource.end_date\r\n              ? this.state.training_resource.end_date\r\n              : null\r\n          }\r\n        ],\r\n        field_type: [\r\n          {\r\n            value: this.state.training_resource.type\r\n          }\r\n        ],\r\n        field_description: [\r\n          {\r\n            value: this.state.training_resource.description,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_location: [\r\n          {\r\n            value: this.state.training_resource.location\r\n          }\r\n        ],\r\n        field_url: [\r\n          {\r\n            value: this.state.training_resource.url\r\n          }\r\n        ],\r\n        field_target_audience: [\r\n          {\r\n            value: this.state.training_resource.target_audience,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_learning_outcomes: [\r\n          {\r\n            value: this.state.training_resource.learning_outcomes,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_domain_topics: [\r\n          {\r\n            value: this.state.training_resource.keywords\r\n          }\r\n        ],\r\n        field_organisers: [\r\n          {\r\n            value: this.state.training_resource.organisers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_trainers: [\r\n          {\r\n            value: this.state.training_resource.trainers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      };\r\n      axios\r\n        .patch(\r\n          `${apiUrl}/node/` +\r\n            this.state.training_resource.id +\r\n            '?_format=hal_json',\r\n          data_to_send,\r\n          {\r\n            withCredentials: true,\r\n            headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/hal+json',\r\n              'X-CSRF-Token': csrf\r\n            }\r\n          }\r\n        )\r\n        .then(() => {\r\n          this.redirectTo();\r\n        });\r\n    } else {\r\n      alert('Incorrect dates');\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ training_resource_slug: this.state.path[3] });\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n    axios\r\n      .get(\r\n        `${apiUrl}/api/resources/?_format=json&slug=${\r\n          this.state.path[3]\r\n        }&timestamp=${Date.now()}&source=competencyhub`\r\n      )\r\n      .then(response => {\r\n        this.setState({ training_resource: response.data });\r\n      });\r\n  }\r\n\r\n  handleChange(event) {\r\n    console.log('TR', this.state.training_resource);\r\n    let fields = this.state.training_resource;\r\n    let value = event.target.value;\r\n    fields[event.target.name] = value.replace(/(<([^>]+)>)/gi, '');\r\n    this.setState({ fields });\r\n  }\r\n\r\n  handleCKEditorChange(event, input_name) {\r\n    let fields = this.state.training_resource;\r\n    fields[input_name] = event.editor.getData();\r\n    this.setState({ fields });\r\n  }\r\n\r\n  redirectTo() {\r\n    this.props.history.push(\r\n      '/training-resources/' + this.state.training_resource_slug\r\n    );\r\n  }\r\n\r\n  buildTrainingResourceEditForm() {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `${apiUrl}/api/resources/?_format=json&slug=${\r\n            this.state.path[3]\r\n          }&timestamp=${Date.now()}&source=competencyhub`\r\n        )\r\n        .then(response => {\r\n          resolve(response.data);\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Edit Training Resources</h2>\r\n        {this.state.training_resource.tess_id ? (\r\n          <p>\r\n            Tess content provider:{' '}\r\n            {this.state.training_resource.tess_content_provider}\r\n          </p>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <p>(* fields are mandatory)</p>\r\n        <div className=\"row\">\r\n          <div className=\"column large-12 callout\">\r\n            <form\r\n              className=\"vf-form\"\r\n              id={'resource_edit_form'}\r\n              onSubmit={event => this.handleSubmit(event)}\r\n            >\r\n              <div className=\"vf-form__item\">\r\n                <strong>Title *</strong>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"title\"\r\n                  id={'title'}\r\n                  name=\"title\"\r\n                  value={this.state.training_resource.title}\r\n                  onChange={event => this.handleChange(event)}\r\n                  required\r\n                  placeholder=\"Title\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-grid\">\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    name={'dates'}\r\n                    ref=\"dates\"\r\n                    value={this.state.training_resource.dates}\r\n                    onChange={event => this.handleChange(event)}\r\n                    placeholder=\"Date\"\r\n                    className=\"vf-form__input\"\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    name={'end_date'}\r\n                    ref=\"dates2\"\r\n                    value={this.state.training_resource.end_date}\r\n                    onChange={event => this.handleChange(event)}\r\n                    placeholder=\"Date\"\r\n                    className=\"vf-form__input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n\r\n              <div className=\"vf-form__item\">\r\n                <strong>Event type *</strong>\r\n                <select\r\n                  ref={'type'}\r\n                  name={'type'}\r\n                  value={this.state.training_resource.type}\r\n                  onChange={event => this.handleChange(event)}\r\n                  className=\"vf-form__select\"\r\n                >\r\n                  <option value={'Online'}>Online</option>\r\n                  <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                  <option value={'Webinar'}>Webinar</option>\r\n                  <option value={'Hackathon'}>Hackathon</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Description</strong>\r\n                <CKEditor\r\n                  content={this.state.training_resource.description}\r\n                  name={'description'}\r\n                  events={{\r\n                    change: event =>\r\n                      this.handleCKEditorChange(event, 'description')\r\n                  }}\r\n                  onChange={event =>\r\n                    this.handleCKEditorChange(event, 'description')\r\n                  }\r\n                  activeClass=\"p10\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Location</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"location\"\r\n                  name={'location'}\r\n                  value={this.state.training_resource.location}\r\n                  onChange={event => this.handleChange(event)}\r\n                  placeholder=\"Location\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>URL *</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"url\"\r\n                  name={'url'}\r\n                  value={this.state.training_resource.url}\r\n                  onChange={event => this.handleChange(event)}\r\n                  required\r\n                  placeholder=\"URL\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Target audience</strong>\r\n                <CKEditor\r\n                  name={'target_audience'}\r\n                  content={this.state.training_resource.target_audience}\r\n                  events={{\r\n                    change: event =>\r\n                      this.handleCKEditorChange(event, 'target_audience')\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Learning outcomes</strong>\r\n                <CKEditor\r\n                  name={'learning_outcomes'}\r\n                  content={this.state.training_resource.learning_outcomes}\r\n                  events={{\r\n                    change: event =>\r\n                      this.handleCKEditorChange(event, 'learning_outcomes')\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Organisers</strong>\r\n                <CKEditor\r\n                  name={'organisers'}\r\n                  content={this.state.training_resource.organisers}\r\n                  events={{\r\n                    change: event =>\r\n                      this.handleCKEditorChange(event, 'organisers')\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Trainers</strong>\r\n                <CKEditor\r\n                  name={'trainers'}\r\n                  content={this.state.training_resource.trainers}\r\n                  events={{\r\n                    change: event =>\r\n                      this.handleCKEditorChange(event, 'trainers')\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Keywords</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  ref=\"keywords\"\r\n                  name={'keywords'}\r\n                  value={this.state.training_resource.keywords}\r\n                  onChange={event => this.handleChange(event)}\r\n                  placeholder=\"Keywords\"\r\n                  className=\"vf-form__input\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"vf-button vf-button--primary vf-button--sm\"\r\n                  value=\"Update\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst EditResources = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path=\"/training-resource/edit/:training_resource_slug\"\r\n      component={ResourceEdit}\r\n    />\r\n  </Switch>\r\n);\r\n\r\nexport default EditResources;\r\n","import React from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport CKEditor from 'react-ckeditor-component';\r\nimport { apiUrl, apiUrlWithHTTP } from '../services/http/http';\r\nimport { extractSlugFromBackendUrl } from '../services/util/slugifier';\r\n\r\nclass ResourceCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //this.onChange = this.onChange.bind(this);\r\n    this.changeTitle = this.changeTitle.bind(this);\r\n    this.changeDescription = this.changeDescription.bind(this);\r\n    this.changeType = this.changeType.bind(this);\r\n    this.changeTargetAudience = this.changeTargetAudience.bind(this);\r\n    this.changeLearningOutcomes = this.changeLearningOutcomes.bind(this);\r\n    this.changeOrganisers = this.changeOrganisers.bind(this);\r\n    this.changeTrainers = this.changeTrainers.bind(this);\r\n    this.changeLocation = this.changeLocation.bind(this);\r\n    this.changeUrl = this.changeUrl.bind(this);\r\n    this.changeDates = this.changeDates.bind(this);\r\n    this.changeDates2 = this.changeDates2.bind(this);\r\n    this.changeKeywords = this.changeKeywords.bind(this);\r\n    this.changeProvider = this.changeProvider.bind(this);\r\n    this.changeCategory = this.changeCategory.bind(this);\r\n    this.getAutocomplete = this.getAutocomplete.bind(this);\r\n    this.optionClick = this.optionClick.bind(this);\r\n\r\n    this.state = {\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      content: 'content',\r\n      tess_id: '',\r\n      title: '',\r\n      description: '',\r\n      type: '',\r\n      target_audience: '',\r\n      learning_outcomes: '',\r\n      location: '',\r\n      url: '',\r\n      organisers: '',\r\n      trainers: '',\r\n      dates: '',\r\n      dates2: '',\r\n      keywords: '',\r\n      tessResources: [],\r\n      provider: '',\r\n      providers: [],\r\n      category: '',\r\n      showAutocomplete: false,\r\n      autocompleteTerm: '',\r\n      loading: false\r\n    };\r\n  }\r\n\r\n  showLoadingStyle() {\r\n    if (this.state.loading) {\r\n      return {\r\n        background: 'url(../progressbar.gif)',\r\n        backgroundSize: '8%',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPositionX: 'right'\r\n      };\r\n    }\r\n    return;\r\n  }\r\n\r\n  changeTitle(evt) {\r\n    this.setState({ title: evt.currentTarget.value });\r\n  }\r\n\r\n  changeDescription(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ description: newContent });\r\n  }\r\n\r\n  changeType(evt) {\r\n    this.setState({ type: evt.currentTarget.value });\r\n  }\r\n\r\n  changeTargetAudience(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ target_audience: newContent });\r\n  }\r\n\r\n  changeLearningOutcomes(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ learning_outcomes: newContent });\r\n  }\r\n\r\n  changeOrganisers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ organisers: newContent });\r\n  }\r\n\r\n  changeTrainers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ trainers: newContent });\r\n  }\r\n\r\n  changeLocation(evt) {\r\n    this.setState({ location: evt.currentTarget.value });\r\n  }\r\n\r\n  changeUrl(evt) {\r\n    this.setState({ url: evt.currentTarget.value });\r\n  }\r\n\r\n  changeDates(evt) {\r\n    this.setState({ dates: evt.currentTarget.value });\r\n  }\r\n\r\n  changeDates2(evt) {\r\n    this.setState({ dates2: evt.currentTarget.value });\r\n  }\r\n\r\n  changeKeywords(evt) {\r\n    this.setState({ keywords: evt.currentTarget.value });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      setTimeout(() => {\r\n        this.props.history.push('/all-training-resources');\r\n        //this.setState({'updateFlag': false});\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // let csrfURL = `${apiUrl}/rest/session/token`;\r\n    // fetch(csrfURL)\r\n    //   .then(Response => Response)\r\n    //   .then(findresponse2 => {\r\n    //     this.setState({ csrf: findresponse2 });\r\n    //   });\r\n  }\r\n\r\n  changeCategory(value) {\r\n    this.setState({ category: value.toLowerCase(), loading: true });\r\n    fetch(\r\n      `https://tess.elixir-europe.org/content_providers?page_size=200&sort=asc`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          accept: 'application/vnd.api+json'\r\n        }\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({ providers: response, loading: false });\r\n      });\r\n  }\r\n\r\n  changeProvider(value) {\r\n    this.setState({ provider: value, loading: true });\r\n    let category = this.state.category.toLowerCase();\r\n    let extraParams = category === 'events' ? '&sort=late' : '';\r\n    fetch(\r\n      `https://tess.elixir-europe.org/${category}?content_provider=${value}&page_size=5000${extraParams}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          accept: 'application/vnd.api+json'\r\n        }\r\n      }\r\n    )\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({ tessResources: response, loading: false });\r\n      });\r\n  }\r\n\r\n  getAutocomplete(e) {\r\n    console.log(e.currentTarget.value);\r\n    this.setState({\r\n      showAutocomplete: true,\r\n      autocompleteTerm: e.currentTarget.value\r\n    });\r\n  }\r\n\r\n  optionClick(id) {\r\n    let selectedResource = this.state.tessResources.data.filter(\r\n      item => item.id === id\r\n    );\r\n    let startDate = '';\r\n    let endDate = '';\r\n    if (this.state.category === 'events') {\r\n      startDate = selectedResource[0].attributes.start.slice(0, 10);\r\n      endDate = selectedResource[0].attributes.end.slice(0, 10);\r\n    }\r\n\r\n    this.setState({\r\n      showAutocomplete: false,\r\n      title: selectedResource[0].attributes.title,\r\n      description: selectedResource[0].attributes.description,\r\n      target_audience: selectedResource[0].attributes[\r\n        'target-audience'\r\n      ].toString(),\r\n      location: selectedResource[0].attributes.venue,\r\n      url: selectedResource[0].attributes.url,\r\n      organisers: selectedResource[0].attributes.organizer,\r\n      dates: startDate,\r\n      dates2: endDate,\r\n      keywords: selectedResource[0].attributes.keywords.toString()\r\n    });\r\n  }\r\n\r\n  dateValidate(d1, d2) {\r\n    let date1 = new Date(d1);\r\n    let date2 = new Date(d2);\r\n\r\n    if (date1 > date2) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let title = this.state.title;\r\n    let dates = this.state.dates;\r\n    let dates2 = this.state.dates2;\r\n    let type = 'Online';\r\n    if (this.state.type) {\r\n      type = this.state.type;\r\n    }\r\n\r\n    let description = this.state.description;\r\n    let location = this.state.location;\r\n    let url = this.state.url;\r\n    let target_audience = this.state.target_audience;\r\n    let learning_outcomes = this.state.learning_outcomes;\r\n    let keywords = this.state.keywords;\r\n    let organisers = this.state.organisers;\r\n    let trainers = this.state.trainers;\r\n    let tess_id = this.state.tess_id;\r\n    let tess_category = this.state.category\r\n      ? this.state.category.charAt(0).toUpperCase() +\r\n        this.state.category.slice(1)\r\n      : '';\r\n    let tess_conten_provider = this.state.provider;\r\n\r\n    let token = localStorage.getItem('csrf_token');\r\n    if (this.dateValidate(dates, dates2)) {\r\n      fetch(`${apiUrl}/node?_format=hal_json`, {\r\n        credentials: 'include',\r\n        method: 'POST',\r\n        cookies: 'x-access-token',\r\n        headers: {\r\n          Accept: 'application/hal+json',\r\n          'Content-Type': 'application/hal+json',\r\n          'X-CSRF-Token': token,\r\n          Authorization: 'Basic'\r\n        },\r\n        body: JSON.stringify({\r\n          _links: {\r\n            type: {\r\n              href: `${apiUrlWithHTTP}/rest/type/node/training_resource`\r\n            }\r\n          },\r\n          title: [\r\n            {\r\n              value: title\r\n            }\r\n          ],\r\n          field_dates: [\r\n            {\r\n              value: dates ? dates : null\r\n            }\r\n          ],\r\n          field_end_date: [\r\n            {\r\n              value: dates2 ? dates2 : null\r\n            }\r\n          ],\r\n          field_type: [\r\n            {\r\n              value: type\r\n            }\r\n          ],\r\n          field_description: [\r\n            {\r\n              value: description,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_location: [\r\n            {\r\n              value: location\r\n            }\r\n          ],\r\n          field_url: [\r\n            {\r\n              value: url\r\n            }\r\n          ],\r\n          field_target_audience: [\r\n            {\r\n              value: target_audience,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_learning_outcomes: [\r\n            {\r\n              value: learning_outcomes,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_domain_topics: [\r\n            {\r\n              value: keywords\r\n            }\r\n          ],\r\n          field_organisers: [\r\n            {\r\n              value: organisers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_trainers: [\r\n            {\r\n              value: trainers,\r\n              format: 'basic_html'\r\n            }\r\n          ],\r\n          field_tess_id: [\r\n            {\r\n              value: tess_id\r\n            }\r\n          ],\r\n          field_tess_category: [\r\n            {\r\n              value: tess_category\r\n            }\r\n          ],\r\n          field_tess_content_provider: [\r\n            {\r\n              value: tess_conten_provider\r\n            }\r\n          ],\r\n\r\n          type: [\r\n            {\r\n              target_id: 'training_resource'\r\n            }\r\n          ]\r\n        })\r\n      })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          this.props.history.push({\r\n            pathname: `/training-resources/${extractSlugFromBackendUrl(\r\n              data._links.self.href\r\n            )}`\r\n          });\r\n          // console.log(data.path);\r\n        });\r\n    } else {\r\n      alert('Incorrect dates');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <nav>\r\n          <Link to={`/`}>Home</Link> /{' '}\r\n          <Link to={`/all-training-resources`}>All training resources</Link> /\r\n          Create resource{' '}\r\n        </nav>\r\n        <h2>Create Training Resource</h2>\r\n        <p>(* fields are mandatory)</p>\r\n\r\n        <div>\r\n          <div>\r\n            <form\r\n              className=\"vf-form\"\r\n              id={'resource_create_form'}\r\n              onSubmit={this.handleSubmit.bind(this)}\r\n            >\r\n              <div className=\"vf-grid\">\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Select category from TeSS:</strong>\r\n                  <select\r\n                    style={this.showLoadingStyle()}\r\n                    className=\"vf-form__select\"\r\n                    ref={'provider'}\r\n                    onChange={e => this.changeCategory(e.currentTarget.value)}\r\n                  >\r\n                    <option>-None-</option>\r\n                    <option>Events</option>\r\n                    <option>Materials</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"vf-form__item\">\r\n                  <div>\r\n                    <strong>Select provider from TeSS:</strong>\r\n                    <select\r\n                      style={this.showLoadingStyle()}\r\n                      className=\"vf-form__select\"\r\n                      ref={'provider'}\r\n                      onChange={e => this.changeProvider(e.currentTarget.value)}\r\n                    >\r\n                      <option>-None-</option>\r\n                      {/* {this.state.tessResources.meta\r\n                        ? this.state.tessResources.meta['available-facets'][\r\n                          'content-provider'\r\n                        ].map((provider, key) => {\r\n                          return <option key={key}>{provider.value}</option>;\r\n                        })\r\n                        : ''} */}\r\n                      {this.state.providers.data\r\n                        ? this.state.providers.data\r\n                            .filter(provider => provider.id !== '2')\r\n                            .map((provider, key) => {\r\n                              return (\r\n                                <option key={key}>\r\n                                  {provider.attributes.title}\r\n                                </option>\r\n                              );\r\n                            })\r\n                        : ''}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n\r\n              <div className=\"vf-form__item\">\r\n                <strong>Title *</strong>\r\n                <input\r\n                  className=\"vf-form__input\"\r\n                  type=\"text\"\r\n                  ref=\"title\"\r\n                  required\r\n                  placeholder=\"Title\"\r\n                  onKeyDown={e => this.getAutocomplete(e)}\r\n                  value={this.state.title}\r\n                  onChange={evt => this.changeTitle(evt)}\r\n                />\r\n                {this.state.showAutocomplete === true &&\r\n                this.state.provider &&\r\n                this.state.category ? (\r\n                  <ul className=\"vf-list suggestions_results\">\r\n                    {this.state.tessResources.data\r\n                      .filter(resource =>\r\n                        resource.attributes.title\r\n                          .toLowerCase()\r\n                          .includes(this.state.autocompleteTerm)\r\n                      )\r\n                      .map((item, key) => {\r\n                        return (\r\n                          <li\r\n                            key={key}\r\n                            className={`vf-list__item`}\r\n                            onClick={() => this.optionClick(item.id)}\r\n                          >\r\n                            <p>\r\n                              {item.attributes.title}{' '}\r\n                              {this.state.category === 'events'\r\n                                ? '-' + item.attributes.start.slice(0, 4)\r\n                                : ''}{' '}\r\n                            </p>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                  </ul>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-grid\">\r\n                <div className=\"vf-form__item\">\r\n                  <strong>Start Date</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"vf-form__input\"\r\n                    ref=\"dates\"\r\n                    placeholder=\"Date\"\r\n                    value={this.state.dates}\r\n                    onChange={evt => this.changeDates(evt)}\r\n                  />\r\n                </div>\r\n                <div className=\"vf-form__item\">\r\n                  <strong>End Date</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"vf-form__input\"\r\n                    ref=\"dates2\"\r\n                    placeholder=\"Date\"\r\n                    value={this.state.dates2}\r\n                    onChange={evt => this.changeDates2(evt)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Event type *</strong>\r\n                <select\r\n                  className=\"vf-form__select\"\r\n                  // selectedOption={this.state.type}\r\n                  onChange={e => this.changeType(e)}\r\n                >\r\n                  <option value={'Online'}>Online</option>\r\n                  <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                  <option value={'Webinar'}>Webinar</option>\r\n                  <option value={'Hackathon'}>Hackathon</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Description</strong>\r\n                <CKEditor\r\n                  content={this.state.description}\r\n                  events={{\r\n                    change: this.changeDescription\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Location</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"location\"\r\n                  placeholder=\"Location\"\r\n                  value={this.state.location || ''}\r\n                  onChange={evt => this.changeLocation(evt)}\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>URL *</strong>\r\n                <input\r\n                  type=\"url\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"url\"\r\n                  required\r\n                  placeholder=\"URL\"\r\n                  value={this.state.url}\r\n                  onChange={evt => this.changeUrl(evt)}\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Target audience</strong>\r\n                <CKEditor\r\n                  content={this.state.target_audience}\r\n                  events={{\r\n                    change: this.changeTargetAudience\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Learning outcomes</strong>\r\n                <CKEditor\r\n                  content={this.state.learning_outcomes}\r\n                  events={{\r\n                    change: this.changeLearningOutcomes\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Organisers</strong>\r\n                <CKEditor\r\n                  content={this.state.organisers}\r\n                  events={{\r\n                    change: this.changeOrganisers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Trainers</strong>\r\n                <CKEditor\r\n                  content={this.state.trainers}\r\n                  events={{\r\n                    change: this.changeTrainers\r\n                  }}\r\n                  activeClass=\"p10\"\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <strong>Keywords</strong>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"vf-form__input\"\r\n                  ref=\"keywords\"\r\n                  placeholder=\"Keywords\"\r\n                  value={this.state.keywords}\r\n                  onChange={evt => this.changeKeywords(evt)}\r\n                />\r\n              </div>\r\n              <div className=\"vf-u-margin__bottom--600\" />\r\n              <div className=\"vf-form__item\">\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"vf-button vf-button--primary\"\r\n                  value=\"Submit\"\r\n                />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CreateResources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resource/create\" component={ResourceCreate} />\r\n  </Switch>\r\n);\r\n\r\nexport default CreateResources;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport { extractSlugFromBackendUrl } from '../services/util/slugifier';\r\n\r\nconst $ = window.$;\r\n\r\nclass AttributeMap extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      resourceSlug: '',\r\n      framework: this.props.location.pathname.split('/')[4].replace(/ /g, ''),\r\n      framework_id: '',\r\n      resourceID: this.props.location.pathname.split('/')[2],\r\n      frameworkdetails: [],\r\n      csrf: '',\r\n      frameworkUUID: '',\r\n      competencies: [],\r\n      //attributes: this.props.selectedAttributes,\r\n      //selectedAttributes: this.props.selectedAttributes,\r\n      selectedAttributes: [],\r\n      //selectedCompetencies: this.props.selectedCompetencies,\r\n      resourceDetails: '',\r\n      resourcePath: this.props.location.pathname.split('/')\r\n    };\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    //this.loadSelectedAttributes = this.loadSelectedAttributes.bind(this);\r\n  }\r\n\r\n  async handleSelect() {\r\n    let checkedAttributes = this.state.selectedAttributes;\r\n    let framework_id = this.state.framework_id;\r\n    let attributeIDs = [];\r\n    //let token = localStorage.getItem('csrf_token');\r\n    for (let i = 0; i < checkedAttributes.length; i++) {\r\n      attributeIDs.push(checkedAttributes[i].split('id', 2));\r\n    }\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      var response_data = await Promise.all([\r\n        this.competencyService.attrmap(\r\n          this.state.resourceID,\r\n          attributeIDs,\r\n          framework_id\r\n        )\r\n      ]);\r\n      // this.setState({resourceSlug: extractSlugFromBackendUrl(response_data._links.self.href)})\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n      this.props.history.push(\r\n        '/training-resources/' +\r\n          extractSlugFromBackendUrl(response_data[0]._links.self.href)\r\n      );\r\n    }\r\n  }\r\n\r\n  handleAllCheck(id, uuid, e) {\r\n    const selectedAttributes = this.state.selectedAttributes;\r\n    let childItems = document.getElementsByName(id);\r\n    if (e.target.checked) {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        childItems[i].checked = true;\r\n        selectedAttributes.push(\r\n          // childItems[i].getAttribute('data-uuid') +\r\n          //   'id' +\r\n          childItems[i].getAttribute('data-id')\r\n        );\r\n        this.setState({ selectedAttributes });\r\n      }\r\n    } else {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        if (childItems[i].checked === true) {\r\n          childItems[i].checked = false;\r\n          //selectedAttributes.pop(childItems[i].getAttribute('data-id'));\r\n          //let index = array.indexOf(element);\r\n          selectedAttributes.splice(\r\n            selectedAttributes.indexOf(childItems[i]),\r\n            1\r\n          );\r\n          this.setState({ selectedAttributes });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAttributeClick(id, uuid, e) {\r\n    let selectedAttributes = this.state.selectedAttributes;\r\n    //let selectedAttributes =\r\n    let isChecked = e.target.checked;\r\n    if (isChecked) {\r\n      //selectedAttributes.push(uuid + 'id' + id);\r\n      selectedAttributes.push(id);\r\n      this.setState({ selectedAttributes });\r\n      document.getElementById(e.target.name).checked = true;\r\n    } else {\r\n      //selectedAttributes.pop(id);\r\n      selectedAttributes.splice(selectedAttributes.indexOf(id), 1);\r\n      this.setState({ selectedAttributes });\r\n      if (!$(':checkbox[name=' + e.target.name + ']').is(':checked')) {\r\n        document.getElementById(e.target.name).checked = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleListAllChecked(e) {\r\n    let lists = [];\r\n    $(':checkbox').each(function() {\r\n      if ($(this).is(':checked')) {\r\n        lists.push($(this).attr('id'));\r\n      }\r\n    });\r\n    alert(lists);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch(\r\n      `${apiUrl}` +\r\n        '/api/resources/?_format=hal_json&id=' +\r\n        this.state.resourceID +\r\n        '&timestamp=' +\r\n        Date.now()\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resourceDetails: findresponse\r\n        });\r\n      });\r\n\r\n    let selectedAttributes = [];\r\n    this.state.resourceDetails.competency_profile.map(profile => {\r\n      //if(profile.title.toLowerCase() == this.state.framewor  k){\r\n      profile.domains.map(domain => {\r\n        domain.competencies.map(competency => {\r\n          competency.attributes.map(attribute => {\r\n            selectedAttributes.push(attribute.id);\r\n            return null;\r\n          });\r\n          return null;\r\n        });\r\n        return null;\r\n      });\r\n      //}\r\n      return null;\r\n    });\r\n\r\n    this.setState({ selectedAttributes: selectedAttributes });\r\n\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    let fetchFrameworkDetails = `${apiUrl}/api/version_manager?_format=json&timestamp=${Date.now()}`;\r\n    await fetch(fetchFrameworkDetails)\r\n      .then(Response => Response.json())\r\n      .then(findresponse1 => {\r\n        this.setState({\r\n          frameworkdetails: findresponse1\r\n        });\r\n      });\r\n\r\n    let latest_version = '';\r\n\r\n    this.state.frameworkdetails.map(detail => {\r\n      if (\r\n        detail.title.toLowerCase().replace(/ /g, '') === this.state.framework\r\n      ) {\r\n        detail.versions.map(version => {\r\n          if (version.status === 'live') {\r\n            latest_version = version.number;\r\n            this.state.framework_id = detail.nid;\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n      return null;\r\n    });\r\n    let fetchCompetencyList =\r\n      `${apiUrl}` +\r\n      '/api/' +\r\n      this.state.framework +\r\n      '/' +\r\n      latest_version +\r\n      '?_format=json';\r\n\r\n    await fetch(fetchCompetencyList)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          data: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.state.attributes === nextState.attributes;\r\n  }\r\n\r\n  render() {\r\n    let frameworkDetails = this.state.frameworkdetails;\r\n    let data = this.state.data;\r\n    let frameworkDefs = [];\r\n    let domainsOptions = [];\r\n    let attributeTypeOptions = [];\r\n    let resDetails = this.state.resourceDetails;\r\n    //let resDetails = this.state.resourceDetails;\r\n    let selectedAttributesArray = [];\r\n    let selectedCompetenciesArray = [];\r\n    if (resDetails) {\r\n      resDetails.competency_profile.map(profile => {\r\n        profile.domains.map(domain => {\r\n          domain.competencies.map(competency => {\r\n            selectedCompetenciesArray.push(competency.id);\r\n            competency.attributes.map(attribute => {\r\n              selectedAttributesArray.push(attribute.id);\r\n              return null;\r\n            });\r\n            return null;\r\n          });\r\n          return null;\r\n        });\r\n        return null;\r\n      });\r\n    }\r\n    //this.loadSelectedAttributes();\r\n\r\n    frameworkDetails.forEach((item, ikey) => {\r\n      if (item.title.toLowerCase().replace(/ /g, '') === this.state.framework) {\r\n        //this.state.frameworkUUID = item.uuid;\r\n        item.attribute_types.forEach(attribute_type => {\r\n          frameworkDefs.push(attribute_type.title);\r\n          attributeTypeOptions.push(\r\n            <option data-id={attribute_type.id} value={attribute_type.uuid}>\r\n              {attribute_type.title}\r\n            </option>\r\n          );\r\n        });\r\n        item.domains.forEach(domain => {\r\n          domainsOptions.push(\r\n            <option data-id={domain.id} value={domain.uuid}>\r\n              {domain.title}\r\n            </option>\r\n          );\r\n        });\r\n      }\r\n    });\r\n    const ListOfCompetencies = data.map(item =>\r\n      item.domains.map((domain, did) => (\r\n        <tbody>\r\n          <tr key={domain.nid}>\r\n            <td>{did + 1}</td>{' '}\r\n            <td>\r\n              <strong> {domain.title}</strong>{' '}\r\n            </td>{' '}\r\n          </tr>\r\n          {domain.competencies.map((competency, cid) => (\r\n            <tr key={competency.id}>\r\n              <td>\r\n                {did + 1}.{cid + 1}\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type={'checkbox'}\r\n                  defaultChecked={\r\n                    -1 !== selectedCompetenciesArray.indexOf(competency.id)\r\n                  }\r\n                  data-test={competency.uuid}\r\n                  id={competency.id}\r\n                  onChange={this.handleAllCheck.bind(\r\n                    this,\r\n                    competency.id,\r\n                    competency.uuid\r\n                  )}\r\n                />{' '}\r\n                {competency.title}\r\n                <ul style={{ marginLeft: 1 + 'em', marginBottom: 1 + 'em' }}>\r\n                  {frameworkDefs.map(def => {\r\n                    return (\r\n                      <div style={{ marginLeft: 1 + 'em' }}>\r\n                        <div>\r\n                          {' '}\r\n                          <strong>\r\n                            <em>{def}</em>\r\n                          </strong>\r\n                        </div>\r\n                        {competency.attributes\r\n                          .filter(attribute => attribute.type === def)\r\n                          .map(attribute => {\r\n                            return (\r\n                              <li\r\n                                key={attribute.id}\r\n                                style={{ marginLeft: 1 + 'em' }}\r\n                              >\r\n                                <input\r\n                                  type={'checkbox'}\r\n                                  defaultChecked={\r\n                                    -1 !==\r\n                                    selectedAttributesArray.indexOf(\r\n                                      //attribute.uuid + 'id' + attribute.id\r\n                                      attribute.id\r\n                                    )\r\n                                  }\r\n                                  name={competency.id}\r\n                                  data-id={attribute.id}\r\n                                  data-uuid={attribute.uuid}\r\n                                  id={attribute.id}\r\n                                  onChange={this.handleAttributeClick.bind(\r\n                                    this,\r\n                                    attribute.id,\r\n                                    attribute.uuid\r\n                                  )}\r\n                                />{' '}\r\n                                <span className={attribute.archived}>\r\n                                  {' '}\r\n                                  {attribute.title}\r\n                                </span>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          <tr>\r\n            <td>\r\n              <td />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      ))\r\n    );\r\n    return (\r\n      <div>\r\n        <h2>{resDetails.title}</h2>\r\n        <h4>Type: {resDetails.type}</h4>\r\n        <h4>URL: {resDetails.url}</h4>\r\n        <table className={'table'}>{ListOfCompetencies}</table>\r\n        <div id={'footer-button'}>\r\n          <button\r\n            className={'vf-button vf-button--primary vf-button--sm'}\r\n            onClick={this.handleSelect.bind(this)}\r\n          >\r\n            {' '}\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst AttrMap = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path=\"/training-resources/:id/map/:framework\"\r\n      component={AttributeMap}\r\n    />\r\n  </Switch>\r\n);\r\n\r\nexport default AttrMap;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ReactModal from 'react-modal';\r\nimport AttributeMap from './AttributeMap';\r\nimport Parser from 'html-react-parser';\r\n// import ItemVersions from '../containers/framework-versions/VersionNotice';\r\nimport { apiUrl } from '../services/http/http';\r\nimport { Link } from 'react-router-dom';\r\nimport auth from '../services/util/auth';\r\nimport { MetaTags } from 'react-meta-tags';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nclass ResourceDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resource: [],\r\n      frameworks: [],\r\n      resourcePath: this.props.location.pathname.split('/'),\r\n      showModal: false,\r\n      selectedFramework: '',\r\n      updateFlag: ''\r\n    };\r\n    this.handleOpenModal = this.handleOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n  }\r\n\r\n  getSlugFromURLBar() {\r\n    const url = new URL(window.location.href);\r\n    return url.pathname.split('training-resources/').pop();\r\n  }\r\n\r\n  handleOpenModal(event, temp) {\r\n    this.setState({ showModal: true });\r\n    this.setState({ selectedFramework: event });\r\n    temp.preventDefault();\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ showModal: false });\r\n    this.setState({ updateFlag: true });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token?source=competencyhub`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n    this.getSlugFromURLBar();\r\n    let resourcesURL = `${apiUrl}/api/resources/?_format=json&slug=${this.getSlugFromURLBar()}&timestamp=${Date.now()}&source=competencyhub`;\r\n    fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse3 => {\r\n        this.setState({ resource: findresponse3 });\r\n      });\r\n    fetch(`${apiUrl}/api/version_manager?_format=json&source=competencyhub`)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  mappingBlock() {\r\n    if (auth.currently_logged_in_user.roles.includes('content_manager')) {\r\n      return (\r\n        <div>\r\n          <strong> Manage competency profile </strong>\r\n          <ul>\r\n            {this.state.frameworks.map((item, id) => {\r\n              return (\r\n                <li style={{ display: 'inline', margin: '5px' }}>\r\n                  <Link\r\n                    to={\r\n                      // '/training-resources/' +\r\n                      // (this.props.location.state\r\n                      //   ? this.props.location.state.training_resource_id\r\n                      //   : this.state.resourcePath[2]) +\r\n                      // '/map/' +\r\n                      // item.title.toLowerCase().replace(/ /g, '')\r\n                      `/training-resources/${\r\n                        this.state.resource ? this.state.resource.id : ''\r\n                      }/map/${item.title.toLowerCase().replace(/ /g, '')}`\r\n                    }\r\n                  >\r\n                    {' '}\r\n                    <i className=\"fas fa-tags\" /> {item.title}{' '}\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  formatDates(start, end) {\r\n    let months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December'\r\n    ];\r\n\r\n    let start_dt = new Date(start);\r\n    let end_date = new Date(end);\r\n\r\n    let start_day = start_dt.getDate();\r\n    let start_month = start_dt.getMonth();\r\n    let start_year = start_dt.getFullYear();\r\n\r\n    if (end) {\r\n      let end_day = end_date.getDate();\r\n      let end_month = end_date.getMonth();\r\n      let end_year = end_date.getFullYear();\r\n\r\n      if (start_year === end_year) {\r\n        if (start_month === end_month) {\r\n          if (start_day === end_day) {\r\n            return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n          } else {\r\n            return (\r\n              start_day +\r\n              ' - ' +\r\n              end_day +\r\n              ' ' +\r\n              months[start_month] +\r\n              ' ' +\r\n              start_year\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            start_day +\r\n            ' ' +\r\n            months[start_month] +\r\n            ' - ' +\r\n            end_day +\r\n            ' ' +\r\n            months[end_month] +\r\n            ' ' +\r\n            start_year\r\n          );\r\n        }\r\n      } else {\r\n        return (\r\n          start_day +\r\n          ' ' +\r\n          months[start_month] +\r\n          ' ' +\r\n          start_year +\r\n          ' - ' +\r\n          end_day +\r\n          ' ' +\r\n          months[end_month] +\r\n          ' ' +\r\n          end_year\r\n        );\r\n      }\r\n    } else {\r\n      return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n    }\r\n  }\r\n\r\n  archiveHandle(rid, status, event) {\r\n    let archivedStatus = '';\r\n    if (status === 1) {\r\n      archivedStatus = false;\r\n    } else {\r\n      archivedStatus = true;\r\n    }\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json&source=competencyhub', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        field_archived: [\r\n          {\r\n            value: archivedStatus\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    this.setState({ updateFlag: true });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    let attributes = [];\r\n    let selectedCompetencies = [];\r\n    let attribute_types = [];\r\n    let item = this.state.resource;\r\n    // let frameworkLiveVersion = '';\r\n\r\n    let link = '/bioexcel/1.1';\r\n    let check_array = Array.isArray(item.competency_profile);\r\n    const Resource = (\r\n      <>\r\n        <MetaTags>\r\n          <title>{item.title}</title>\r\n          <meta property=\"og:title\" content={item.title} />\r\n          <meta property=\"og:type\" content=\"website\" />\r\n          <meta\r\n            property=\"og:url\"\r\n            content={`https://competency.ebi.ac.uk${\r\n              this.props.history.location.pathname\r\n            }`}\r\n          />\r\n          <meta\r\n            property=\"og:image\"\r\n            content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content=\"The training resources pages include information about specific training events or materials that are relevant to develop specific competencies, which are linked to from the training resources page.\"\r\n          />\r\n          <meta\r\n            name=\"description\"\r\n            content=\"The training resources pages include information about specific training events or materials that are relevant to develop specific competencies, which are linked to from the training resources page.\"\r\n          />\r\n          <meta\r\n            property=\"keywords\"\r\n            content=\"training, learning, competencies, competency-based training, learning outcomes\"\r\n          />\r\n        </MetaTags>\r\n        <Helmet>\r\n          <link rel=\"canonical\" href={this.props.location.pathname} />\r\n        </Helmet>\r\n        <h1>{item.title}</h1>\r\n        <div className=\"vf-grid  vf-grid__col-4\">\r\n          <div className=\"vf-grid__col--span-3\">\r\n            <h2>Overview</h2>\r\n            {item.description ? Parser(item.description) : ''}\r\n\r\n            {item.url ? (\r\n              <p>\r\n                <a href={item.url} target={'_blank'}>\r\n                  <button className=\"vf-button vf-button--primary vf-button--sm\">\r\n                    Go to resource\r\n                  </button>\r\n                </a>\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {item.target_audience\r\n              ? Parser('<h3>Target Audience</h3>' + item.target_audience)\r\n              : ''}\r\n            {item.learning_outcomes\r\n              ? Parser('<h3>Learning Outcomes</h3>' + item.learning_outcomes)\r\n              : ''}\r\n            {item.organisers\r\n              ? Parser('<h3>Organisers</h3>' + item.organisers)\r\n              : ''}\r\n\r\n            {/*{item.trainers ? Parser('<h3>Trainers</h3>' + item.trainers) : ''}*/}\r\n\r\n            <div>\r\n              <h2>Associated competencies</h2>\r\n              <p>\r\n                This resource provides learning to support the development of\r\n                the following competencies\r\n              </p>\r\n              <div>\r\n                {check_array ? (\r\n                  item.competency_profile.map((profile, index) => {\r\n                    return (\r\n                      <div className=\"embl-grid\" key={index}>\r\n                        {this.state.frameworks.map(framework => {\r\n                          if (framework.nid === profile.id) {\r\n                            framework.attribute_types.map(type => {\r\n                              if (attribute_types.indexOf(type.title) === -1) {\r\n                                attribute_types.push(type.title);\r\n                              }\r\n                              return null;\r\n                            });\r\n                            // frameworkLiveVersion = framework.versions.find(\r\n                            //   version => version.status === 'live'\r\n                            // );\r\n                          }\r\n\r\n                          return null;\r\n                        })}\r\n                        <div>\r\n                          <h3>{profile.title}</h3>\r\n                        </div>\r\n                        <div>\r\n                          {profile.domains.map((domain, index) => (\r\n                            <div key={index}>\r\n                              <h3>{domain.title}</h3>\r\n                              <ul className=\"vf-list vf-list--unordered\">\r\n                                {domain.competencies.map(\r\n                                  (competency, index) => (\r\n                                    <li className=\"vf-list__item\" key={index}>\r\n                                      <span\r\n                                        className={\r\n                                          competency.archived === 'archived'\r\n                                            ? 'archived'\r\n                                            : ''\r\n                                        }\r\n                                      >\r\n                                        <p>\r\n                                          <a\r\n                                            className=\"vf-link\"\r\n                                            href={`/framework/${profile.title\r\n                                              .toLowerCase()\r\n                                              .replace(/\\s+/g, '')}/${\r\n                                              profile.version\r\n                                            }/competency/details/${\r\n                                              competency.id\r\n                                            }`}\r\n                                          >\r\n                                            {' '}\r\n                                            {competency.title}{' '}\r\n                                          </a>\r\n                                        </p>\r\n                                        {/* {competency.archived === 'archived' ? (\n                                          <ItemVersions\n                                            framework=\"bioexcel\"\n                                            versions={link}\n                                          />\n                                        ) : (\n                                          ''\n                                        )} */}\r\n                                      </span>\r\n                                      {/* <ul\n                                        className=\"vf-list\"\n                                        style={{ marginLeft: '2rem' }}\n                                      >\n                                        {attribute_types.map((type, index) => (\n                                          <span key={index}>\n                                            <li className=\"vf-list__item vf-u-type__text-body--2\">\n                                              {competency.attributes.find(\n                                                attribute =>\n                                                  attribute.type === type\n                                              )\n                                                ? type\n                                                : ''}\n                                              <div class=\"vf-u-margin__top--500\" />\n                                              <ul className=\"vf-list vf-list--unordered\">\n                                                {competency.attributes.map(\n                                                  (attribute, index) => {\n                                                    if (\n                                                      attribute.type === type\n                                                    ) {\n                                                      return (\n                                                        <li\n                                                          className=\"vf-list__item vf-u-type__text-body--2\"\n                                                          key={index}\n                                                        >\n                                                          <span\n                                                            className={\n                                                              attribute.archived ===\n                                                              'archived'\n                                                                ? 'archived'\n                                                                : ''\n                                                            }\n                                                          >\n                                                            {attribute.title}\n                                                            {attribute.archived ===\n                                                            'archived' ? (\n                                                              <ItemVersions\n                                                                framework={\n                                                                  profile.title\n                                                                }\n                                                                version={\n                                                                  frameworkLiveVersion.number\n                                                                }\n                                                              />\n                                                            ) : (\n                                                              ''\n                                                            )}\n                                                            {attribute.archived ===\n                                                            'archived' ? (\n                                                              <a\n                                                                href={\n                                                                  '/training-resources/' +\n                                                                  item.id +\n                                                                  '/demap/' +\n                                                                  attribute.id\n                                                                }\n                                                              >\n                                                                <i className=\"fas fa-times-circle\" />\n                                                              </a>\n                                                            ) : (\n                                                              ''\n                                                            )}\n                                                          </span>\n                                                        </li>\n                                                      );\n                                                    }\n                                                    return null;\n                                                  }\n                                                )}\n                                              </ul>\n                                            </li>\n                                          </span>\n                                        ))}\n                                      </ul> */}\r\n                                    </li>\r\n                                  )\r\n                                )}\r\n                              </ul>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td />\r\n                  </tr>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"vf-grid__col--span-1\">\r\n            {auth.currently_logged_in_user.is_logged_in ? (\r\n              <div className=\"float-right\">\r\n                <div>\r\n                  <Link\r\n                    to={'/training-resource/edit/' + this.state.resourcePath[2]}\r\n                  >\r\n                    <i className=\"fas fa-edit\" /> Edit this resource{' '}\r\n                  </Link>\r\n                </div>\r\n                {item.archived === 'archived' ? (\r\n                  <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                    style={{ cursor: 'pointer' }}\r\n                    onClick={this.archiveHandle.bind(this, item.id, 1)}\r\n                  >\r\n                    {' '}\r\n                    <i className=\"fas fa-toggle-on\" />{' '}\r\n                    <span>Resource is archived</span>{' '}\r\n                  </a>\r\n                ) : (\r\n                  <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                    style={{ cursor: 'pointer' }}\r\n                    onClick={this.archiveHandle.bind(this, item.id, 0)}\r\n                  >\r\n                    {' '}\r\n                    <i className=\"fas fa-toggle-off\" />{' '}\r\n                    <span>Archive this resource</span>\r\n                  </a>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <p />\r\n\r\n            <p>\r\n              {item.trainers ? Parser('<h3>Trainers</h3>' + item.trainers) : ''}\r\n            </p>\r\n\r\n            {item.dates ? (\r\n              <span>\r\n                <strong>Dates:</strong>{' '}\r\n                {this.formatDates(item.dates, item.end_date)}\r\n              </span>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {item.location ? (\r\n              <p>\r\n                <strong>Location:</strong> {item.location}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {item.type ? (\r\n              <p>\r\n                <strong>Type:</strong> {item.type}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {item.keywords ? (\r\n              <p>\r\n                <strong>Keywords:</strong> {item.keywords}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {item.tess_content_provider ? (\r\n              <p>\r\n                <strong>TeSS content provider:</strong>{' '}\r\n                {item.tess_content_provider}\r\n              </p>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          {Resource}\r\n          {this.mappingBlock()}\r\n        </div>\r\n\r\n        <div style={{ overflow: 'scroll' }}>\r\n          <ReactModal\r\n            isOpen={this.state.showModal}\r\n            className=\"Modal\"\r\n            overlayClassName=\"Overlay\"\r\n            contentLabel=\"Minimal Modal Example\"\r\n          >\r\n            <div>\r\n              <h2 style={{ 'text-align': 'center' }}>\r\n                Manage competency profile for{' '}\r\n                {this.state.selectedFramework.toUpperCase()}{' '}\r\n                <i\r\n                  className=\"fas fa-window-close float-right\"\r\n                  data-close\r\n                  onClick={this.handleCloseModal}\r\n                />{' '}\r\n              </h2>\r\n            </div>\r\n            <table>\r\n              <AttributeMap\r\n                selectedCompetencies={selectedCompetencies}\r\n                selectedAttributes={attributes}\r\n                selectedFramework={this.state.selectedFramework}\r\n                resourceID={this.state.resourcePath[2]}\r\n                handleCloseModal={this.handleCloseModal}\r\n              />\r\n            </table>\r\n          </ReactModal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ResDetails = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resources/:id\" component={ResourceDetails} />\r\n  </Switch>\r\n);\r\n\r\nexport default ResDetails;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport { apiUrl, apiUrlWithHTTP } from '../services/http/http';\r\nimport auth from '../services/util/auth';\r\n\r\nclass ResourcesList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resources: [],\r\n      filterType: '',\r\n      filterMapping: '',\r\n      userid: '',\r\n      activePage: 0,\r\n      totalItemsCount: 0,\r\n      filter: ''\r\n    };\r\n    this.archiveHandle = this.archiveHandle.bind(this);\r\n    this.handlePageChange = this.handlePageChange.bind(this);\r\n    this.searchSubmit = this.searchSubmit.bind(this);\r\n  }\r\n\r\n  async handlePageChange(pageNumber) {\r\n    await this.setState({ resources: null });\r\n    await this.setState({ activePage: pageNumber });\r\n    await this.fetchData();\r\n    setTimeout(function() {\r\n      window.scrollTo(0, 0);\r\n    }, 700);\r\n  }\r\n\r\n  async searchSubmit(e) {\r\n    e.preventDefault();\r\n    await this.setState({ resources: null });\r\n    await this.setState({ activePage: 1 });\r\n    await this.setState({ totalItemsCount: 0 });\r\n    await this.fetchData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\r\n    //let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\r\n    let resourcesURL = `${apiUrl}/api/resources?_format=json&page=${\r\n      this.state.activePage\r\n    }&title=${this.state.filter}&type=${this.state.filterType}`;\r\n    await fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resources: findresponse\r\n        });\r\n      });\r\n    if (this.state.resources[0]) {\r\n      let hitcount = this.state.resources[0].hitcount;\r\n      this.setState({ totalItemsCount: hitcount });\r\n    }\r\n  }\r\n\r\n  async filter(e) {\r\n    await this.setState({ filter: e.target.value });\r\n  }\r\n\r\n  filterTypeHandle(e) {\r\n    this.setState({ filterType: e.target.value });\r\n  }\r\n\r\n  filterMappingHandle(e) {\r\n    if (this.state.filterMapping) {\r\n      this.setState({ filterMapping: 0 });\r\n    } else {\r\n      this.setState({ filterMapping: 1 });\r\n    }\r\n  }\r\n\r\n  archiveHandle(rid, status, event) {\r\n    let archivedStatus = '';\r\n    if (status === 1) {\r\n      archivedStatus = false;\r\n    } else {\r\n      archivedStatus = true;\r\n    }\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrlWithHTTP}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        field_archived: [\r\n          {\r\n            value: archivedStatus\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    this.setState({ updateFlag: true });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  formatDates(start, end) {\r\n    let months = [\r\n      'January',\r\n      'February',\r\n      'March',\r\n      'April',\r\n      'May',\r\n      'June',\r\n      'July',\r\n      'August',\r\n      'September',\r\n      'October',\r\n      'November',\r\n      'December'\r\n    ];\r\n\r\n    let start_dt = new Date(start);\r\n    let end_date = new Date(end);\r\n\r\n    let start_day = start_dt.getDate();\r\n    let start_month = start_dt.getMonth();\r\n    let start_year = start_dt.getFullYear();\r\n\r\n    if (end) {\r\n      let end_day = end_date.getDate();\r\n      let end_month = end_date.getMonth();\r\n      let end_year = end_date.getFullYear();\r\n\r\n      if (start_year === end_year) {\r\n        if (start_month === end_month) {\r\n          if (start_day === end_day) {\r\n            return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n          } else {\r\n            return (\r\n              start_day +\r\n              ' - ' +\r\n              end_day +\r\n              ' ' +\r\n              months[start_month] +\r\n              ' ' +\r\n              start_year\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            start_day +\r\n            ' ' +\r\n            months[start_month] +\r\n            ' - ' +\r\n            end_day +\r\n            ' ' +\r\n            months[end_month] +\r\n            ' ' +\r\n            start_year\r\n          );\r\n        }\r\n      } else {\r\n        return (\r\n          start_day +\r\n          ' ' +\r\n          months[start_month] +\r\n          ' ' +\r\n          start_year +\r\n          ' - ' +\r\n          end_day +\r\n          ' ' +\r\n          months[end_month] +\r\n          ' ' +\r\n          end_year\r\n        );\r\n      }\r\n    } else {\r\n      return start_day + ' ' + months[start_month] + ' ' + start_year;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let resources = this.state.resources;\r\n    var ListOfResources = '';\r\n    if (resources) {\r\n      ListOfResources = resources.map((item, index) => (\r\n        <tr className=\"vf-table__row\" key={index}>\r\n          <td className=\"vf-table__cell\">{index + 1} </td>\r\n          <td className=\"vf-table__cell\">\r\n            <div style={{ maxWidth: '500px' }}>\r\n              <Link\r\n                to={{\r\n                  pathname: `/training-resources/${item.slug}`,\r\n                  state: {\r\n                    training_resource_id: item.id\r\n                  }\r\n                }}\r\n              >\r\n                {item.title}\r\n              </Link>\r\n            </div>\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {item.dates ? this.formatDates(item.dates, item.end_date) : ''}\r\n          </td>\r\n          <td className=\"vf-table__cell\">{item.type}</td>\r\n          <td className=\"vf-table__cell\">\r\n            <a href={item.url} target={'_blank'}>\r\n              Resource URL\r\n            </a>\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {item.archived === 'archived' ? (\r\n              <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={this.archiveHandle.bind(this, item.id, 1)}\r\n              >\r\n                {' '}\r\n                <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\r\n              </a>\r\n            ) : (\r\n              <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={this.archiveHandle.bind(this, item.id, 0)}\r\n              >\r\n                {' '}\r\n                <i className=\"fas fa-toggle-off\" />\r\n              </a>\r\n            )}\r\n          </td>\r\n          <td className=\"vf-table__cell\">\r\n            {auth.currently_logged_in_user.id === item.author ? (\r\n              <Link to={`/training-resource/edit/${item.slug}`}>\r\n                <i className=\"fas fa-edit\" />{' '}\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </td>\r\n        </tr>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>Training Resources</h3>\r\n        <form\r\n          className=\"vf-form | vf-search\"\r\n          onSubmit={e => this.searchSubmit(e)}\r\n        >\r\n          <div className=\"vf-grid vf-grid__col-6\">\r\n            <div className=\"vf-form__item | vf-search__item vf-grid__col--span-2\">\r\n              <label\r\n                class=\"vf-form__label vf-u-sr-only | vf-search__label\"\r\n                for=\"search_box\"\r\n              >\r\n                Search training resources\r\n              </label>\r\n              <input\r\n                type=\"search\"\r\n                onChange={this.filter.bind(this)}\r\n                placeholder=\"Type to search\"\r\n                className=\"vf-form__input | vf-search__item\"\r\n                id=\"search_box\"\r\n              />\r\n            </div>\r\n            <div className=\"vf-form__item vf-grid__col--span-1\">\r\n              <select\r\n                ref={'type'}\r\n                onChange={this.filterTypeHandle.bind(this)}\r\n                className=\"vf-form__select\"\r\n              >\r\n                <option value={'All'}>All</option>\r\n                <option value={'Online'}>Online</option>\r\n                <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                <option value={'Webinar'}>Webinar</option>\r\n                <option value={'Hackathon'}>Hackathon</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"vf-form__item vf-grid__col--span-1\">\r\n              <input\r\n                type=\"submit\"\r\n                className=\"vf-search__button | vf-button vf-button--primary vf-button--sm\"\r\n                value=\"Search\"\r\n              />\r\n            </div>\r\n            <div className=\"vf-grid__col--span-1\">\r\n              <Link\r\n                className={'vf-button vf-button--primary vf-button--sm'}\r\n                to={'/training-resource/create'}\r\n              >\r\n                <i className=\"fas fa-plus-circle\"> </i> Add training resource{' '}\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <div className=\"vf-grid vf-grid__col-6\">\r\n          <div className=\"vf-form__item vf-grid__col--span-3\">\r\n            <h5>Total: {this.state.totalItemsCount}</h5>\r\n          </div>\r\n          <div\r\n            className=\"vf-form__item vf-grid__col--span-3\"\r\n            style={{ paddingTop: '30px' }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"checkboxMapping\"\r\n              checked={this.state.filterMapping}\r\n              onChange={this.filterMappingHandle.bind(this)}\r\n              className=\"vf-form__checkbox\"\r\n            />\r\n            <label for=\"checkboxMapping\" className=\"vf-form__label\">\r\n              {' '}\r\n              Show resources with deprecated mapping{' '}\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <table className=\"vf-table vf-table--striped\">\r\n          <thead className=\"vf-table__header\">\r\n            <tr className=\"vf-table__row\">\r\n              <th className=\"vf-table__heading\">S. No.</th>\r\n              <th className=\"vf-table__heading\">Title</th>\r\n              <th className=\"vf-table__heading\">Date(s)</th>\r\n              <th className=\"vf-table__heading\">Type</th>\r\n              <th className=\"vf-table__heading\">URL</th>\r\n              <th className=\"vf-table__heading\">Archive</th>\r\n              <th className=\"vf-table__heading\">Edit</th>\r\n            </tr>\r\n          </thead>\r\n          {resources ? (\r\n            resources.length > 0 ? (\r\n              <tbody className=\"vf-table__body\">{ListOfResources}</tbody>\r\n            ) : (\r\n              <h5>No results found</h5>\r\n            )\r\n          ) : (\r\n            <center>\r\n              <img alt=\"progress\" src=\"/progressbar.gif\" />\r\n              <h4>Loading resources</h4>\r\n            </center>\r\n          )}\r\n        </table>\r\n        <nav className=\"vf-pagination\" aria-label=\"Pagination\">\r\n          <Pagination\r\n            activePage={this.state.activePage}\r\n            itemsCountPerPage={50}\r\n            totalItemsCount={this.state.totalItemsCount}\r\n            pageRangeDisplayed={10}\r\n            onChange={e => this.handlePageChange(e)}\r\n            innerClass=\"vf-pagination__list\"\r\n            itemClass=\"vf-pagination__item\"\r\n            itemClassPrev=\"vf-pagination__item--previous-page\"\r\n            itemClassNext=\"vf-pagination__item--next-page\"\r\n            linkClass=\"vf-pagination__link vf-pagination__label\"\r\n            activeClass=\"vf-pagination__item--is-active\"\r\n            prevPageText=\"Previous\"\r\n            nextPageText=\"Next\"\r\n          />\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Resources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/all-training-resources\" component={ResourcesList} />\r\n  </Switch>\r\n);\r\n\r\nexport default Resources;\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n//import Parser from 'html-react-parser';\nimport { Link } from 'react-router-dom';\n\n//import { apiUrl } from '../services/http/http';\n\nclass ResourcesHome extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resources: [],\n      filterType: ''\n    };\n    //this.archiveHandle = this.archiveHandle.bind(this);\n  }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (this.state.updateFlag) {\n  //     this.fetchData();\n  //     setTimeout(() => {\n  //       this.setState({ updateFlag: false });\n  //     }, 1000);\n  //     console.log('componentDidUpdate');\n  //   }\n  // }\n\n  // componentDidMount() {\n  //   this.fetchData();\n  // }\n\n  // fetchData() {\n  //   let csrfURL = `${apiUrl}/rest/session/token`;\n  //   fetch(csrfURL)\n  //     .then(Response => Response)\n  //     .then(findresponse2 => {\n  //       this.setState({ csrf: findresponse2 });\n  //     });\n\n  //   //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\n  //   let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\n  //   fetch(resourcesURL)\n  //     .then(Response => Response.json())\n  //     .then(findresponse => {\n  //       this.setState({\n  //         resources: findresponse\n  //       });\n  //     });\n  // }\n\n  // filter(e) {\n  //   this.setState({ filter: e.target.value });\n  // }\n\n  // filterTypeHandle(e) {\n  //   this.setState({ filterType: e.target.value });\n  // }\n\n  // archiveHandle(rid, status, event) {\n  //   //alert(\"competency \"+ cid+ \"is \"+ status);\n  //   let archivedStatus = '';\n  //   if (status === 1) {\n  //     archivedStatus = false;\n  //   } else {\n  //     archivedStatus = true;\n  //   }\n  //   let token = localStorage.getItem('csrf_token');\n  //   fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\n  //     credentials: 'include',\n  //     method: 'PATCH',\n  //     cookies: 'x-access-token',\n  //     headers: {\n  //       Accept: 'application/hal+json',\n  //       'Content-Type': 'application/hal+json',\n  //       'X-CSRF-Token': token,\n  //       Authorization: 'Basic'\n  //     },\n  //     body: JSON.stringify({\n  //       _links: {\n  //         type: {\n  //           href: `${apiUrl}/rest/type/node/training_resource`\n  //         }\n  //       },\n  //       field_archived: [\n  //         {\n  //           value: archivedStatus\n  //         }\n  //       ],\n  //       type: [\n  //         {\n  //           target_id: 'training_resource'\n  //         }\n  //       ]\n  //     })\n  //   });\n\n  //   this.setState({ updateFlag: true });\n\n  //   event.preventDefault();\n  // }\n\n  render() {\n    // let resources = this.state.resources;\n    // if (this.state.filter) {\n    //   resources = resources.filter(\n    //     item =>\n    //       item.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n    //       item.description\n    //         .toLocaleLowerCase()\n    //         .includes(this.state.filter.toLowerCase())\n    //   );\n    // }\n\n    // if (this.state.filterType !== 'All') {\n    //   resources = resources.filter(item =>\n    //     item.type\n    //       .toLocaleLowerCase()\n    //       .includes(this.state.filterType.toLowerCase())\n    //   );\n    // }\n\n    // const ListOfResources = resources.map((item, index) => (\n    //   <tr key={index}>\n    //     <td>{index + 1} </td>\n    //     <td>\n    //       {' '}\n    //       <h4>\n    //         {' '}\n    //         <Link to={'/training-resources/' + item.id}>{item.title} </Link>\n    //       </h4>\n    //       <p>{item.dates} </p>\n    //       <strong>Learning resource type:</strong> {item.type} <br />\n    //       {Parser(item.description.substr(0, 240) + '...')} <br />\n    //       <br />\n    //       <strong> URL: </strong>{' '}\n    //       <a href={item.url} target={'_blank'}>\n    //         {item.url}\n    //       </a>\n    //     </td>\n    //     <td>\n    //       {item.archived === '1' ? (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 1)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\n    //         </a>\n    //       ) : (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 0)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-off\" />\n    //         </a>\n    //       )}\n    //     </td>\n    //     <td>\n    //       <Link to={`/training-resource/edit/${item.id}`}>\n    //         <i className=\"fas fa-edit\" />{' '}\n    //       </Link>\n    //     </td>\n    //   </tr>\n    // ));\n    return (\n      <div className={'row'}>\n        <h3>Training Resources</h3>\n        <div className=\"row\">\n          <div className=\"column large-4 callout\">\n            <Link\n              className={'button float-right'}\n              to={'/all-training-resources'}\n            >\n              <i className=\"fas fa-list\"> </i> View published training resources{' '}\n            </Link>\n          </div>\n          <div className=\"column large-4 callout\">\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-list\"> </i> View unpublished training\n              resources{' '}\n            </Link>\n          </div>\n          <div className={'column large-4 callout'}>\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-tasks\"> </i> Manage training resources{' '}\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst ResourcesHomepage = () => (\n  <Switch>\n    <Route exact path=\"/training-resources-home\" component={ResourcesHome} />\n  </Switch>\n);\n\nexport default ResourcesHomepage;\n","import React from 'react';\r\n\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ChangePassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      roles: '',\r\n      user: ''\r\n    };\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n  }\r\n\r\n  handlePasswordChange(e) {\r\n    let old = this.refs.old.value;\r\n    let new1 = this.refs.new1.value;\r\n    let uid = localStorage.getItem('userid');\r\n    fetch(`${apiUrl}/user/` + uid + '?_format=json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': localStorage.getItem('csrf_token')\r\n      },\r\n      body: JSON.stringify({\r\n        pass: [\r\n          {\r\n            existing: old,\r\n            value: new1\r\n          }\r\n        ]\r\n      })\r\n    })\r\n      .then(resp => resp)\r\n      .then(data =>\r\n        setTimeout(() => {\r\n          alert('Password changed successfully');\r\n          window.location.reload();\r\n        }, 1000)\r\n      );\r\n    e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Change password:</h3>\r\n        <form className=\"vf-form\" id={'passChange'}>\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            ref={'old'}\r\n            placeholder={'Old password'}\r\n          />\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            ref={'new1'}\r\n            placeholder={'New password'}\r\n          />\r\n          <input\r\n            className=\"vf-form__input\"\r\n            type={'password'}\r\n            placeholder={'Confirm new password'}\r\n          />\r\n          <input\r\n            type={'button'}\r\n            className={'vf-button vf-button--sm vf-button--primary'}\r\n            onClick={this.handlePasswordChange.bind(this)}\r\n            value={'Submit'}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n\nconst UserView = () => {\n  const [user, setUser] = useState();\n  //const [test, setTest] = useState();\n  const [frameworks, setFrameworks] = useState();\n  const [frm, setFrm] = useState();\n\n  let uid = localStorage.getItem('userid');\n  useEffect(() => {\n    const fetchData = async () => {\n      //API change needed here\n      // API should not need to be sent the user id\n      await fetch(`${apiUrl}/user/${uid}?_format=json`, {\n        credentials: 'include',\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRF-Token': localStorage.getItem('csrf_token')\n        }\n      })\n        .then(Response => Response.json())\n        .then(findResponse => setUser(findResponse));\n\n      await fetch(`${apiUrl}/api/version_manager/?_format=json`)\n        .then(Response => Response.json())\n        .then(findResponse => setFrameworks(findResponse));\n    };\n    fetchData();\n  }, [uid]);\n\n  if (!frm && user && frameworks) {\n    let test = [];\n    frameworks.map(item => {\n      user.field_frameworks.map(framework => {\n        if (framework.target_id === item.nid) {\n          test.push(item.title);\n        }\n        return null;\n      });\n      return null;\n    });\n    if (test.length > 0) {\n      setFrm(test.join());\n    }\n  }\n\n  return (\n    <div>\n      <h2>My profile</h2>\n      <div className=\"row\">\n        <div className=\"column medium-3\">&nbsp;</div>\n        <div className=\"column medium-6\">\n          {user ? (\n            <table className=\"responsive-table userprofile-table\">\n              <tbody>\n                <tr>\n                  <td>\n                    <strong>Username:</strong>\n                  </td>\n                  <td>{user.name[0].value}</td>\n                </tr>\n                <tr>\n                  <td>\n                    <strong>Email:</strong>\n                  </td>\n                  <td>{user.mail[0].value}</td>\n                </tr>\n                <tr>\n                  <td>\n                    <strong>Frameworks:</strong>\n                  </td>\n                  <td>{frm ? frm : 'NA'}</td>\n                </tr>\n              </tbody>\n            </table>\n          ) : (\n            'Loading profile'\n          )}\n        </div>\n        <div className=\"column medium-3\" />\n      </div>\n    </div>\n  );\n};\n\nexport const path = () => (\n  <Switch>\n    <Route exact path=\"/user/view\" component={UserView} />\n  </Switch>\n);\n\nexport default path;\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport MetaTags from 'react-meta-tags';\nimport { Helmet } from 'react-helmet';\n\nconst About = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <>\n      <>\n        <MetaTags>\n          <title>About competency hub</title>\n          <meta property=\"og:title\" content=\"About competency hub\" />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta\n            property=\"og:url\"\n            content={`https://competency.ebi.ac.uk/about`}\n          />\n          <meta\n            property=\"og:image\"\n            content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\n          />\n          <meta\n            property=\"og:description\"\n            content=\"The Competency Hub is a repository of competency frameworks that define the abilities required by professionals in a specific field and relate them to training resources and career profiles\"\n          />\n          <meta\n            name=\"description\"\n            content=\"The Competency Hub is a repository of competency frameworks that define the abilities required by professionals in a specific field and relate them to training resources and career profiles\"\n          />\n          <meta\n            property=\"keywords\"\n            content=\"competency, life sciences, career development, computational biology, bioinformatics\"\n          />\n        </MetaTags>\n        <Helmet>\n          <link rel=\"canonical\" href=\"https://www.competency.ebi.ac.uk/about\" />\n        </Helmet>\n      </>\n      <section className=\"vf-intro\">\n        <div />\n        <h2>About the Competency Hub</h2>\n        <h3>Competency</h3>\n        <p>\n          A competency is an observable ability of any professional. A\n          competency can be defined as a combination of knowledge, skills and\n          attitudes. It is observable, so its acquisition can be validated\n          objectively.\n        </p>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Competency framework</h3>\n        <p>\n          A competency framework defines a core set of competencies required by\n          professionals working in a specific field.\n        </p>\n\n        <p>\n          A competency framework can specify which competencies are especially\n          relevant for professionals in different roles or at different career\n          stages.\n        </p>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Competency Hub</h3>\n        <p className=\"lead\">\n          The Competency Hub is a repository of competency frameworks that\n          define the abilities required by professionals in a specific field and\n          relate them to training resources and career profiles, so that you\n          can:\n        </p>\n        <ul>\n          <li>\n            Assess your competency abilities against a professional standard and\n            check example career profiles\n          </li>\n          <li>\n            Find training resources to develop specific competencies and\n            progress in your career\n          </li>\n          <li>\n            Design training courses and programmes that help learners develop\n            specific competencies\n          </li>\n        </ul>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Career profiles</h3>\n        <p>\n          In this section, you will find a series of career profiles, which are\n          example descriptions of professional roles.\n        </p>\n        <p>Each profile shows:</p>\n        <ul>\n          <li>\n            The level at which each competency is required to fulfil that role\n          </li>\n          <li>Qualifications and background</li>\n          <li>Activities of the role</li>\n        </ul>\n\n        <p>\n          You can create your own profile by assessing yourself against the list\n          of competencies, and then compare your profile to the existing ones.\n          This allows you to see which competencies you need to develop further\n          to perform that role.\n        </p>\n\n        <p>The profile that you create is saved on your own browser.</p>\n\n        <p>\n          Not all the competency frameworks on the site contain career profiles.\n        </p>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Find training resources</h3>\n        <p>\n          Training resources are linked to the competencies that they support\n          trainees to gain. You can find this information on:\n        </p>\n        <ul>\n          <li>\n            The page for each training resource, which shows a list of related\n            competencies\n          </li>\n          <li>\n            The page for each competency, which shows a list of related training\n            resources\n          </li>\n        </ul>\n\n        <p>\n          Not all the competency frameworks on the site contain training\n          resources.\n        </p>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Develop courses</h3>\n        <p>\n          <Link to=\"/develop-your-courses\">Develop your courses</Link> using the\n          Competency Hub to design competency-based courses and course\n          programmes.\n        </p>\n        <div className=\"vf-u-margin--400\" />\n        <h3>Additional documentation</h3>\n        <p>\n          The following are documents that explain how some of the competency\n          frameworks on this site have been developed and used:{' '}\n        </p>\n        <ul>\n          <li>\n            <a href=\"https://zenodo.org/record/5418103#.YhiW3ZPP30o\">\n              Guidelines for developing and updating short courses and course\n              programs using the ISCB competency framework\n            </a>\n          </li>\n          <li>\n            <a href=\"https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005772\">\n              The development and application of bioinformatics core\n              competencies to improve bioinformatics training and education\n            </a>\n          </li>\n          <li>\n            <a href=\"https://zenodo.org/record/4623713#.YiCrSxPP30o\">\n              Professionalising data stewardship in the Netherlands.\n              Competences, training and education. Dutch roadmap towards\n              national implementation of FAIR data stewardship\n            </a>\n          </li>\n          <li>\n            <a href=\"https://zenodo.org/record/264231#.YiCtoxPP30o\">\n              BioExcel Deliverable 4.2 - Competency framework, mapping to\n              current training & initial training plan\n            </a>\n          </li>\n          <li>\n            <a href=\"https://zenodo.org/record/4301475#.YiCtzxPP30o\">\n              BioExcel-2 Deliverable D4.2 - Training Plan\n            </a>\n          </li>\n        </ul>\n      </section>\n    </>\n  );\n};\n\nexport default About;\n","import React from 'react';\r\nimport Parser from 'html-react-parser';\r\n\r\nfunction FrameworkButton({ desc, sub_text, card_link }) {\r\n  return (\r\n    <article className=\"vf-card vf-card--brand vf-card--bordered\">\r\n      <div className=\"vf-card__content | vf-stack vf-stack--400\">\r\n        <h3 className=\"vf-card__heading\">\r\n          <a className=\"vf-card__link\" href={card_link}>\r\n            {' '}\r\n            {desc}{' '}\r\n            <svg\r\n              aria-hidden=\"true\"\r\n              className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\"\r\n              width=\"1em\"\r\n              height=\"1em\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\"\r\n                fill=\"currentColor\"\r\n                fill-rule=\"nonzero\"\r\n              />\r\n            </svg>\r\n          </a>\r\n        </h3>\r\n        {sub_text ? Parser(sub_text) : ''}\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default FrameworkButton;\r\n","import React from 'react';\r\nimport FrameworkButton from '../framework-button/FrameworkButton';\r\n\r\nfunction FrameworkButtons({ frameworkDetails }) {\r\n  return (\r\n    <section\r\n      className=\"vf-card-container vf-card-container__col-3\"\r\n      style={{ margin: '0' }}\r\n    >\r\n      <div className=\"vf-card-container__inner\">\r\n        {frameworkDetails.map(framework => (\r\n          <FrameworkButton\r\n            desc={framework.desc}\r\n            sub_text={framework.sub_text}\r\n            card_link={framework.card_link}\r\n          />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default FrameworkButtons;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport 'react-responsive-modal/styles.css';\r\nimport { Modal } from 'react-responsive-modal';\r\n\r\nclass LoginForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showModal: false,\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  // state = {\r\n  //   username: \"\",\r\n  //   password: \"\"\r\n  // };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  OpenModal(e) {\r\n    e.preventDefault();\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  CloseModal() {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  submit = () => {\r\n    const { onSubmit } = this.props;\r\n    const { username, password } = this.state;\r\n    if (username && password) {\r\n      onSubmit(username, password);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <>\r\n        {/* The wrapping in an `ul.menu.float-left > li` is necessary for the sticky header to work */}\r\n        {/*<button\r\n          style={{ float: 'right' }}\r\n          href={'#'}\r\n          //id=\"loginSwitch\"\r\n          onClick={e => this.OpenModal(e)}\r\n          className=\"vf-button vf-button--sm vf-button--tertiary vf-button--outline\"\r\n        >\r\n          Admin login <i className=\"fa fa-key\" aria-hidden=\"true\" />\r\n        </button>*/}\r\n        <div>\r\n          <h3>\r\n            {/* <a href=\"#\" onClick={e => this.OpenModal(e)}>\r\n              Login as administrator\r\n            </a> */}\r\n            <button\r\n              style={{\r\n                margin: '0',\r\n                fontSize: '24px',\r\n                fontWeight: '500',\r\n                padding: '0'\r\n              }}\r\n              className=\"vf-button vf-button--link\"\r\n              onClick={e => this.OpenModal(e)}\r\n            >\r\n              Login as administrator\r\n            </button>\r\n          </h3>\r\n          <p>Manage frameworks and competencies.</p>\r\n        </div>\r\n        <Modal\r\n          open={this.state.showModal}\r\n          onClose={e => this.CloseModal()}\r\n          center\r\n          classNames={{\r\n            overlay: 'customOverlay',\r\n            modal: 'customModal'\r\n          }}\r\n        >\r\n          <div>\r\n            <h3>Admin login</h3>\r\n            <p>\r\n              If you are a framework manager or content manager, please login to\r\n              continue\r\n            </p>\r\n          </div>\r\n          <div className=\"vf-form__item\">\r\n            <input\r\n              value={username}\r\n              name=\"username\"\r\n              onChange={event => this.onChange(event)}\r\n              type=\"text\"\r\n              autoComplete=\"username\"\r\n              placeholder=\"Username\"\r\n              className=\"vf-form__input\"\r\n            />\r\n          </div>\r\n          <div className=\"vf-form__item\">\r\n            <input\r\n              value={password}\r\n              name=\"password\"\r\n              onChange={event => this.onChange(event)}\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              placeholder=\"Password\"\r\n              className=\"vf-form__input\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <button\r\n              className=\"vf-button vf-button--sm vf-button--primary\"\r\n              onClick={() => this.submit()}\r\n            >\r\n              <i className=\"fa fa-key\" aria-hidden=\"true\" /> Login\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\nimport EU from '../components/assets/european-union.png';\nimport PerMed from '../components/assets/PerMedCoE.jpg';\nimport BioExcel from '../components/assets/Bioexcel.png';\n\nconst Footer = () => {\n  return (\n    <div>\n      <div className=\"vf-u-margin__top--1600\" />\n      <hr class=\"vf-divider\" />\n      <div className=\"vf-u-margin__top--1600\" />\n      <div>\n        <div className=\"vf-grid\">\n          <p>\n            The Competency Hub's web infrastructure is developed by the\n            <a className=\"vf-link\" href=\"http://www.ebi.ac.uk/training\">\n              {' '}\n              EMBL-EBI Training Team\n            </a>{' '}\n            with support from the{' '}\n            <a className=\"vf-link\" href=\"https://bioexcel.eu/\">\n              BioExcel\n            </a>{' '}\n            and{' '}\n            <a href=\"https://permedcoe.eu/\" className=\"vf-link\">\n              PerMedCoE Centres of Excellence\n            </a>\n            . BioExcel and PerMedCoE are funded by the{' '}\n            <a\n              className=\"vf-link\"\n              href=\"https://ec.europa.eu/programmes/horizon2020/en\"\n            >\n              {' '}\n              European Union Horizon 2020 programme\n            </a>{' '}\n            under grant agreements 823830, 675728, 951773. Both projects are\n            part of{' '}\n            <a className=\"vf-link\" href=\"https://www.hpccoe.eu/\">\n              {' '}\n              the EU HPC CoE Initiative\n            </a>\n            .\n          </p>\n\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={EU}\n              loading=\"lazy\"\n              width=\"120px\"\n              height={'auto'}\n              alt=\"\"\n            />\n          </figure>\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={PerMed}\n              loading=\"lazy\"\n              width=\"170px\"\n              height={'auto'}\n              alt=\"\"\n            />\n          </figure>\n          <figure className=\"vf-figure\" style={{ margin: '10px' }}>\n            <img\n              className=\"vf-figure__image\"\n              src={BioExcel}\n              loading=\"lazy\"\n              width=\"180px\"\n              height={'auto'}\n              style={{ backgroundColor: '#fff', padding: '7px' }}\n              alt=\"\"\n            />\n          </figure>\n        </div>\n        <p>\n          <span>\n            <a\n              className=\"vf-link\"\n              href=\"https://www.ebi.ac.uk/data-protection/privacy-notice/competency-hub\"\n            >\n              Privacy notice for the Competency Hub\n            </a>\n          </span>\n        </p>\n      </div>\n\n      <div className=\"vf-u-margin__top--200\" />\n      <p>\n        Contact us at competency [at] ebi.ac.uk if you have any questions,\n        comments or suggestions.\n      </p>\n      <div className=\"vf-u-margin__top--1600\" />\n    </div>\n  );\n};\n\nexport default Footer;\n","import HttpService from '../http/http';\r\nimport axios from 'axios';\r\n\r\nconst http = new HttpService();\r\nconst loginUrl = '/user/login?_format=json';\r\n\r\nexport async function login(username, password) {\r\n  const credentials = { name: username, pass: password };\r\n  try {\r\n    const response = await http.post(loginUrl, credentials);\r\n    const { data } = response;\r\n    localStorage.setItem('roles', data.current_user.roles);\r\n    localStorage.setItem('csrf_token', data.csrf_token);\r\n    localStorage.setItem('logout_token', data.logout_token);\r\n    localStorage.setItem('user', data.current_user.name);\r\n    localStorage.setItem('userid', data.current_user.uid);\r\n    return data;\r\n  } catch (error) {\r\n    // console.log(error)\r\n    logout();\r\n    alert(\r\n      `Login failed. Please try again and make sure you are using the correct username and password.`\r\n    );\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  let logout_token = localStorage.getItem('logout_token');\r\n  axios\r\n    .get(\r\n      `${\r\n        process.env.REACT_APP_HTTPS_CMS_API_URL\r\n      }/user/logout?_format=json&token=${logout_token}&timestamp=${Date.now()}`,\r\n      {\r\n        withCredentials: true\r\n      }\r\n    )\r\n    .then(() => {\r\n      localStorage.removeItem('roles');\r\n      localStorage.removeItem('csrf_token');\r\n      localStorage.removeItem('logout_token');\r\n      localStorage.removeItem('userid');\r\n      localStorage.removeItem('user');\r\n    });\r\n}\r\n\r\nexport async function getLoggedInUser() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_HTTPS_CMS_API_URL}/api/users?_format=json`)\r\n      .then(response => {\r\n        resolve(response.data.user);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n","import React from 'react';\n\nconst Association = framework => {\n  let data = framework.framework;\n  return (\n    <div style={{ textAlign: '-webkit-center' }}>\n      <a href={data.link ? data.link : '#'}>\n        <figure className=\"vf-figure\">\n          <img\n            className=\"vf-figure__image\"\n            src={data.src}\n            alt={data.alt}\n            loading=\"lazy\"\n            width={'auto'}\n            height={'auto'}\n          />\n        </figure>\n      </a>\n    </div>\n  );\n};\n\nexport default Association;\n","import React, { Component } from 'react';\r\nimport FrameworkButtons from '../components/framework-buttons/FrameworkButtons';\r\nimport { Link } from 'react-router-dom';\r\nimport { withSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport LoginForm from './login-form/LoginForm';\r\nimport Footer from '../components/Footer';\r\nimport { login } from '../services/auth/auth';\r\nimport Association from './Association';\r\nimport masterList from './masterList.json';\r\nimport auth from '../services/util/auth';\r\nimport { MetaTags } from 'react-meta-tags';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nclass Frameworks extends Component {\r\n  state = {\r\n    frameworks: []\r\n  };\r\n  static propTypes = {\r\n    user: PropTypes.string.isRequired,\r\n    roles: PropTypes.string.isRequired,\r\n    onLogin: PropTypes.func.isRequired,\r\n    onLogout: PropTypes.func.isRequired\r\n  };\r\n\r\n  onLogin = (username, password) => {\r\n    this.handleLogin(username, password);\r\n  };\r\n\r\n  onLogout = () => {\r\n    this.props.onLogout();\r\n  };\r\n\r\n  handleLogin = async (username, password) => {\r\n    try {\r\n      await login(username, password);\r\n      document.location.reload();\r\n    } catch (error) {\r\n      window.console.error(error);\r\n      if (error.response) {\r\n        switch (error.response.status) {\r\n          case 400:\r\n            window.alert(error.response.data.message);\r\n            return;\r\n          default:\r\n            window.alert(\r\n              'Sorry, there was an unknown login problem, please try again.'\r\n            );\r\n        }\r\n        window.alert(\r\n          'Sorry, there was an unknown login problem, please try again.'\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MetaTags>\r\n          <title>Competency hub</title>\r\n          <meta property=\"og:title\" content=\"Competency hub\" />\r\n          <meta property=\"og:type\" content=\"website\" />\r\n          <meta property=\"og:url\" content=\"https://competemcy.ebi.ac.uk\" />\r\n          <meta\r\n            property=\"og:image\"\r\n            content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\r\n          />\r\n          <meta\r\n            property=\"og:description\"\r\n            content=\"The Competency Hub is a repository of competency frameworks that define the abilities required by professionals in a specific area of life sciences and relate them to training resources and career profiles\"\r\n          />\r\n          <meta\r\n            name=\"description\"\r\n            content=\"The Competency Hub is a repository of competency frameworks that define the abilities required by professionals in a specific area of life sciences and relate them to training resources and career profiles\"\r\n          />\r\n          <meta\r\n            property=\"keywords\"\r\n            content=\"competency, life sciences, career development, computational biology, bioinformatics\"\r\n          />\r\n        </MetaTags>\r\n        <Helmet>\r\n          <link rel=\"canonical\" href={this.props.location.pathname} />\r\n        </Helmet>\r\n        <section className=\"vf-u-fullbleed vf-u-background-color-ui--grey--light vf-u-padding__top--800\">\r\n          <h2>Who is the Competency Hub for?</h2>\r\n          <FrameworkButtons frameworkDetails={masterList} />\r\n\r\n          <div className=\"vf-u-padding__top--800\" />\r\n        </section>\r\n        <div className=\"vf-u-margin__top--1200\" />\r\n        <div>\r\n          <h2>Do more with the Competency Hub</h2>\r\n          <div className=\"vf-grid\">\r\n            <div>\r\n              <h3>\r\n                <Link to=\"/develop-your-courses\">Develop your courses</Link>\r\n              </h3>\r\n              <p>\r\n                Use competency frameworks and career profiles to design your\r\n                training.\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <h3>\r\n                <Link to=\"/documentation\">Review API Documentation</Link>\r\n              </h3>\r\n              <p>\r\n                Learn how to list frameworks and query framework data with our\r\n                API.\r\n              </p>\r\n            </div>\r\n            <div>\r\n              {auth.currently_logged_in_user.is_logged_in ? (\r\n                <div>\r\n                  <h3>You are logged-in</h3>\r\n                  <p>You can manage frameworks and competencies.</p>\r\n                </div>\r\n              ) : (\r\n                <LoginForm onSubmit={this.onLogin} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"vf-u-margin__top--1200\" />\r\n        <h2>In association with</h2>\r\n        <div className=\"vf-grid vf-grid__col-3\">\r\n          {masterList.map(framework => {\r\n            return <Association framework={framework} />;\r\n          })}\r\n        </div>\r\n        <div className=\"vf-u-margin__top--800\" />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Frameworks);\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n// import Collapsible from 'react-collapsible';\n// import ReactModal from 'react-modal';\n// import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n// import CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass CompetencySettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      competency: '',\n      competencyUUID: '',\n      competencyTitle: '',\n      frameworkList: [],\n      domainID: '',\n      domainUuid: '',\n      csrf: '',\n      mapping: ''\n    };\n\n    this.editDomain = this.editDomain.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onTextChange = this.onTextChange.bind(this);\n  }\n\n  async fetchData() {\n    let competencyID = this.state.path[4];\n    let url = `${apiUrl}/node/` + competencyID + `/?_format=json`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ competency: findresponse }, this.setMappingText);\n      });\n\n    // Load all domains of all frameworks from version_manager API\n\n    let versoinManagerURL = `${apiUrl}/api/version_manager/?_format=json&timestamp=${Date.now()}`;\n    fetch(versoinManagerURL)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    //console.log(apiUrl);\n  }\n\n  async setMappingText() {\n    let competency = this.state.competency;\n    if (competency.field_map_other_competency.length > 0) {\n      this.setState({\n        mapping: competency.field_map_other_competency[0].value\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n    //await this.setMappingText();\n  }\n\n  editDomain(e) {\n    let competencyID = this.state.path[4];\n    let selectedDomainID = this.state.domainID;\n    let selectedDomainUUID = this.state.domainUuid;\n    let mapping = this.state.mapping;\n    if (!selectedDomainID) {\n      selectedDomainID = this.state.competency.field_domain[0].target_id;\n      selectedDomainUUID = this.state.competency.field_domain[0].target_uuid;\n    }\n    this.competencyService.changeDomain(\n      competencyID,\n      selectedDomainID,\n      selectedDomainUUID,\n      mapping\n    );\n    //console.log(\"editDomain() called\");\n    this.props.history.push(\n      '/framework/' + this.state.path[2] + '/manage/competencies'\n    );\n    e.preventDefault();\n  }\n\n  onTextChange(event) {\n    this.setState({ mapping: event.target.value });\n    //console.log(this.state.mapping);\n  }\n\n  handleChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ domainID: dataset.id, domainUuid: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let competency_title = '';\n    let domain_id = '';\n    //let domain_uuid = '';\n    let domain_title = '';\n    let competency = this.state.competency;\n    let frameworkList = this.state.frameworkList;\n    let domainOptions = [];\n    let domainArray = [];\n    //let mapped_other_competency = \"\";\n\n    if (frameworkList.length > 0) {\n      console.log(this.state.frameworkList);\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() === this.state.path[2]) {\n          framework.domains.map(domain => {\n            domainOptions.push(\n              <option\n                key={domain.id}\n                data-id={domain.id}\n                data-uuid={domain.uuid}\n                value={domain.id}\n              >\n                {domain.title}\n              </option>\n            );\n            domainArray.push({ key: domain.id, value: domain.title });\n            return null;\n          });\n        }\n        return null;\n      });\n    }\n\n    if (competency) {\n      competency_title = competency.title[0].value;\n      domain_id = competency.field_domain[0].target_id;\n      //domain_uuid = competency.field_domain[0].target_uuid;\n      if (domainArray.length > 0) {\n        let obj = domainArray.find(d => d.key === domain_id);\n        domain_title = obj.value;\n      }\n    }\n\n    return (\n      <div>\n        <h2>Change domain</h2>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>\n                <h4>Domain:</h4>\n              </td>\n              <td>\n                <h4>{domain_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <h4>Competency:</h4>\n              </td>\n              <td>\n                <h4>{competency_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td colSpan={2}>\n                <p className=\"lead\">\n                  Select the domain from the following list to change:\n                </p>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.editDomain.bind(this)}\n                >\n                  <div className=\"row\">\n                    <div className=\"column large-11\">\n                      <select\n                        value={\n                          this.state.domainID ? this.state.domainID : domain_id\n                        }\n                        onChange={this.handleChange}\n                      >\n                        {domainOptions}\n                      </select>\n                      <label>\n                        Maps to competency/attribute from other framework\n                        <input\n                          type=\"text\"\n                          placeholder=\"Framework (version), competency or attribute\"\n                          name=\"mapping\"\n                          value={this.state.mapping}\n                          onChange={this.onTextChange.bind(this)}\n                        />\n                      </label>\n                      <input type=\"submit\" className=\"button\" value=\"Save\" />\n                    </div>\n                    <div className=\"column large-1\" />\n                  </div>\n                </form>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst CompetencySettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:id/settings\"\n      component={CompetencySettings}\n    />\n  </Switch>\n);\n\nexport default CompetencySettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n// import Collapsible from 'react-collapsible';\n// import ReactModal from 'react-modal';\n// import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\n// import CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass AttributeSettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      attributeID: this.props.location.pathname.split('/')[6],\n      frameworkName: this.props.location.pathname.split('/')[2],\n      frameworkList: [],\n      attributeType: '',\n      attribute: '',\n      competencyID: this.props.location.pathname.split('/')[4],\n      competencyUUID: '',\n      competencyTitle: '',\n      attributeTypeID: '',\n      attributeTypeUUID: '',\n      frameworkData: []\n    };\n\n    this.changeSettings = this.changeSettings.bind(this);\n    this.handleCompetencyChange = this.handleCompetencyChange.bind(this);\n    this.handleTypeChange = this.handleTypeChange.bind(this);\n  }\n\n  async fetchData() {\n    // Load the attribute\n\n    let attributeID = this.state.attributeID;\n    let url =\n      `${apiUrl}/node/` +\n      attributeID +\n      `/?_format=json&timestamp=${Date.now()}`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ attribute: findresponse });\n      });\n\n    // Load all domains of all frameworks from version_manager API\n    fetch(`${apiUrl}/api/version_manager?_format=json`)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    let result = await this.competencyService.getVersionedDraftFramework(\n      this.state.frameworkName\n    );\n    this.setState({ frameworkData: result });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  changeSettings(e) {\n    let attributeID = this.state.attributeID;\n    let selectedCompetencyID = this.state.competencyID\n      ? this.state.competencyID\n      : this.state.attribute.field_competency[0].target_id;\n    let selectedCompetencyUUID = this.state.competencyUUID\n      ? this.state.competencyUUID\n      : this.state.attribute.field_competency[0].target_uuid;\n    let selectedAttributeTypeID = this.state.attributeTypeID\n      ? this.state.attributeTypeID\n      : this.state.attribute.field_attribute_type[0].target_id;\n    let selectedAttributeTypeUUID = this.state.attributeTypeUUID\n      ? this.state.attributeTypeUUID\n      : this.state.attribute.field_attribute_type[0].target_uuid;\n\n    // console.log(\"competencyID: \"+selectedCompetencyID + \" attributeTypeID: \"+ selectedAttributeTypeID);\n    // if(!selectedCompetencyID){\n    //   selectedCompetencyID = this.state.attribute.field_competency[0].target_id;\n    //   selectedCompetencyUUID = this.state.competency.field_competency[0].target_uuid;\n    // }\n\n    // if(!selectedAttributeTypeID){\n    //   selectedAttributeTypeID = this.state.attribute.field_attribute_type[0].target_id;\n    //   selectedAttributeTypeUUID = this.state.competency.field_attribute_type[0].target_uuid;\n    // }\n\n    this.competencyService.changeAttributeSettings(\n      attributeID,\n      selectedCompetencyID,\n      selectedCompetencyUUID,\n      selectedAttributeTypeID,\n      selectedAttributeTypeUUID\n    );\n\n    this.props.history.push(\n      '/framework/' +\n        this.state.path[2] +\n        '/manage/competencies/' +\n        this.props.location.pathname.split('/')[4] +\n        '/manage-attributes'\n    );\n    e.preventDefault();\n  }\n\n  handleCompetencyChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ competencyID: dataset.id, competencyUUID: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  handleTypeChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({\n      attributeTypeID: dataset.id,\n      attributeTypeUUID: dataset.uuid\n    });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let attribute_title = '';\n    let competency_id = '';\n    //let competency_uuid = '';\n    let competency_title = '';\n    let attribute_type_id = '';\n    //let attribute_type_uuid = '';\n    let attribute_type_title = '';\n    let attribute = this.state.attribute;\n    let frameworkData = this.state.frameworkData;\n    let frameworkList = this.state.frameworkList;\n    let competencyOptions = [];\n    let competencyArray = [];\n    let attributeTypeOptions = [];\n    let attributeTypeArray = [];\n\n    //console.log(frameworkList);\n\n    if (frameworkList) {\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() === this.state.frameworkName) {\n          framework.attribute_types.map(attribute_type => {\n            attributeTypeOptions.push(\n              <option\n                key={attribute_type.id}\n                data-id={attribute_type.id}\n                data-uuid={attribute_type.uuid}\n                value={attribute_type.id}\n              >\n                {attribute_type.title}\n              </option>\n            );\n            attributeTypeArray.push({\n              key: attribute_type.id,\n              value: attribute_type.title\n            });\n            return null;\n          });\n        }\n        return null;\n      });\n      //console.log(attributeTypeArray);\n    }\n\n    if (frameworkData) {\n      frameworkData.map(framework => {\n        framework.domains.map(domain => {\n          domain.competencies.map(competency => {\n            if (competency.archived === 0) {\n              competencyOptions.push(\n                <option\n                  key={competency.id}\n                  data-id={competency.id}\n                  data-uuid={competency.uuid}\n                  value={competency.id}\n                >\n                  {competency.title}\n                </option>\n              );\n              competencyArray.push({\n                key: competency.id,\n                value: competency.title\n              });\n            }\n            return null;\n          });\n          return null;\n        });\n        return null;\n      });\n    }\n\n    if (attribute) {\n      attribute_title = attribute.title[0].value;\n      competency_id = attribute.field_competency[0].target_id;\n      //competency_uuid = attribute.field_competency[0].target_uuid;\n      attribute_type_id = attribute.field_attribute_type[0].target_id;\n      if (competencyArray.length > 0) {\n        let obj = competencyArray.find(d => d.key === competency_id);\n        competency_title = obj.value;\n        //console.log(attribute_type_id);\n      }\n\n      if (attributeTypeArray.length > 0) {\n        let obj = attributeTypeArray.find(d => d.key === attribute_type_id);\n        attribute_type_title = obj.value;\n      }\n\n      //console.log(attribute_title);\n    }\n\n    return (\n      <div>\n        <h2>Change attribute settings</h2>\n        <h3>Attribute: {attribute_title}</h3>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>Competency:</td>\n              <td>{competency_title}</td>\n              <td rowSpan={2}>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.changeSettings.bind(this)}\n                >\n                  <label>Change competency:</label>\n                  <select\n                    value={\n                      this.state.competencyID\n                        ? this.state.competencyID\n                        : competency_id\n                    }\n                    onChange={this.handleCompetencyChange}\n                  >\n                    {competencyOptions}\n                  </select>\n                  <label>Change attribute type:</label>\n                  <select\n                    value={\n                      this.state.attributeTypeID\n                        ? this.state.attributeTypeID\n                        : attribute_type_id\n                    }\n                    onChange={this.handleTypeChange}\n                  >\n                    {attributeTypeOptions}\n                  </select>\n                  <input type=\"submit\" className=\"button\" value=\"Save\" />\n                </form>\n              </td>\n            </tr>\n\n            <tr>\n              <td>Attribute type:</td>\n              <td>{attribute_type_title}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst AttributeSettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\n      component={AttributeSettings}\n    />\n  </Switch>\n);\n\nexport default AttributeSettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport CompetencyService from '../services/competency/competency';\n\n//const $ = window.$;\n\nclass AttributeDemap extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      resourceID: this.props.location.pathname.split('/')[2],\n      attributeID: this.props.location.pathname.split('/')[4],\n      resourceDetails: [],\n      csrf: ''\n    };\n    this.demap = this.demap.bind(this);\n  }\n\n  async demap(e) {\n    //alert(\"mapping removed\");\n    // let resource = 1034;\n    // let items = [20, 21];\n    //this.activeRequests.startRequest();\n    // let result = await this.competencyService.demap(resource, items);\n    //this.activeRequests.finishRequest();\n    //this.props.history.push(\"/training-resources/\"+this.props.location.pathname.split('/')[2]);\n    //e.preventDefault();\n  }\n\n  componentDidMount() {\n    //fetch(`${apiUrl}`+'/api/resources/?_format=hal_json&id='+ this.state.resourceID)\n    fetch(`${apiUrl}/node/ ${this.state.resourceID}?_format=hal_json`)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          resourceDetails: findresponse\n        });\n      });\n\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return this.state.attributes === nextState.attributes;\n  // }\n\n  render() {\n    return (\n      <div>\n        <h3>\n          Are you sure you want to remove this mapping? This action cannot be\n          undone!\n        </h3>\n        <button className=\"button\" onClick={this.demap.bind(this)}>\n          Yes\n        </button>\n      </div>\n    );\n  }\n}\n\nconst AttributeDemapRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/training-resources/:resource/demap/:attribute\"\n      component={AttributeDemap}\n    />\n  </Switch>\n);\n\nexport default AttributeDemapRoot;\n","import { apiUrl } from '../http/http';\n//requests fail when https is included in _links.type.href below\n//so we moved changed the value of apiUrl to exclude the s and only have http\nconst httpApiURl = apiUrl.replace('https', 'http');\nclass BodyService {\n  static createProfile({\n    title,\n    frameworkId,\n    frameworkUuid,\n    versionID,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    fileid\n  }) {\n    return {\n      _links: {\n        type: {\n          href: `${httpApiURl}/rest/type/node/profile`\n        },\n        [`${httpApiURl}/rest/relation/node/profile/field_competency_framework`]: {\n          href: `${httpApiURl}/node/${frameworkId}?_format=hal_json`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_versions: [\n        {\n          target_id: versionID\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid,\n          description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: 'Draft'\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ],\n      _embedded: {\n        [`${httpApiURl}/rest/relation/node/profile/field_competency_framework`]: [\n          {\n            _links: {\n              self: {\n                href: `${httpApiURl}/node/${frameworkId}?_format=hal_json`\n              },\n              type: {\n                href: `${httpApiURl}/rest/type/node/competency_framework`\n              }\n            },\n            uuid: [\n              {\n                value: frameworkUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ]\n      }\n    };\n  }\n\n  static editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    return {\n      _links: {\n        self: {\n          href: `${httpApiURl}/node/${profileId}?_format=json`\n        },\n        type: {\n          href: `${httpApiURl}/rest/type/node/profile`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification,\n          format: 'basic_html'\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo,\n          format: 'basic_html'\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid ? fileid : null\n          //description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: publishStatus\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ]\n    };\n  }\n\n  static mapProfile(profileId, mapping) {\n    let mappingBody = [];\n    mapping.forEach(function(item) {\n      mappingBody.push({\n        competency: item.competency,\n        expertise: item.expertise,\n        attributes: item.attributes.join()\n      });\n    });\n\n    return {\n      type: [\n        {\n          target_id: 'article'\n        }\n      ],\n      field_item: [\n        {\n          value: profileId\n        }\n      ],\n      field_profile_mapping: mappingBody\n    };\n  }\n}\n\nexport default BodyService;\n","import HttpService from '../http/http';\nimport Body from './body';\n//import Download from './download';\nimport jsPDF from 'jspdf';\nimport moment from 'moment';\n\nclass ProfileService {\n  static instance;\n  http = new HttpService();\n\n  constructor() {\n    if (ProfileService.instance) {\n      return this.instance;\n    }\n    ProfileService.instance = this;\n  }\n\n  async createProfile(options) {\n    const response = await this.http.post(\n      `/node?_format=hal_json`,\n      Body.createProfile(options)\n    );\n    return response.data;\n  }\n\n  async editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    const response = await this.http.patch(\n      `/node/${profileId}?_format=hal_json`,\n      Body.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      )\n    );\n\n    return response.data;\n  }\n\n  async mapProfile(profileId, mapping) {\n    const response = await this.http.patch(\n      `/api/permedcoe/2.0/profiles?_format=json`,\n      Body.mapProfile(profileId, mapping),\n      'json'\n    );\n    return response.data;\n  }\n\n  async createGuestProfile(\n    frameworkName,\n    frameworkId,\n    versionNumber,\n    title,\n    age,\n    current_role,\n    gender,\n    job_title,\n    qualification_background,\n    additional_information,\n    image\n  ) {\n    let mapping = [];\n\n    let existingGuestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    if (existingGuestProfile) {\n      if (existingGuestProfile.profile_mapping) {\n        mapping = existingGuestProfile.profile_mapping;\n      }\n    }\n\n    let guestProfile = {\n      frameworkName,\n      frameworkId,\n      versionNumber,\n      title,\n      age,\n      current_role,\n      gender,\n      job_title,\n      qualification_background,\n      additional_information,\n      image\n    };\n\n    guestProfile['profile_mapping'] = mapping;\n\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile));\n    console.log('Profile service called for Guest user');\n  }\n\n  async mapProfileGuest(mapping) {\n    let guestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    guestProfile['profile_mapping'] = mapping;\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile));\n  }\n\n  mapDownloadProfile(options) {\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(options));\n  }\n\n  downloadProfile(options) {\n    // Download.getProfile(options);\n    // console.log(options)\n\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    //const margin = 0.5;\n\n    let currentDate = moment().format('MMMM D, Y');\n    let currentTime = moment().format('hh:mm:ss');\n\n    let pdfWidth = doc.internal.pageSize.getWidth();\n    let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    const pdfProfileImgWidth = 180;\n    const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    let col = pdfWidth * 0.07383;\n    let gutter = pdfWidth * 0.01036727272;\n    //let fourthCol = col * 4 + gutter * 3;\n    let fifthCol = col * 5 + gutter * 4;\n\n    const profileBody = pdfWidth - fifthCol - 20;\n\n    let selectedFileWidth = options.selectedFile\n      ? options.selectedFileData[0].width\n      : 180;\n    let selectedFileHeight = options.selectedFile\n      ? options.selectedFileData[0].height\n      : 150;\n    let ratio = selectedFileWidth / selectedFileHeight;\n    let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    // PROFILE Header\n    doc.setFontType('normal');\n    doc.setFontSize(22);\n    doc.text(marginleft, startHeight, 'EMBL-EBI Competency Profile');\n\n    // Framework Logo\n    if (options.frameworkLogoData) {\n      let frameworkLogoWidth = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].width\n        : 100;\n      let frameworkLogoHeight = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].height\n        : 30;\n      let logoRatio = frameworkLogoWidth / frameworkLogoHeight;\n      let pdfLogoHeight = pageLogoWidth / logoRatio;\n\n      let logoData = options.frameworkLogoData[0].src;\n      let logoType = 'PNG';\n      doc.addImage(\n        logoData,\n        logoType,\n        marginright - 100,\n        5,\n        pageLogoWidth,\n        pdfLogoHeight,\n        '',\n        'SLOW'\n      );\n    }\n\n    currentYAxis = currentYAxis + 50;\n\n    // PROFILE Title\n    doc.setFontSize(18);\n    doc.text(\n      marginleft,\n      currentYAxis,\n      options.title + ' - ' + options.jobTitle\n    );\n\n    // PROFILE Image\n    if (options.selectedFile) {\n      let type = options.selectedFile.type === 'image/jpeg' ? 'JPEG' : 'PNG'; // maybe you should add some controls to prevent loading of other file types\n      let imgData = options.selectedFileData[0].src;\n      doc.addImage(\n        imgData,\n        type,\n        marginleft,\n        currentYAxis + 30,\n        pdfProfileImgWidth,\n        pdfProfileImgHeight,\n        '',\n        'SLOW'\n      ); // Compression options are NONE, FAST, MEDIUM and SLOW\n    }\n\n    // doc.setFontType('normal');\n    // PROFILE Demographics\n    if (options.gender || options.age) {\n      let gender = options.gender\n        ? options.age\n          ? options.gender + ', '\n          : options.gender\n        : '';\n      let age = options.age ? options.age + ' years' : '';\n\n      doc.setFontSize(12);\n      doc.text(\n        marginleft,\n        pdfProfileImgHeight + currentYAxis + 60,\n        gender + age\n      );\n    }\n\n    currentYAxis = currentYAxis + 40;\n\n    // PROFILE Qualifications\n    let qDim;\n    if (options.qualification) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, currentYAxis, 'Qualifications & background');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let qualification = doc.splitTextToSize(\n        options.qualification,\n        profileBody\n      );\n      // Adjust yAxis based on text height\n      qDim = doc.getTextDimensions(qualification);\n      //let margins = {\n      //   top: 70,\n      //   bottom: 40,\n      //   left: 30,\n      //   width: 550\n      // };\n\n      doc.fromHTML(options.qualification, fifthCol, currentYAxis, {\n        // y coord\n        width: profileBody // max width of content on PDF\n      });\n\n      // doc.text(fifthCol, currentYAxis, qualification)\n      currentYAxis = currentYAxis + 30;\n    }\n\n    // PROFILE Activities\n    if (options.currentRole) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, qDim.h + currentYAxis, 'Activities and current role');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let currentRole = doc.splitTextToSize(options.currentRole, profileBody);\n      // Adjust yAxis based on text height\n      //let cDim = doc.getTextDimensions(currentRole);\n      currentYAxis = qDim.h + currentYAxis;\n\n      doc.text(fifthCol, currentYAxis, currentRole);\n    }\n\n    doc.setFontSize(9);\n    doc.text(\n      marginleft,\n      pdfHeight - 20,\n      'Profile created on ' + currentDate + ' at ' + currentTime\n    );\n\n    // Save the Data\n    let jobTitleUnderscored = options.jobTitle.split(' ').join('_');\n    doc.save(jobTitleUnderscored.toLowerCase() + '.pdf');\n  }\n}\n\nexport default ProfileService;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport auth from '../services/util/auth';\n\nexport const ProfileCreate = props => {\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n\n  const [frameworkMoreData, setFrameworkMoreData] = useState();\n  const http = new HttpService();\n\n  useEffect(() => {\n    // Set variables from Local Storage to populate form fields onload\n    const bootstrap = () => {\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      setProfile(storedProfile);\n\n      if (storedProfile) {\n        setTitle(storedProfile.title);\n        setJobTitle(storedProfile.jobTitle);\n        setAge(storedProfile.age);\n        setGender(storedProfile.gender);\n        setQualification(storedProfile.qualification);\n        setCurrentRole(storedProfile.currentRole);\n        setAdditionalInfo(storedProfile.additionalInfo);\n        if (storedProfile.selectedFileData[0]) {\n          setSelectedFileData(storedProfile.selectedFileData);\n          setImgpreview(storedProfile.selectedFileData[0].src);\n        }\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&timestamp=${Date.now()}`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(\n            `${apiUrl}/api/version_manager?_format=json&timestamp=${Date.now()}`\n          )\n          .then(response2 => response2.data);\n\n        const [data1, data2] = await Promise.all([promise1, promise2]);\n\n        setFramework(data1);\n        setFrameworkMoreData(\n          data2.filter(item => {\n            return item.title.toLowerCase() === frameworkName;\n          })\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    bootstrap();\n    fetchData();\n  }, [selectedFile, frameworkName, frameworkVersion, http]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    let frameworkName = framework[0].title;\n    let frameworkUuid = framework[0].uuid;\n    console.log(frameworkMoreData);\n    let liveVersion = frameworkMoreData[0].versions.find(\n      ver => ver.status === 'live'\n    );\n\n    let versionID = liveVersion.id;\n\n    var fileid = null;\n\n    // Do nothing if Form doesn't pass validation criteria above\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    }\n    // Check if is Anonymous/Authenticated\n    else if (auth.currently_logged_in_user.roles.length === 0) {\n      //setErrorMsgTitle('');\n      //setErrorMsgJobTitle('');\n\n      // Retrieve values from Local Storage if exist\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n\n      profileService.mapDownloadProfile({\n        title,\n        frameworkId,\n        //frameworkLogoData,\n        frameworkName,\n        frameworkUuid,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        selectedFile,\n        // selectedFileData: storedProfile ? selectedFileData ? selectedFileData : '' : '',\n        selectedFileData,\n        mapping: storedProfile ? storedProfile.mapping : [],\n        mappingAttributes: storedProfile ? storedProfile.mappingAttributes : []\n      });\n      //props.history.push('/framework/bioexcel/2.0/profile/map/download/');\n    } else if (\n      auth.currently_logged_in_user.roles.includes('framework_manager')\n    ) {\n      if (selectedFile) {\n        let token = localStorage.getItem('csrf_token');\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=hal_json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.createProfile({\n        title,\n        frameworkId,\n        frameworkUuid,\n        versionID,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        fileid\n      });\n\n      props.history.push(\n        `/framework/${frameworkName.toLowerCase()}/${frameworkVersion}/profile/map/${\n          response.nid[0].value\n        }`\n      );\n    }\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      //const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                src: this.src,\n                width: this.width,\n                height: this.height\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Map Competencies';\n    if (auth.currently_logged_in_user.roles.length > 0) {\n      submitButtonLabel = 'Map Competencies';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--sm vf-button--primary\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (auth.currently_logged_in_user.roles.length === 0) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Create {placeholder} profile</h2>\n      <form\n        className=\"vf-form\"\n        id=\"profile_create_form\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"vf-grid vf-grid__col-6\">\n          <div className=\"vf-grid__col--span-2\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : title}\n                className=\"vf-form__input\"\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n            <span>\n              <img\n                alt=\"\"\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <button\n                    className=\"vf-button vf-button--secondary vf-button--sm\"\n                    href=\"#\"\n                    onClick={e => clearimgpreview(e)}\n                  >\n                    Clear image x\n                  </button>\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : age}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                defaultValue={profile ? profile.gender : gender}\n                className=\"vf-form__input\"\n              >\n                <option value={'None'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n                <option value={'Nonbinary'}>Nonbinary</option>\n                <option value={'Prefernottosay'}>Prefer not to say</option>\n              </select>\n            </span>\n          </div>\n          <div className=\"vf-grid__col--span-4\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.jobTitle : jobTitle}\n                className=\"vf-form__input\"\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={qualification}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Activities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={currentRole}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={additionalInfo}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n            <br />\n          </div>\n        </div>\n\n        <div className=\"vf-grid\">\n          <div />\n          <div>\n            <ButtonLabel />\n          </div>\n          <div />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const CreateProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create\"\n      component={ProfileCreate}\n    />\n  </Switch>\n);\n\nexport default CreateProfile;\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nconst GuestHelp = props => {\n  const modalOpen = props.modalOpen;\n\n  const closeModal = e => {\n    //e.preventDefault(e);\n    props.closeModal();\n  };\n\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      width: '70%',\n      backgroundColor: '#f1f1f1'\n    }\n  };\n\n  return (\n    <div>\n      <ReactModal isOpen={modalOpen} style={customStyles}>\n        <button style={{ float: 'right' }} onClick={e => closeModal(e)}>\n          <i className=\"icon icon-common icon-window-close\" />\n        </button>\n        <h2>Help</h2>\n        <h4>Create/edit your profile</h4>\n        <p className=\"lead\">\n          Fill the Create/Edit Profile form in order to create your own user\n          profile. The profile will be saved in your browser so that you can\n          print it or compare it with other profiles.\n        </p>\n\n        <h4>Map competencies to your profile</h4>\n        <p className=\"lead\">\n          In the second step, select your level of expertise in each competency\n          and choose the knowledge, skills and attitudes that are applicable to\n          you.\n        </p>\n\n        <h4>Compare your profile</h4>\n        <p className=\"lead\">\n          Compare the profile that you created with one of the reference\n          profiles in the site.\n        </p>\n\n        <h4>Download your profile</h4>\n        <p className=\"lead\">Click the print button and download the profile</p>\n      </ReactModal>\n    </div>\n  );\n};\n\nexport default GuestHelp;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import FileUpload from './FileUpload';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\n//import { Link, Redirect } from 'react-router-dom';\nimport GuestHelp from './GuestHelp';\nimport auth from '../services/util/auth';\n\nexport const ProfileCreateGuest = props => {\n  const history = useHistory();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n  const [modalOpen, setModelOpen] = useState(false);\n\n  const http = new HttpService();\n  const storedProfile = JSON.parse(localStorage.getItem('guestProfile'));\n\n  useEffect(() => {\n    // auth.getLoggedInUser().then(user => {\n    //   setUser(user);\n    // });\n    // Set variables from Local Storage to populate form fields onload\n    let bootstrap = async () => {\n      setProfile(storedProfile);\n      setTitle(storedProfile.title);\n      setJobTitle(storedProfile.job_title);\n      setAge(parseInt(storedProfile.age));\n      setGender(storedProfile.gender);\n      setQualification(storedProfile.qualification_background);\n      setCurrentRole(storedProfile.current_role);\n      setAdditionalInfo(storedProfile.additional_information);\n      if (storedProfile.image[0]) {\n        setSelectedFileData(storedProfile.image);\n        setImgpreview(storedProfile.image[0].url);\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&timestamp=${Date.now()}`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(\n            `${apiUrl}/api/version_manager?_format=json&timestamp=${Date.now()}`\n          )\n          .then(response2 => response2.data);\n\n        const [data1] = await Promise.all([promise1, promise2]);\n        setFramework(data1);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (storedProfile && !profile) {\n      bootstrap();\n    }\n\n    if (!framework) {\n      fetchData();\n    }\n  }, [\n    selectedFile,\n    frameworkName,\n    frameworkVersion,\n    http,\n    storedProfile,\n    framework,\n    profile\n  ]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    let versionNumber = frameworkVersion;\n\n    // Do nothing if Form doesn't pass validation criteris above\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n      return 0;\n    }\n    // Check if is Anonymous/Authenticated\n    else if (auth.currently_logged_in_user.roles.length === 0) {\n      let current_role = currentRole ? currentRole : '';\n      let job_title = jobTitle ? jobTitle : '';\n      let qualification_background = qualification ? qualification : '';\n      let additional_information = additionalInfo ? additionalInfo : '';\n      let image = selectedFileData ? selectedFileData : '';\n\n      profileService.createGuestProfile(\n        frameworkName,\n        frameworkId,\n        versionNumber,\n        title,\n        age,\n        current_role,\n        gender,\n        job_title,\n        qualification_background,\n        additional_information,\n        image\n      );\n      // history.push(\n      //   `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest/`\n      // );\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profile/map/guest/`\n      );\n    }\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      //const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                url: this.src\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    setSelectedFileData(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (auth.currently_logged_in_user.roles.length === 0) {\n      submitButtonLabel = 'Map Competencies';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--primary vf-button--sm\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (auth.currently_logged_in_user.roles.length === 0) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  const openModal = e => {\n    e.preventDefault();\n    setModelOpen(true);\n  };\n\n  const closeModal = () => {\n    //e.preventDefault();\n    setModelOpen(false);\n  };\n\n  return (\n    <div>\n      <h2>Create / Edit {placeholder} profile</h2>\n      <div className=\"callout warning\">\n        <i className=\"icon icon-common icon-exclamation-triangle\" /> Your\n        profile will be saved in your browser.\n        <button\n          className=\"vf-button vf-button--secondary vf-button--sm\"\n          onClick={e => openModal(e)}\n        >\n          Get help\n        </button>\n        <GuestHelp modalOpen={modalOpen} closeModal={closeModal} />\n      </div>\n      <form\n        className=\"vf-form\"\n        id=\"profile_create_form\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"vf-grid vf-grid__col-6\">\n          <div className=\"vf-grid__col--span-2\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : ''}\n                className=\"vf-form__input\"\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <img\n                alt=\"\"\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <button\n                    className=\"vf-button vf-button--secondary vf-button--sm\"\n                    href=\"#\"\n                    onClick={e => clearimgpreview(e)}\n                  >\n                    Clear image x\n                  </button>\n                </div>\n              ) : (\n                ''\n              )}\n              <div className=\"vf-u-margin__bottom--600\" />\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : ''}\n                className=\"vf-form__input\"\n              />\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                //defaultValue={gender?gender:'-None-'}\n                value={gender ? gender : '-None-'}\n                className=\"vf-form__select\"\n              >\n                <option value={'None'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n                <option value={'Nonbinary'}>Nonbinary</option>\n                <option value={'Prefernottosay'}>Prefer not to say</option>\n              </select>\n            </span>\n          </div>\n          <div className=\"vf-grid__col--span-4\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.job_title : ''}\n                className=\"vf-form__input\"\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={\n                  storedProfile ? storedProfile.qualification_background : ''\n                }\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Activities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile ? storedProfile.current_role : ''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n\n            <div className=\"vf-u-margin__bottom--600\" />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile ? storedProfile.additional_information : ''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n                className=\"vf-form__input\"\n              />\n            </span>\n          </div>\n        </div>\n        <ButtonLabel />\n      </form>\n    </div>\n  );\n};\n\nexport const Path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create/guest\"\n      component={ProfileCreateGuest}\n    />\n  </Switch>\n);\n\nexport default Path;\n","import React, { useState } from 'react';\nimport ReactModal from 'react-modal';\nimport masterList from '../../app/containers/masterList.json';\n\nconst customStyles = {\n  content: {\n    position: 'absolute',\n    top: '40px',\n    left: '40px',\n    right: '40px',\n    bottom: '40px',\n    border: '1px solid #ccc',\n    background: '#fff',\n    overflow: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    borderRadius: '4px',\n    outline: 'none',\n    padding: '20px',\n    width: '500px',\n    height: '250px',\n    margin: 'auto'\n  },\n  overlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.75)'\n  }\n};\n\nexport const ProfileComparisonModal = props => {\n  const includeGuestProfile = props.includeGuestProfile;\n  const [showModal, setShowModal] = useState(false);\n  const currentProfile = props.profile;\n  const profiles = props.profiles;\n\n  return (\n    <div>\n      {props.linkVariant ? (\n        <button\n          className=\"vf-button vf-button--link\"\n          onClick={() => {\n            setShowModal(true);\n          }}\n        >\n          Compare another profile\n        </button>\n      ) : (\n        <button\n          className=\"vf-button vf-button--primary vf-button--sm\"\n          onClick={() => {\n            setShowModal(true);\n          }}\n        >\n          Compare profile\n        </button>\n      )}\n      {currentProfile ? (\n        <>\n          <div>\n            <ReactModal\n              isOpen={showModal}\n              contentLabel=\"Example Modal\"\n              className=\"Modal\"\n              overlayClassName=\"Overlay\"\n              style={customStyles}\n              onRequestClose={() => {\n                setShowModal(false);\n              }}\n            >\n              <h2>\n                Compare profile{' '}\n                <span\n                  style={{\n                    float: 'right',\n                    cursor: 'pointer',\n                    fontWeight: 'normal'\n                  }}\n                  onClick={() => {\n                    setShowModal(false);\n                  }}\n                >\n                  X\n                </span>\n              </h2>\n              {currentProfile.id ? (\n                ''\n              ) : (\n                <p>\n                  This profile has been created in the{' '}\n                  {\n                    masterList.filter(\n                      item => item.title === currentProfile.frameworkName\n                    )[0].desc\n                  }{' '}\n                  {console.log(currentProfile)}\n                  framework.\n                </p>\n              )}\n              <p>\n                Select a framework profile to compare{' '}\n                <strong>{currentProfile.job_title} with:</strong>\n              </p>\n\n              <form>\n                <select\n                  className=\"vf-form__select\"\n                  id=\"vf-form__select\"\n                  onChange={e => {\n                    props.setSelectedProfileId(e.target.value);\n                  }}\n                >\n                  <option value=\"0\">Select profile</option>\n                  {localStorage.getItem('guestProfile') &&\n                  includeGuestProfile ? (\n                    <option value={'guest'}>\n                      {\n                        JSON.parse(localStorage.getItem('guestProfile'))\n                          .job_title\n                      }\n                    </option>\n                  ) : (\n                    ''\n                  )}\n                  {profiles\n                    ? profiles.map((profile, index) => {\n                        return (\n                          <>\n                            <option value={profile.id}>\n                              {profile.job_title}\n                            </option>\n                          </>\n                        );\n                      })\n                    : ''}\n                </select>\n                <span style={{ color: 'red' }}>{props.comparisonError}</span>\n              </form>\n              <div className=\"vf-u-margin__top--200\" />\n              <button\n                className=\"vf-button vf-button--primary vf-button--sm\"\n                onClick={e => {\n                  setShowModal(false);\n                  props.redirectToCompare(e);\n                }}\n              >\n                Compare\n              </button>\n            </ReactModal>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport { apiUrl } from '../services/http/http';\nimport { Link } from 'react-router-dom';\n\nimport ReactTooltip from 'react-tooltip';\nimport { ProfileComparisonModal } from '../../shared/components/ProfileComparisonModal';\nimport auth from '../services/util/auth';\nimport { MetaTags } from 'react-meta-tags';\nimport { Helmet } from 'react-helmet';\n\nexport const ProfileView = props => {\n  let history = useHistory();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  const [profile, setProfile] = useState();\n  const [profiles, setProfiles] = useState();\n  const [selectedProfileId, setSelectedProfileId] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  // const [showModal, setShowModal] = useState(false);\n  const [comparisonError, setComparisonError] = useState(null);\n  const [userFrameworks, setUserFrameworks] = useState([]);\n\n  const redirectToCompare = e => {\n    if (selectedProfileId) {\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n          profile.id\n        }/${selectedProfileId}`\n      );\n    } else {\n      setComparisonError('Select a role to compare');\n    }\n  };\n\n  const needTimeStamp = auth.currently_logged_in_user.is_logged_in\n    ? '&timestamp=' + Date.now()\n    : '';\n\n  var competencyView = '';\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var mapping = [];\n  var user_roles = auth.currently_logged_in_user.roles;\n  var userName = auth.currently_logged_in_user.username;\n  var domainsList = '';\n\n  let width2 = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&source=competencyhub&timestamp=${needTimeStamp}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          const profilesExcludingCurrentProfile = findresponse.filter(\n            p =>\n              // p.id !== props.match.params.id && p.publishing_status === 'Live'\n              p.id !== profileId && p.publishing_status === 'Live'\n          );\n          setProfiles(profilesExcludingCurrentProfile);\n        });\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&source=competencyhub&timestamp=${needTimeStamp}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/version_manager?_format=json&source=competencyhub&${needTimeStamp}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&source=competencyhub&timestamp=${needTimeStamp}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n\n      if (userName) {\n        await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n          method: 'GET',\n          credentials: 'include'\n        })\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setUserFrameworks(findresponse);\n          });\n      }\n    };\n    fetchData();\n    //}, [profileId, frameworkVersion, frameworkName, userName, showModal]);\n  }, [profileId, frameworkVersion, frameworkName, userName, needTimeStamp]);\n\n  const getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency === competency);\n      if (obj) {\n        if (frameworkInfo) {\n          let expertise = frameworkInfo\n            .find(info => info.title.toLowerCase() === frameworkName)\n            .expertise_levels.find(level => level.id === obj.expertise);\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n  const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n  // {document.addEventListener(\"DOMContentLoaded\", function (event) {\n  //   // console.log(document.querySelectorAll('[data-profileid]'))\n  //   document.getElementById('bc_location').innerText = 'Prakash'\n  // })}\n\n  const getBarWidth = data => {\n    let totalLevels = frameworkInfo.find(\n      info => info.title.toLowerCase() === frameworkName\n    ).expertise_levels.length;\n    width2 = data ? 100 / ((totalLevels - 1) / data.rating_level) : 0;\n    return width2;\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map((info, infoIndex) => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          info.expertise_levels.map((level, levelIndex) =>\n            expertise_levels_legend.push(\n              <li\n                key={levelIndex}\n                className=\"vf-list__item\"\n                style={{ textAlign: 'center' }}\n              >\n                <div\n                  data-tip={level.description ? level.description : 'NA'}\n                  data-html={true}\n                  data-type=\"info\"\n                  data-multiline={true}\n                >\n                  <span className=\"vf-badge vf-badge--tertiary\">\n                    {' '}\n                    {level.rating_level}{' '}\n                  </span>{' '}\n                  <span> {level.title}</span>\n                </div>\n                <ReactTooltip\n                  className=\"tooltip-custom\"\n                  style={{ color: 'fff' }}\n                />\n              </li>\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n\n      document.getElementById('bc_location').innerText =\n        profile.title + ' - ' + profile.job_title;\n    }\n\n    if (framework) {\n      competencyView = framework.map((item, itemIndex) =>\n        item.domains.map((domain, domainIndex) => (\n          <React.Fragment key={itemIndex + domainIndex}>\n            <div key={domainIndex}>\n              <div>\n                <div class=\"vf-u-padding__top--800\" />\n                <h4>{domain.title}</h4>{' '}\n                <span style={{ visibility: 'hidden' }}>\n                  {(domainsList += domain.title + ',')}\n                </span>\n              </div>\n            </div>\n            <div>\n              <div>\n                {domain.competencies.map((competency, compIndex) => (\n                  <React.Fragment key={compIndex}>\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <details className=\"vf-details\" close>\n                          <summary className=\"vf-details--summary\">\n                            {competency.title}\n                          </summary>\n                          {attribute_types.map((attribute_type, typeIndex) => {\n                            return (\n                              <div key={typeIndex}>\n                                <div />\n                                <ul className=\"vf-list\">\n                                  <div>\n                                    <strong> {attribute_type} </strong>\n                                  </div>\n                                  {competency.attributes\n                                    .filter(\n                                      attribute =>\n                                        attribute.type === attribute_type\n                                    )\n                                    .map((attribute, attrIndex) => {\n                                      return (\n                                        <li\n                                          key={attrIndex}\n                                          className=\"vf-list__item\"\n                                        >\n                                          <span style={{ marginRight: '20px' }}>\n                                            {getAttributeStatus(\n                                              attribute.id,\n                                              'profile1'\n                                            ) ? (\n                                              <i className=\"icon icon-common icon-check\" />\n                                            ) : (\n                                              '-'\n                                            )}\n                                          </span>\n                                          <span>{attribute.title}</span>\n                                        </li>\n                                      );\n                                    })}\n                                </ul>\n                              </div>\n                            );\n                          })}\n                        </details>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <div className=\"fillerbg\">\n                          <div\n                            className=\"fillerRight\"\n                            style={{\n                              width:\n                                getBarWidth(getExpertise(competency.id)) + '%',\n                              display: 'flow-root'\n                            }}\n                          >\n                            <span\n                              style={{\n                                float:\n                                  getBarWidth(getExpertise(competency.id)) === 0\n                                    ? 'none'\n                                    : 'right'\n                              }}\n                              className=\"rating_level_number\"\n                            >\n                              {getExpertise(competency.id)\n                                ? getExpertise(competency.id).rating_level\n                                : 0}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            </div>\n          </React.Fragment>\n        ))\n      );\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div key={'unique'}>\n      {generateProfileView()}\n      {profile ? (\n        <>\n          <MetaTags>\n            <title>{`${profile.title} - ${profile.job_title}`}</title>\n            <meta\n              property=\"og:title\"\n              content={`${profile.title} - ${profile.job_title}`}\n            />\n            <meta property=\"og:type\" content=\"website\" />\n            <meta\n              property=\"og:url\"\n              content={`https://competency.ebi.ac.uk${\n                props.history.location.pathname\n              }`}\n            />\n            <meta\n              property=\"og:image\"\n              content=\"https://acxngcvroo.cloudimg.io/v7/https://cms.competency.ebi.ac.uk/themes/custom/ebi_academy/images/mastheads/CH_Jigsaw.jpg\"\n            />\n            <meta\n              property=\"og:description\"\n              content=\"Career profiles describe the background and activities of a specific professional role and list the competencies that a person in that role should have and at which level they are required\"\n            />\n            <meta\n              name=\"description\"\n              content=\"Career profiles describe the background and activities of a specific professional role and list the competencies that a person in that role should have and at which level they are required\"\n            />\n            <meta\n              property=\"keywords\"\n              content={`career profile, career development, ${domainsList}`}\n            />\n          </MetaTags>\n          <Helmet>\n            <link rel=\"canonical\" href={props.location.pathname} />\n          </Helmet>\n          <div key={profileId} id=\"profile\">\n            <div style={{ float: 'right' }}>\n              {user_roles.includes('framework_manager') &&\n              userFrameworks.length > 0 &&\n              userFrameworks.includes(frameworkFullName) ? (\n                <ul>\n                  <li className=\"profile_navigation\">\n                    <Link\n                      className=\"vf-button vf-button--primary vf-button--sm\"\n                      to={`/framework/${frameworkName}/${frameworkVersion}/profile/edit/${profileId}`}\n                    >\n                      Edit overview\n                      <i className=\"icon icon-common icon-pencil-alt\" />\n                    </Link>\n                  </li>\n                  <li className=\"profile_navigation\">\n                    <Link\n                      className=\"vf-button vf-button--primary vf-button--sm\"\n                      to={`/framework/${frameworkName}/${frameworkVersion}/profile/map/${profileId}`}\n                    >\n                      Map competencies{' '}\n                      <i className=\"icon icon-common icon-cog\" />{' '}\n                    </Link>\n                  </li>\n                </ul>\n              ) : (\n                <ProfileComparisonModal\n                  profiles={profiles}\n                  profile={profile}\n                  includeGuestProfile={true}\n                  comparisonError={comparisonError}\n                  setSelectedProfileId={id => {\n                    setSelectedProfileId(id);\n                  }}\n                  redirectToCompare={() => {\n                    redirectToCompare();\n                  }}\n                />\n              )}\n            </div>\n            <h1\n              style={{ marginTop: '1em', marginBottom: '1em' }}\n              data-profileid=\"1\"\n            >\n              {profile.title} - {profile.job_title}\n            </h1>\n\n            <div className={profile.publishing_status + ' embl-grid'}>\n              <div>\n                <center>\n                  <img\n                    alt=\"\"\n                    style={{ display: 'block', maxWidth: '200px' }}\n                    src={profile.image[0] ? profile.image[0].url : ''}\n                    width={'auto'}\n                    height={'auto'}\n                    loading=\"lazy\"\n                  />\n                </center>\n                <p />\n                <p style={{ textAlign: 'center' }}>\n                  {profile.gender !== 'None' ? (\n                    <div>\n                      <p>\n                        {profile.gender &&\n                        profile.gender === 'Prefernottosay' ? (\n                          <p> Gender: Prefer not to say </p>\n                        ) : (\n                          ''\n                        )}\n                      </p>\n                      <p>\n                        {profile.gender &&\n                        profile.gender !== 'Prefernottosay' ? (\n                          <p> Gender: {profile.gender} </p>\n                        ) : (\n                          ''\n                        )}\n                      </p>\n                    </div>\n                  ) : (\n                    ''\n                  )}\n                  {profile.age ? profile.age + ' years' : ''}\n                </p>\n              </div>\n              <div>\n                <h2>Qualification and background</h2>\n                <div>\n                  {profile.qualification_background\n                    ? Parser(profile.qualification_background)\n                    : ''}\n                </div>\n\n                <h2>Activities of current role</h2>\n                <div>\n                  {profile.current_role ? Parser(profile.current_role) : ''}\n                </div>\n\n                <div>\n                  {profile.additional_information\n                    ? Parser(profile.additional_information)\n                    : ''}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"column medium-3\">\n                {' '}\n                <h3 style={{ marginTop: '25px' }}>\n                  {frameworkFullName} {frameworkVersion} / Competencies\n                </h3>\n              </div>\n              <div className=\"column medium-9 \" />\n            </div>\n            <div className=\"row\">\n              <div className=\"column medium-12\">\n                <ul\n                  className=\"vf-list legend-inline\"\n                  style={{ float: 'right' }}\n                >\n                  {expertise_levels_legend}\n                </ul>\n              </div>\n            </div>\n            <hr />\n            {competencyView}\n          </div>\n        </>\n      ) : (\n        'Loading profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"vf-button vf-button--secondary\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n          <p style={{ paddingTop: '30px' }}>\n            [Please enable background graphics in the print preview in order to\n            get better print output]\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/:id/:alias\"\n      component={ProfileView}\n    />\n  </Switch>\n);\n\nexport default ViewProfile;\n","import React from 'react';\n// import { useHistory } from 'react-router-dom';\nimport 'react-svg-radar-chart/build/css/index.css';\nimport Collapsible from 'react-collapsible';\n\nexport const ProfilesCompareButterfly = props => {\n  // let history = useHistory();\n  const frameworkName = props.frameworkName;\n  const frameworkVersion = props.frameworkVersion;\n  // const isGuestProfile = props.isGuestProfile;\n\n  const profile1 = props.profile1;\n  const profile2 = props.profile2;\n  const framework = props.framework;\n  const frameworkInfo = props.frameworkInfo;\n\n  var competencyView = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping1 = [];\n  var mapping2 = [];\n  // var user_roles = localStorage.getItem('roles')\n  //   ? localStorage.getItem('roles')\n  //   : '';\n  // var competencies_array = [];\n  var expertise_array = [];\n  //var profile1_expertise_obj = new Object();\n  //var profile2_expertise_obj = new Object();\n  var chart_props = [];\n  //var leftData = [];\n  //var rightData = [];\n  var totalLevels = '';\n\n  var includeSummary = [];\n\n  const getExpertise = (competency, profileid) => {\n    let mapping = [];\n    if (profileid === 'profile1') {\n      mapping = mapping1;\n    } else {\n      mapping = mapping2;\n    }\n\n    let obj = mapping.find(o => o.competency === competency);\n    if (obj) {\n      if (frameworkInfo) {\n        // let expertise = frameworkInfo[0].expertise_levels.find(\n        //   level => level.id == obj.expertise\n        // );\n\n        let frm = frameworkInfo.find(\n          info => info.title.toLowerCase() === frameworkName\n        );\n\n        let expertise = frm.expertise_levels.find(\n          level => level.id === obj.expertise\n        );\n        totalLevels = frm.expertise_levels.length;\n        return expertise;\n      }\n    } else {\n      return null;\n    }\n  };\n\n  const getAttributeStatus = (attribute, profile) => {\n    let mapping = '';\n    if (profile === 'profile1') {\n      mapping = profile1.profile_mapping;\n    } else {\n      mapping = profile2.profile_mapping;\n    }\n\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === attribute)\n      );\n\n      return attribute_check_status ? true : false;\n    }\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            (level, key) => (expertise_array[key] = level.id) //(expertise_levels[level.id] = level.title)\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        \"<li class='legend'>  <div class='legend_number'> \" +\n          index +\n          '</div>' +\n          level +\n          '</li>'\n      );\n      index++;\n      return null;\n    });\n\n    if (profile1) {\n      mapping1 = profile1.profile_mapping;\n    }\n\n    if (profile2) {\n      mapping2 = profile2.profile_mapping;\n    }\n\n    if (frameworkInfo) {\n      frameworkInfo.map(framework => {\n        if (framework.title === frameworkName) {\n          framework.expertise_levels.map((level, key) => {\n            expertise_array[key] = level.id;\n            return null;\n          });\n          totalLevels = framework.expertise_levels.length;\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyView = framework.map((item, frmIndex) =>\n        item.domains.map((domain, domainIndex) =>\n          domain.competencies.map((competency, compIndex) => {\n            let profile1Expertise = getExpertise(competency.id, 'profile1');\n            let profile2Expertise = getExpertise(competency.id, 'profile2');\n\n            if (profile1Expertise && profile2Expertise) {\n              includeSummary.push(\n                profile1Expertise.rating_level < profile2Expertise.rating_level\n                  ? competency.id\n                  : null\n              );\n            } else if (!profile1Expertise && !profile2Expertise) {\n              includeSummary.push(null);\n            } else if (!profile1Expertise && profile2Expertise) {\n              includeSummary.push(competency.id);\n            }\n\n            let width1 = profile1Expertise\n              ? 100 / ((totalLevels - 1) / profile1Expertise.rating_level)\n              : 0;\n            let margin1 = 100 - width1;\n            margin1 = margin1 === 100 ? 88 : margin1;\n\n            let width2 = profile2Expertise\n              ? 100 / ((totalLevels - 1) / profile2Expertise.rating_level)\n              : 0;\n            let floatRight = width2 === 0 ? 'none' : 'right';\n\n            return (\n              <div key={compIndex}>\n                <div className=\"vf-grid vf-grid__col-5\">\n                  <div className=\"vf-grid__col--span-3\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerLeft\"\n                        style={{\n                          width: width1 + '%',\n                          marginLeft: margin1 + '%'\n                        }}\n                      >\n                        <span\n                          style={{ position: 'relative' }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile1Expertise\n                            ? profile1Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{ width: width2 + '%', display: 'flow-root' }}\n                      >\n                        <span\n                          style={{ float: floatRight }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile2Expertise\n                            ? profile2Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map((attribute_type, typeIndex) => {\n                      return (\n                        <React.Fragment key={typeIndex}>\n                          <p style={{ paddingLeft: '20px', marginTop: '10px' }}>\n                            <strong> {attribute_type} </strong>\n                          </p>\n                          <div className=\"vf-grid vf-grid__col-5\">\n                            {competency.attributes\n                              .filter(\n                                attribute => attribute.type === attribute_type\n                              )\n                              .map((attribute, attrIndex) => {\n                                return (\n                                  <React.Fragment key={attrIndex}>\n                                    <span\n                                      className=\"vf-grid__col--span-3\"\n                                      style={{ paddingLeft: '20px' }}\n                                    >\n                                      {attribute.title}\n                                    </span>\n\n                                    <div className=\"vf-grid__col--span-1\">\n                                      {getAttributeStatus(\n                                        attribute.id,\n                                        'profile1'\n                                      ) ? (\n                                        <i className=\"icon icon-common icon-check\" />\n                                      ) : (\n                                        '-'\n                                      )}\n                                    </div>\n                                    <div className=\"vf-grid__col--span-1\">\n                                      {getAttributeStatus(\n                                        attribute.id,\n                                        'profile2'\n                                      ) ? (\n                                        <i className=\"icon icon-common icon-check\" />\n                                      ) : (\n                                        '-'\n                                      )}\n                                    </div>\n                                  </React.Fragment>\n                                );\n                              })}\n                          </div>\n                        </React.Fragment>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            );\n          })\n        )\n      );\n    }\n  };\n  if (profile1) {\n    chart_props[0] = {\n      key: profile1.id,\n      label: profile1.title\n    };\n  }\n\n  if (profile2) {\n    chart_props[1] = {\n      key: profile2.id,\n      label: profile2.title\n    };\n  }\n\n  const handlePrint = e => {\n    e.preventDefault();\n    window.print();\n  };\n\n  // const handleSummary = e => {\n  //   e.preventDefault();\n  //   history.push({\n  //     pathname: `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/guest/summary`,\n  //     state: {\n  //       profileJobTitle: profile1.job_title,\n  //       includeSummary: includeSummary\n  //     }\n  //   });\n  // };\n\n  return (\n    <div id=\"\">\n      {generateProfileView()}\n\n      <p>&nbsp; </p>\n      <div className=\"vf-grid vf-grid__col-5\">\n        <div className=\"vf-grid__col--span-3\">\n          <h3>\n            {frameworkFullName} {frameworkVersion} / Competencies\n          </h3>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <h3>{profile1.job_title}</h3>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <h3>{profile2.job_title}</h3>\n        </div>\n      </div>\n\n      <hr />\n      <div className=\"vf-grid vf-grid__col-5\">\n        <div className=\"vf-grid__col--span-3\" />\n        <div className=\"vf-grid__col--span-1\">\n          <span>High</span> <span style={{ float: 'right' }}> Low</span>\n        </div>\n        <div className=\"vf-grid__col--span-1\">\n          <span>Low</span> <span style={{ float: 'right' }}> High</span>\n        </div>\n      </div>\n\n      <div>{competencyView}</div>\n      <div className=\"vf-grid\">\n        <div />\n        {/* <div style={{ textAling: 'center' }}>\n          {isGuestProfile ? (\n            <button\n              to={'#'}\n              className=\"vf-button\"\n              onClick={e => handleSummary(e)}\n            >\n              Summary <i className=\"icon-common icon-list\" />\n            </button>\n          ) : (\n            ''\n          )}\n        </div> */}\n        <div style={{ textAling: 'center' }} className=\"submit_fixed\">\n          <button\n            href=\"#\"\n            className=\"vf-button vf-button--secondary\"\n            onClick={e => handlePrint(e)}\n          >\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n          <p style={{ paddingTop: '30px' }}>\n            [Please enable background graphics in the print preview in order to\n            get better print output]\n          </p>\n        </div>\n        <div />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilesCompareButterfly;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\n\nimport { Link } from 'react-router-dom';\nimport 'react-tabs/style/react-tabs.css';\nimport ProfilesCompareButterfly from './ProfilesCompareButterfly';\nimport user_icon from './user_icon.png';\nimport ReactTooltip from 'react-tooltip';\nimport { ProfileComparisonModal } from '../../shared/components/ProfileComparisonModal';\n\nexport const ProfilesCompare = props => {\n  let history = useHistory();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profile1Id = props.location.pathname.split('/')[6];\n  const profile2Id = props.location.pathname.split('/')[7];\n  //var expertise_levels = [];\n  var expertise_levels_legend = [];\n\n  const [profile1, setProfile1] = useState();\n  const [profile2, setProfile2] = useState();\n  const [profiles, setProfiles] = useState();\n  const [selectedProfileId, setSelectedProfileId] = useState();\n  const [comparisonError, setComparisonError] = useState(null);\n  const [framework, setFramework] = useState();\n  const [isGuestProfile, setIsGuestProfile] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [link1, setLink1] = useState();\n  const [link2, setLink2] = useState();\n\n  const redirectToCompare = e => {\n    if (!profile1.id) {\n      profile1.id = 'guest';\n    }\n    if (selectedProfileId) {\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n          profile1.id\n        }/${selectedProfileId}`\n      );\n    } else {\n      setComparisonError('Select a role to compare');\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (profile1Id === 'guest') {\n          await setProfile1(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink1(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n          );\n        } else {\n          setLink1(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile1Id}/alias`\n          );\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile1Id}&source=competencyhub`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile1(findresponse);\n            });\n        }\n\n        if (profile2Id === 'guest') {\n          await setProfile2(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink2(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n          );\n        } else {\n          setLink2(\n            `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile2Id}/alias`\n          );\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile2Id}&source=competencyhub`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile2(findresponse);\n            });\n        }\n\n        await fetch(\n          `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&source=competencyhub`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            const profilesExcludingCurrentProfile = findresponse.filter(\n              p =>\n                // p.id !== props.match.params.profile1 &&\n                p.id !== profile1Id && p.publishing_status === 'Live'\n            );\n            setProfiles(profilesExcludingCurrentProfile);\n          });\n\n        await fetch(\n          `${apiUrl}/api/version_manager?_format=json&source=competencyhub`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFrameworkInfo(findresponse);\n          });\n\n        await fetch(\n          `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&source=competencyhub`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFramework(findresponse);\n          });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, [frameworkName, frameworkVersion, profile1Id, profile2Id]);\n\n  if (frameworkInfo) {\n    frameworkInfo.forEach((info, index) => {\n      if (info.title.toLowerCase() === frameworkName) {\n        info.expertise_levels.map((level, levelIndex) =>\n          expertise_levels_legend.push(\n            <li\n              key={levelIndex}\n              className=\"vf-list__item\"\n              style={{ textAlign: 'center' }}\n            >\n              <div\n                data-tip={level.description ? level.description : 'NA'}\n                data-html={true}\n                data-type=\"info\"\n                data-multiline={true}\n              >\n                <span className=\"vf-badge vf-badge--tertiary\">\n                  {' '}\n                  {level.rating_level}{' '}\n                </span>{' '}\n                <span> {level.title}</span>\n              </div>\n              <ReactTooltip className=\"tooltip-custom\" />\n            </li>\n          )\n        );\n      }\n    });\n  }\n\n  return (\n    <div>\n      <h1>Compare career profiles</h1>\n      <span className=\"lead\">\n        Compare profile with other reference profiles to help you make career\n        choices based on your competency\n      </span>\n\n      <div className=\"vf-grid\">\n        <div />\n        <div>\n          <div className=\"vf-u-margin__bottom--1200\" />\n          {profile1 ? (\n            <div className=\"vf-profile\">\n              <img\n                alt=\"profile1\"\n                src={profile1.image[0] ? profile1.image[0].url : user_icon}\n                width=\"120px\"\n                className=\"vf-profile__image\"\n              />\n              <Link to={link1 ? link1 : '#'}>\n                <h2>{profile1.job_title}</h2>\n              </Link>\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n\n        <div>\n          <div className=\"vf-u-margin__bottom--1200\" />\n          {profile2 ? (\n            <div className=\"vf-profile\">\n              <img\n                alt=\"profile2\"\n                src={profile2.image[0] ? profile2.image[0].url : user_icon}\n                width=\"120px\"\n                className=\"vf-profile__image\"\n              />\n              <Link to={link2}>\n                <h2>{profile2.job_title}</h2>\n              </Link>\n\n              {/*<a*/}\n              {/*  href=\"JavaScript:Void(0);\"*/}\n              {/*  className=\"vf-button vf-button--link\"*/}\n              {/*>*/}\n              {/*  Compare another profile*/}\n              {/*</a>*/}\n              <ProfileComparisonModal\n                profiles={profiles}\n                profile={profile1}\n                comparisonError={comparisonError}\n                linkVariant={true}\n                setSelectedProfileId={id => {\n                  setSelectedProfileId(id);\n                }}\n                redirectToCompare={() => {\n                  redirectToCompare();\n                }}\n              />\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n        <div />\n      </div>\n\n      <div>\n        <div className=\"vf-u-margin__bottom--600\" />\n        <div className=\"legend-inline-wrapper\">\n          <strong>Rating levels </strong>{' '}\n          <ul className=\"vf-list legend-inline\">{expertise_levels_legend}</ul>\n        </div>\n      </div>\n      <p />\n\n      {profile1 && profile2 ? (\n        <ProfilesCompareButterfly\n          frameworkName={frameworkName}\n          frameworkVersion={frameworkVersion}\n          profile1Id={profile1Id}\n          profile2Id={profile2Id}\n          profile1={profile1}\n          profile2={profile2}\n          framework={framework}\n          frameworkInfo={frameworkInfo}\n          isGuestProfile={isGuestProfile}\n        />\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport const sendRoute = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\n      component={ProfilesCompare}\n    />\n  </Switch>\n);\n\nexport default sendRoute;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport HttpService from '../services/http/http';\n// import ProfileService from '../services/profile/profile';\n// import ActiveRequestsService from '../services/active-requests/active-requests';\n// import { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n//import Parser from 'html-react-parser';\n\nimport jsPDF from 'jspdf';\n//import moment from 'moment';\n\nconst $ = window.$;\n\nexport const ProfileMapDownload = props => {\n  // const activeRequests = new ActiveRequestsService();\n  // const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [expertiseLevels, setExpertiseLevels] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  // const [ksa, setKsa] = useState();\n  //const [profileAttributes, setProfileAttributes] = useState([]);\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkDesc = '';\n  //var frameworkLogo = '';\n\n  var mapping = [];\n  let mappingAttributes = [];\n  var expertise_levels_legend = [];\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n\n    if (storedProfile) {\n      // Get Profile from Session\n      setProfile(storedProfile);\n\n      const fetchData = async () => {\n        try {\n          // Get Framework\n          const promiseFramework = http\n            .get(`${apiUrl}/api/version_manager?_format=json`)\n            .then(responseFramework => responseFramework.data);\n\n          // Get Framework version\n          const promiseVersion = http\n            .get(\n              `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n            )\n            .then(responseVersion => responseVersion.data);\n\n          const [dataFramework, dataVersion] = await Promise.all([\n            promiseFramework,\n            promiseVersion\n          ]);\n\n          getExpertiseLevels(dataFramework, dataVersion[0].nid);\n          setFrameworkInfo(dataFramework);\n          setFramework(dataVersion);\n          // return false;\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      fetchData();\n    }\n  }, [frameworkVersion, frameworkName, http]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Download Profile\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    downloadProfileFromHtml(storedProfile);\n  };\n\n  const handleMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let expertise = event.target[event.target.selectedIndex].text;\n\n    if (expertise_id === expertise_not_applicable) {\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        false\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        true\n      );\n\n      removeCompetencyAttributes(competency_id);\n    } else {\n      // Create temp mapping\n      let tempMap = storedProfile['mapping'];\n\n      if (tempMap.find(o => o.competency_id === competency_id)) {\n        // Update stored Competencies only if existing levels of expertise is updated\n        if (tempMap.expertise_id !== expertise_id) {\n          var index = tempMap.findIndex(\n            item => item.competency_id === competency_id\n          );\n          // replace current stored values with incoming ones\n          tempMap.splice(index, 1, {\n            competency_id: competency_id,\n            expertise_id: expertise_id,\n            expertise: expertise\n          });\n        }\n        // Update local Storage mapping\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      } else {\n        // Add competency that has been selected\n        let tempMap = storedProfile['mapping'];\n        tempMap.push({\n          competency_id: competency_id,\n          expertise_id: expertise_id,\n          expertise: expertise\n        });\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      }\n\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        true\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        false\n      );\n\n      // Add Competency's selected attributes to LocalStorage\n      addCompetencyAttributes(competency_id);\n    }\n  };\n\n  // Add all attributes to LocalStorage if Competency is selected\n  const addCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    // let selectedAttributes = new Array();\n\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    // let attributes = $(\n    //   'input:checkbox[data-competency=' + competency + ']'\n    // ).each(function() {\n    //   if (\n    //     mappingAttributes.find(attr => attr.attribute_id === $(this).attr('id'))\n    //   ) {\n    //     // Do nothing if attributes are in LocalStorage already\n    //   } else {\n    //     mappingAttributes.push({\n    //       attribute_id: $(this).attr('id'),\n    //       competency_id: competency\n    //     });\n    //   }\n    // }, mappingAttributes);\n\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Remove current attributes if Competency is deselected\n  const removeCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    // let attributes = $(\n    //   'input:checkbox[data-competency=' + competency + ']'\n    // ).each(function() {\n    //   let index = mappingAttributes.findIndex(\n    //     item => item.attribute_id === $(this).attr('id')\n    //   );\n    //   // Remove current attributes if Competency is deselected\n    //   mappingAttributes.splice(index, 1);\n    // }, mappingAttributes);\n\n    // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Manage single Attributes check/uncheck event\n  const handleCheckboxMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target.getAttribute('data-competency');\n    let attribute_id = event.target.getAttribute('id');\n\n    // let mappingAttributes = JSON.parse(localStorage.getItem('mappingAttributes'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    let attributes = mappingAttributes;\n\n    if (mappingAttributes.find(attr => attr.attribute_id === attribute_id)) {\n      // Remove current attribute if deselected\n      var index = mappingAttributes.findIndex(\n        item => item.attribute_id === attribute_id\n      );\n      mappingAttributes.splice(index, 1);\n      // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n      storedProfile['mappingAttributes'] = mappingAttributes;\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    } else {\n      // Add attribute to LocalStorage\n      attributes.push({\n        attribute_id: attribute_id,\n        competency_id: competency_id\n      });\n      // localStorage.setItem('mappingAttributes', JSON.stringify(attributes));\n      storedProfile['mappingAttributes'] = attributes;\n      $('input:checkbox[id=' + attribute_id + ']').prop('checked', true);\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    }\n    //setProfileAttributes(storedProfile);\n  };\n\n  // Set Expertise Level.\n  // const expertiseLevelsSelect= [\n  //   {id: 1, title: 'Not applicable', data_expertise: '6816'},\n  //   {id: 2, title: 'Awareness', data_expertise: '6817'},\n  //   {id: 3, title: 'Working knowledge', data_expertise: '6818'},\n  //   {id: 4, title: 'Specialist knowledge', data_expertise: '6819'}\n  // ];\n\n  // Get Expertise Level from API.\n  if (frameworkInfo) {\n    frameworkInfo.map(info => {\n      if (info.title.toLowerCase() === frameworkName) {\n        frameworkFullName = info.title;\n        //frameworkLogo = info.logo[0].url;\n        //frameworkDesc = info.description;\n        info.expertise_levels.map(\n          level => (expertise_levels[level.rating_level] = level.title)\n        );\n      }\n      return null;\n    });\n\n    //let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        <li style={{ textAlign: 'center' }}>\n          <span className=\"badge secondary\"> {key} </span> <span> {level}</span>\n        </li>\n      );\n      //index++;\n      return null;\n    });\n  }\n\n  const getExpertiseLevels = (frameworkInfo, fId) => {\n    let fw = frameworkInfo.filter(item => {\n      return item.nid === fId;\n    });\n\n    let levels = fw[0].expertise_levels;\n\n    // Set Expertise Level\n    setExpertiseLevels(levels);\n  };\n\n  const downloadProfileFromHtml = options => {\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    //const margin = 0.5;\n\n    //let currentDate = moment().format('MMMM D, Y');\n    //let currentTime = moment().format('hh:mm:ss');\n\n    //let pdfWidth = doc.internal.pageSize.getWidth();\n    //let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    //const pdfProfileImgWidth = 180;\n    //const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    //let col = pdfWidth * 0.07383;\n    //let gutter = pdfWidth * 0.01036727272;\n    //let fourthCol = col * 4 + gutter * 3;\n    //let fifthCol = col * 5 + gutter * 4;\n\n    //const profileBody = pdfWidth - fifthCol - 20;\n\n    // let selectedFileWidth = options.selectedFile\n    //   ? options.selectedFileData[0].width\n    //   : 180;\n    // let selectedFileHeight = options.selectedFile\n    //   ? options.selectedFileData[0].height\n    //   : 150;\n    //let ratio = selectedFileWidth / selectedFileHeight;\n    //let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    var specialElementHandlers = {\n      '#editor': function(element, renderer) {\n        return true;\n      }\n    };\n\n    let margins = {\n      top: startHeight,\n      bottom: 60,\n      left: marginleft,\n      right: marginright,\n      width: 490\n    };\n\n    var source = document.getElementById('profile');\n\n    // source = doc.splitTextToSize(\n    //   source,\n    //   profileBody\n    // );\n\n    let profileTitle = options.jobTitle.split(' ').join('_');\n    doc.fromHTML(\n      source,\n      marginleft,\n      currentYAxis,\n      {\n        // y coord\n        width: margins.width, // max width of content on PDF\n        elementHandlers: specialElementHandlers\n      },\n      function(dispose) {\n        // dispose: object with X, Y of the last line add to the PDF\n        //          this allow the insertion of new lines after html\n        doc.save(profileTitle.toLowerCase() + '.pdf');\n      }\n      // margins\n    );\n\n    // doc.output(\"/framework/bioexcel/2.0/profile/map/download/myprofile\");\n  };\n\n  // Set fielc HTML content + Heading if not empty\n  const setFieldContent = (heading, field) => {\n    let fieldContent = field ? '<h3>' + heading + '</h3>' + field : '';\n    return { __html: fieldContent };\n  };\n\n  const generateForm = () => {\n    // console.log('frameworkInfo')\n    // console.log(frameworkInfo)\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          info.expertise_levels.map(level => {\n            expertise_levels[level.id] = level.title;\n            expertise_not_applicable =\n              level.title === 'Not applicable' ? level.id : '';\n            return null;\n          });\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.mapping;\n\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      mappingAttributes = storedProfile['mappingAttributes'];\n    }\n\n    if (framework) {\n      competencyForm = framework.map((item, index) =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li key={index} className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h4 className=\"domain_title\"> {domain.title}</h4>\n                </div>\n                <div className=\"column medium-3\">\n                  <h4>Levels of expertise</h4>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li key={cid} className=\"competency_list\">\n                    <div className=\"row\">\n                      <div className=\"column medium-9\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                  <p className=\"show-for-sr\">show more</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-up icon-custom\">\n                                  <p className=\"show-for-sr\">show less</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map((attribute_type, index) => {\n                              return (\n                                <li key={index} className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type === attribute_type\n                                      )\n                                      .map((attribute, jIndex) => (\n                                        <li\n                                          key={jIndex}\n                                          className=\"attribute_title\"\n                                        >\n                                          <div className=\"row\">\n                                            <div className=\"column medium-1\">\n                                              <input\n                                                onChange={e =>\n                                                  handleCheckboxMapping(e)\n                                                }\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                data-competency={competency.id}\n                                                checked={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ===\n                                                      attribute.id\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                              />\n                                            </div>\n                                            <div className=\"column medium-11\">\n                                              <label\n                                                className={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ===\n                                                      attribute.id\n                                                  )\n                                                    ? 'attribute_label checked'\n                                                    : 'attribute_label'\n                                                }\n                                                htmlFor={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n\n                      <div className=\"column medium-3\">\n                        <select\n                          onChange={e => handleMapping(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency_id === competency.id)\n                              ? mapping.find(\n                                  o => o.competency_id === competency.id\n                                ).expertise_id\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertiseLevels.map((level, key) => (\n                            <option\n                              key={key}\n                              value={level.id}\n                              data-expertise={level.id}\n                              data-competency={competency.id}\n                            >\n                              {level.title}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  // const handlePrint = () => {\n  //   window.print();\n  // };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>Add competencies to your profile </h2>\n\n            <div id=\"profile\" className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <h3>\n                    {profile.title.charAt(0).toUpperCase() +\n                      profile.title.slice(1)}{' '}\n                    - {profile.jobTitle}\n                  </h3>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3 text-center\">\n                  {profile.selectedFileData[0] ? (\n                    <img\n                      src={\n                        profile.selectedFileData[0].src\n                          ? profile.selectedFileData[0].src\n                          : user_icon\n                      }\n                      width=\"250px\"\n                      alt=\"\"\n                    />\n                  ) : (\n                    ''\n                  )}\n                  <div className=\"text-center\">\n                    <br />\n                    {profile.gender}, {profile.age} years\n                  </div>\n                </div>\n                <div className=\"column medium-9\">\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Qualifications and background',\n                      profile.qualification\n                    )}\n                  />\n                  {/* <div className=\"form_intro\"\n                    dangerouslySetInnerHTML={{ __html: profile.qualification }}\n                  /> */}\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Activities and current role',\n                      profile.currentRole\n                    )}\n                  />\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Additional information',\n                      profile.additionalInfo\n                    )}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <br />\n                  <h3>Your competencies</h3>\n                  <p>\n                    The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                  <p>\n                    You may assign a level expertise against each competency.\n                    The levels of expertise are:\n                  </p>\n                  <div className=\"legend-inline-wrapper\">\n                    <strong>Rating levels </strong>{' '}\n                    <ul className=\"legend-inline\">{expertise_levels_legend}</ul>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <div className=\"competency_section\">\n                    {\n                      <form onSubmit={e => handleSubmit(e)}>\n                        {competencyForm}\n                        <div className=\"submit_fixed\">\n                          <button className=\"button\" type=\"submit\">\n                            Print <i className=\"icon icon-common icon-print\" />\n                          </button>\n                        </div>\n                      </form>\n                    }\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  {/* <div>{profile.qualification}</div> */}\n\n                  {/* <div>{profile.currentRole}</div> */}\n                  {/* <h5>{profile.title}</h5> */}\n                  {/* <Link\n                    to={`/framework/bioexcel/2.0/profile/view/${profileId}/alias`}\n                  >\n                    {' '}\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview{' '}\n                  </Link> */}\n                </div>\n                <div className=\"column medium-6 form_intro\" />\n                <div className=\"column medium-3\">\n                  {/* <img src={frameworkLogo} />\n                  <br /> */}\n                </div>\n              </div>\n\n              {/* <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button className=\"button\" type=\"submit\">\n                        Download{' '}\n                        <i className=\"icon icon-common icon-download\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfileDownload = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/download\"\n      component={ProfileMapDownload}\n    />\n  </Switch>\n);\n\nexport default MapProfileDownload;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport Parser from 'html-react-parser';\n\nimport { apiUrl } from '../services/http/http';\n//import ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactTooltip from 'react-tooltip';\nimport user_icon from './user_icon.png';\nimport { ProfileComparisonModal } from '../../shared/components/ProfileComparisonModal';\n// import masterList from './masterList.json';\n\nexport const ProfileViewGuest = props => {\n  let history = useHistory();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n  const [profiles, setProfiles] = useState();\n  const [selectedProfileId, setSelectedProfileId] = useState();\n  const [comparisonError, setComparisonError] = useState(null);\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  var competencyView = '';\n  //var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping = [];\n\n  //let profile2Expertise = '';\n  let width2 = '';\n  //let floatRight = '';\n\n  const redirectToCompare = e => {\n    if (selectedProfileId) {\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/guest/${selectedProfileId}`\n      );\n    } else {\n      setComparisonError('Select a role to compare');\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await setProfile(JSON.parse(localStorage.getItem('guestProfile')));\n\n      await fetch(\n        `${apiUrl}/api/version_manager?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          const profilesExcludingCurrentProfile = findresponse.filter(\n            p =>\n              // p.id !== props.match.params.id && p.publishing_status === 'Live'\n              p.id !== 'guest' && p.publishing_status === 'Live'\n          );\n          setProfiles(profilesExcludingCurrentProfile);\n        });\n    };\n    fetchData();\n  }, [frameworkName, frameworkVersion]);\n\n  const getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency === competency);\n      if (obj) {\n        if (frameworkInfo) {\n          // let expertise = frameworkInfo[0].expertise_levels.find(\n          //   level => level.id == obj.expertise\n          // );\n          let expertise = frameworkInfo\n            .find(info => info.title.toLowerCase() === frameworkName)\n            .expertise_levels.find(level => level.id === obj.expertise);\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n  const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a === aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n  const getBarWidth = data => {\n    let totalLevels = frameworkInfo.find(\n      info => info.title.toLowerCase() === frameworkName\n    ).expertise_levels.length;\n\n    width2 = data ? 100 / ((totalLevels - 1) / data.rating_level) : 0;\n    return width2;\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map((level, index) =>\n            expertise_levels_legend.push(\n              <li\n                key={level.rating_level}\n                className=\"vf-list__item\"\n                style={{ textAlign: 'center' }}\n              >\n                <div\n                  data-tip={level.description ? level.description : 'NA'}\n                  data-html={true}\n                  data-type=\"info\"\n                  data-multiline={true}\n                >\n                  <span className=\"vf-badge vf-badge--tertiary\">\n                    {' '}\n                    {level.rating_level}{' '}\n                  </span>{' '}\n                  <span> {level.title}</span>\n                </div>\n                <ReactTooltip className=\"tooltip-custom\" />\n              </li>\n            )\n          );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n      document.getElementById('bc_location').innerText =\n        profile.title + ' - ' + profile.job_title;\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map((domain, domainIndex) => (\n          <div key={domainIndex}>\n            <div className=\"row callout\">\n              <div className=\"column medium-12 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n            </div>\n            {domain.competencies.map((competency, compIndex) => (\n              <div key={compIndex}>\n                <div className=\"vf-grid vf-grid__col-4\">\n                  <div className=\"vf-grid__col--span-3\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"vf-grid__col--span-1\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{\n                          width: getBarWidth(getExpertise(competency.id)) + '%',\n                          display: 'flow-root'\n                        }}\n                      >\n                        <span\n                          style={{\n                            float:\n                              getBarWidth(getExpertise(competency.id)) === 0\n                                ? 'none'\n                                : 'right'\n                          }}\n                          className=\"rating_level_number\"\n                        >\n                          {getExpertise(competency.id)\n                            ? getExpertise(competency.id).rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map((attribute_type, typeIndex) => {\n                      return (\n                        <div\n                          key={typeIndex}\n                          className=\"accordion-item is-active\"\n                          data-accordion-item\n                        >\n                          <div className=\"vf-grid vf-grid__col-4 attribute_align_type\">\n                            <div className=\"vf-grid__col--span-3\">\n                              <strong> {attribute_type} </strong>\n                            </div>\n                            <div className=\"vf-grid__col--span-1\" />\n                          </div>\n                          {competency.attributes\n                            .filter(\n                              attribute => attribute.type === attribute_type\n                            )\n                            .map((attribute, attrIndex) => {\n                              return (\n                                <div\n                                  key={attrIndex}\n                                  className=\"vf-grid vf-grid__col-4 attribute_align\"\n                                >\n                                  <div className=\"vf-grid__col--span-3\">\n                                    {attribute.title}\n                                  </div>\n                                  <div className=\"vf-grid__col--span-1\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile1'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            ))}\n          </div>\n        ))\n      );\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      {generateProfileView()}\n      {profile ? (\n        <div id=\"profile\">\n          <h1 style={{ marginTop: '1em', marginBottom: '1em' }}>\n            {profile.title} - {profile.job_title}\n          </h1>\n\n          <div style={{ float: 'right' }}>\n            <ProfileComparisonModal\n              profiles={profiles}\n              profile={profile}\n              comparisonError={comparisonError}\n              setSelectedProfileId={id => {\n                setSelectedProfileId(id);\n              }}\n              redirectToCompare={e => {\n                redirectToCompare(e);\n              }}\n            />\n            <ul>\n              <li className=\"profile_navigation\">\n                <Link\n                  className=\"vf-link\"\n                  to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n                >\n                  Edit profile{' '}\n                  <i className=\"icon icon-common icon-pencil-alt\" />\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          <div\n            className={profile.publishing_status + ' vf-grid vf-grid__col-4'}\n          >\n            <div className=\"vf-grid__col--span-1\">\n              <center>\n                <img\n                  alt=\"\"\n                  style={{ display: 'block', maxWidth: '150px' }}\n                  src={profile.image[0] ? profile.image[0].url : user_icon}\n                  //src='#'\n                />\n              </center>\n              <p />\n              <div style={{ textAlign: 'center' }}>\n                {profile.gender !== 'None' ? (\n                  <div>\n                    {profile.gender && profile.gender === 'Prefernottosay' ? (\n                      <p> Gender: Prefer not to say </p>\n                    ) : (\n                      ''\n                    )}\n\n                    {profile.gender && profile.gender !== 'Prefernottosay' ? (\n                      <span> Gender: {profile.gender} </span>\n                    ) : (\n                      ''\n                    )}\n                  </div>\n                ) : (\n                  ''\n                )}\n\n                {profile.age ? <p> Age: {profile.age + ' years'} </p> : ''}\n              </div>\n            </div>\n            <div className=\"vf-grid__col--span-3\">\n              <h3>Qualification and background</h3>\n\n              {profile.qualification_background\n                ? Parser(profile.qualification_background)\n                : ''}\n\n              <h3>Activities of current role</h3>\n              {profile.current_role ? Parser(profile.current_role) : ''}\n\n              {profile.additional_information\n                ? Parser(profile.additional_information)\n                : ''}\n            </div>\n            <p />\n          </div>\n\n          <div className=\"vf-grid vf-grid__col-4\">\n            <div className=\"vf-grid__col--span-1\">\n              <h5 style={{ marginTop: '25px' }}>\n                {frameworkFullName} {frameworkVersion} / Competencies\n              </h5>\n            </div>\n            <div className=\"vf-grid__col--span-3\">\n              <ul className=\"vf-list legend-inline\" style={{ float: 'right' }}>\n                {expertise_levels_legend}\n              </ul>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"column medium-12\" />\n          </div>\n          <hr />\n          {competencyView}\n        </div>\n      ) : (\n        'Loading profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"vf-button vf-button--secondary\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n          <p style={{ paddingTop: '30px' }}>\n            [Please enable background graphics in the print preview in order to\n            get better print output]\n          </p>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewGuestProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/guest\"\n      component={ProfileViewGuest}\n    />\n  </Switch>\n);\n\nexport default ViewGuestProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n\nimport ReactTooltip from 'react-tooltip';\nimport jsonData from './masterList.json';\n\n// const $ = window.$;\n\nexport const ProfileMapGuest = props => {\n  const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [mapping, setMapping] = useState();\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const storedProfile = JSON.parse(localStorage.getItem('guestProfile'));\n      if (storedProfile) {\n        setProfile(storedProfile);\n        setMapping(\n          storedProfile.profile_mapping ? storedProfile.profile_mapping : []\n        );\n      }\n\n      await fetch(\n        `${apiUrl}/api/version_manager?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n      console.log(apiUrl);\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    // fetchData();\n\n    if (!mapping) {\n      fetchData();\n    }\n\n    // if (mapping) {\n    //   let checkBoxes = $('input:checkbox');\n    //   checkBoxes.each(function(index, item, arr) {\n    //     console.log('test ' + item.dataset);\n    //   });\n    // }\n  }, [frameworkName, frameworkVersion, mapping]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    let response = await profileService.mapProfileGuest(mapping);\n    console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    // let checkBoxes = $('input:checkbox[data-competency=' + competency_id + ']');\n    let checkBoxes = document.querySelectorAll(\n      '[data-competency=\"' + competency_id + '\"]'\n    );\n    console.log(checkBoxes);\n\n    if (expertise_id === expertise_not_applicable) {\n      checkBoxes.forEach(function(index, item, arr) {\n        index.checked = false;\n        index.disabled = true;\n      });\n      //console.log(tempMapping.find(o => o.competency == competency_id))\n      // tempMapping.splice(\n      //   tempMapping.find(o => o.competency == competency_id),\n      //   1\n      // );\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency !== competency_id);\n      console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.forEach(function(index, item, arr) {\n          attributesList.push(index.id);\n          index.checked = true;\n          index.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.forEach(function(index, item, arr) {\n          attributesList.push(index.id);\n          // item.checked = true;\n          // item.disabled = false;\n          index.checked = true;\n          index.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus === true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    console.log(mapping);\n  };\n\n  const setExpertiseLevels = levels => {\n    levels.map((level, index) => {\n      expertise_levels[level.id] = level.title;\n      expertise_not_applicable =\n        level.title === 'Not applicable' ? level.id : '';\n      expertise_levels_legend.push(\n        <li\n          key={index}\n          className=\"vf-list__item\"\n          style={{ textAlign: 'center' }}\n        >\n          <div\n            data-tip={level.description ? level.description : 'NA'}\n            data-html={true}\n            data-type=\"info\"\n            data-multiline={true}\n          >\n            <span className=\"vf-badge vf-badge--tertiary\">\n              {' '}\n              {level.rating_level}{' '}\n            </span>{' '}\n            <span> {level.title}</span>\n          </div>\n          <ReactTooltip className=\"tooltip-custom\" />\n        </li>\n      );\n      return null;\n    });\n  };\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.forEach(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          setExpertiseLevels(info.expertise_levels);\n\n          // info.expertise_levels.map(\n          //   (level, levelIndex) => (\n          //     expertise_levels[level.id] = level.title,\n          //     level.title === 'Not applicable'\n          //       ? (expertise_not_applicable = level.id)\n          //       : '',\n          //     expertise_levels_legend.push(\n          //       <li\n          //         key={levelIndex}\n          //         className=\"vf-list__item\"\n          //         style={{ textAlign: 'center' }}\n          //       >\n          //         <div\n          //           data-tip={level.description ? level.description : 'NA'}\n          //           data-html={true}\n          //           data-type=\"info\"\n          //           data-multiline={true}\n          //         >\n          //           <span className=\"vf-badge vf-badge--tertiary\">\n          //             {' '}\n          //             {level.rating_level}{' '}\n          //           </span>{' '}\n          //           <span> {level.title}</span>\n          //         </div>\n          //         <ReactTooltip className=\"tooltip-custom\" />\n          //       </li>\n          //     )\n          //   )\n          // );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul key={`ul${did}`}>\n            <li key={did} className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li key={cid} className=\"competency_list\">\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(\n                              (attribute_type, typeIndex) => {\n                                return (\n                                  <li\n                                    key={typeIndex}\n                                    className=\"attribute_type\"\n                                  >\n                                    {attribute_type}\n                                    <ul>\n                                      {competency.attributes\n                                        .filter(\n                                          attribute =>\n                                            attribute.type === attribute_type\n                                        )\n                                        .map((attribute, attrIndex) => (\n                                          <li\n                                            key={attrIndex}\n                                            className=\"attribute_title\"\n                                          >\n                                            <div className=\"vf-grid vf-grid__col-4\">\n                                              <div className=\"vf-grid__col--span-1\">\n                                                <input\n                                                  type=\"checkbox\"\n                                                  id={attribute.id}\n                                                  onChange={e =>\n                                                    handleCheckBox(e)\n                                                  }\n                                                  defaultChecked={\n                                                    mapping\n                                                      ? mapping.find(o =>\n                                                          o.attributes.find(\n                                                            a =>\n                                                              a === attribute.id\n                                                          )\n                                                        )\n                                                        ? true\n                                                        : false\n                                                      : false\n                                                  }\n                                                  disabled={\n                                                    mapping\n                                                      ? mapping.find(\n                                                          o =>\n                                                            o.competency ===\n                                                            competency.id\n                                                        )\n                                                        ? false\n                                                        : true\n                                                      : true\n                                                  }\n                                                  data-competency={\n                                                    competency.id\n                                                  }\n                                                />\n                                              </div>\n                                              <div className=\"vf-grid__col--span-3\">\n                                                <label\n                                                  className=\"attribute_label\"\n                                                  htmlFor={attribute.id}\n                                                >\n                                                  {' '}\n                                                  {attribute.title}\n                                                </label>\n                                              </div>\n                                            </div>\n                                          </li>\n                                        ))}\n                                    </ul>\n                                  </li>\n                                );\n                              }\n                            )}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <select\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping\n                              ? mapping.find(\n                                  o => o.competency === competency.id\n                                )\n                                ? mapping.find(\n                                    o => o.competency === competency.id\n                                  ).expertise\n                                : expertise_not_applicable\n                              : expertise_not_applicable\n                          }\n                          className=\"vf-form__select\"\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              key={value}\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div key={'div123'}>\n          <div key={'div567'} className=\"row\">\n            <div className=\"vf-u-margin__top--400\" />\n            <h2> Competency mapping</h2>\n            <h3>\n              {jsonData.filter(item => item.title === frameworkName)[0].desc} (\n              {frameworkFullName} {frameworkVersion}) - {profile.job_title}{' '}\n            </h3>\n\n            <div key={'div350'} className=\"column medium-12\">\n              <div className=\"vf-grid vf-grid__col-5\">\n                <div className=\"vf-grid__col--span-4\" />\n                <div className=\"vf-grid__col--span-1\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`}\n                  >\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  <img\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                    alt=\"\"\n                  />\n                </div>\n                <div className=\"vf-grid__col--span-3 form_intro\">\n                  <p>\n                    Select your level of expertise in each competency from the\n                    dropdown menu. Choose the knowledge, skills and attitudes\n                    that are applicable to you by clicking on each competency to\n                    view them.\n                  </p>\n                </div>\n              </div>\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"vf-grid__col--span-3\">\n                  <ul\n                    className=\"vf-list legend-inline\"\n                    style={{ float: 'right' }}\n                  >\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form key={profile.id} onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button\n                        className=\"vf-button vf-button--primary vf-button--sm\"\n                        type=\"submit\"\n                      >\n                        Save <i className=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/guest\"\n      component={ProfileMapGuest}\n    />\n  </Switch>\n);\n\nexport default path;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport auth from '../services/util/auth';\n\nexport const ProfileEdit = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  //const [profile, setProfile] = useState();\n\n  //const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState();\n  const [age, setAge] = useState();\n  const [currentRole, setCurrentRole] = useState();\n  const [gender, setGender] = useState();\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState();\n  const [qualification, setQualification] = useState();\n  const [additionalInfo, setAdditionalInfo] = useState();\n  const [publishStatus, setPublishStatus] = useState();\n  const [userFrameworks, setUserFrameworks] = useState([]);\n\n  var userName = auth.currently_logged_in_user.username;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/node/${profileId}?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          //setProfile(findresponse);\n          setTitle(findresponse.title[0].value);\n          setImgpreview(\n            findresponse.field_image[0] ? findresponse.field_image[0].url : ''\n          );\n          setFid(\n            findresponse.field_image[0]\n              ? findresponse.field_image[0].target_id\n              : ''\n          );\n          setJobTitle(\n            findresponse.field_job_title[0]\n              ? findresponse.field_job_title[0].value\n              : ''\n          );\n          setAge(\n            findresponse.field_age[0] ? findresponse.field_age[0].value : ''\n          );\n          setGender(\n            findresponse.field_gender[0]\n              ? findresponse.field_gender[0].value\n              : 'None'\n          );\n          setCurrentRole(\n            findresponse.field_current_role[0]\n              ? findresponse.field_current_role[0].value\n              : ''\n          );\n          setQualification(\n            findresponse.field_qualification_background[0]\n              ? findresponse.field_qualification_background[0].value\n              : ''\n          );\n          setAdditionalInfo(\n            findresponse.field_additional_information[0]\n              ? findresponse.field_additional_information[0].value\n              : ''\n          );\n          setPublishStatus(\n            findresponse.field_publishing_status[0]\n              ? findresponse.field_publishing_status[0].value\n              : ''\n          );\n        });\n\n      await fetch(`${apiUrl}/api/authorisation/${userName}?_format=json`, {\n        method: 'GET',\n        credentials: 'include'\n      })\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setUserFrameworks(findresponse);\n        });\n    };\n    fetchData();\n  }, [profileId, userName]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    } else {\n      let token = localStorage.getItem('csrf_token');\n      var fileid = fid;\n      if (selectedFile) {\n        console.log(selectedFile);\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            console.log(data);\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      );\n\n      if (response.nid[0].value) {\n        props.history.push(\n          `/framework/${frameworkName}/${frameworkVersion}/profile/map/${\n            response.nid[0].value\n          }`\n        );\n      }\n    }\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Map competencies';\n    if (auth.currently_logged_in_user.roles.length === 0) {\n      submitButtonLabel = 'Download';\n    }\n\n    return (\n      <input\n        type=\"submit\"\n        className=\"vf-button vf-button--primary vf-button--sm\"\n        value={submitButtonLabel}\n      />\n    );\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (auth.currently_logged_in_user.roles.length === 0) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  // const setPreview = () => {\n  //   props.history.push(\n  //     `/framework/${frameworkName}/${frameworkVersion}/profile/preview`,\n  //     {\n  //       title: title\n  //     }\n  //   );\n  // };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type !== 'image/jpeg' &&\n        e.target.files[0].type !== 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      console.log(e.target.files[0]);\n\n      setImgpreview(objectUrl);\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setImgpreview(undefined);\n    setFid(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  const checkFMAccess = () => {\n    var temp = [];\n    userFrameworks.map(item => {\n      temp.push(item.toLowerCase());\n      return null;\n    });\n    if (temp.includes(frameworkName)) {\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <div>\n      {checkFMAccess() ? (\n        <div>\n          <Link\n            to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}\n          >\n            {' '}\n            View{' '}\n          </Link>\n          <h2>Create {placeholder} profile</h2>\n\n          <form\n            className=\"form\"\n            id=\"profile_create_form\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"vf-grid vf-grid__col-4\">\n              <div className=\"vf-grid__col--span-1\">\n                <span>\n                  <strong>Name</strong>\n                  <input\n                    type=\"text\"\n                    id=\"title\"\n                    placeholder=\"Name\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                  <div className={titleCalloutClass}>\n                    <i>{nameHelp}</i>\n                  </div>\n                </span>\n                <span>\n                  <strong>Image</strong>\n                  <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n                </span>\n\n                <span>\n                  <img\n                    alt=\"\"\n                    id=\"imgpreview_image\"\n                    width=\"100px\"\n                    src={imgpreview}\n                    height=\"100px\"\n                    style={{\n                      border: '1px solid #ccc',\n                      padding: '5px',\n                      width: '30%'\n                    }}\n                  />\n                  {imgpreview ? (\n                    <div>\n                      <button onClick={e => clearimgpreview(e)}>\n                        Clear image x\n                      </button>\n                    </div>\n                  ) : (\n                    ''\n                  )}\n\n                  {fileSizeError ? (\n                    <div className=\"small callout alert\">\n                      <em> Image size should not be more than 2 MB </em>{' '}\n                    </div>\n                  ) : (\n                    ''\n                  )}\n\n                  {fileTypeError ? (\n                    <div className=\"small callout alert\">\n                      <em> Only JPG or PNG images are allowed </em>{' '}\n                    </div>\n                  ) : (\n                    ''\n                  )}\n                </span>\n                <span>\n                  <strong>Age (in years)</strong>\n                  <input\n                    type=\"number\"\n                    id=\"age\"\n                    placeholder=\"Age\"\n                    width={4}\n                    value={age}\n                    onChange={e => setAge(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n                <span>\n                  <strong>Gender</strong>\n                  <select\n                    value={gender}\n                    defaultValue=\"-None-\"\n                    onChange={e => setGender(e.target.value)}\n                    className=\"vf-form__select\"\n                  >\n                    <option value={'None'}>None</option>\n                    <option value={'Male'}>Male</option>\n                    <option value={'Female'}>Female</option>\n                    <option value={'Nonbinary'}>Nonbinary</option>\n                    <option value={'Prefernottosay'}>Prefer not to say</option>\n                  </select>\n                </span>\n              </div>\n              <div className=\"vf-grid__col--span-3\">\n                <span>\n                  <strong>Job title</strong>\n                  <input\n                    type=\"text\"\n                    id=\"jobTitle\"\n                    placeholder=\"Job title\"\n                    value={jobTitle}\n                    onChange={e => setJobTitle(e.target.value)}\n                    className=\"vf-form__input\"\n                  />\n                  <div className={jobTitleCalloutClass}>\n                    <i>{jobTitleHelp}</i>\n                  </div>\n                </span>\n                <span>\n                  <strong>Qualification and background</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={qualification}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setQualification(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <br />\n                <span>\n                  <strong>Activities of current role</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={currentRole}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setCurrentRole(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <br />\n                <span>\n                  <strong>Additional information</strong>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    data={additionalInfo}\n                    onInit={editor => {}}\n                    onChange={(event, editor) => {\n                      const data = editor.getData();\n                      setAdditionalInfo(data);\n                    }}\n                    className=\"vf-form__input\"\n                  />\n                </span>\n\n                <span>\n                  <strong>Publishing status</strong>\n                  <select\n                    value={publishStatus}\n                    defaultValue=\"-None-\"\n                    onChange={e => setPublishStatus(e.target.value)}\n                    className=\"vf-form__select\"\n                  >\n                    <option value={'Draft'}>Draft</option>\n                    <option value={'Live'}>Live</option>\n                  </select>\n                </span>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"column large-4\">\n                <br />\n                <br />\n              </div>\n              <div className=\"column large-8\" />\n            </div>\n\n            <p />\n            <div className=\"row\">\n              <div className=\"column medium-2\" />\n              <div className=\"column medium-3\">\n                <ButtonLabel />\n              </div>\n              <div className=\"column medium-7\" />\n            </div>\n          </form>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport const EditProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/edit/:id\"\n      component={ProfileEdit}\n    />\n  </Switch>\n);\n\nexport default EditProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n// import ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\n\nimport ReactTooltip from 'react-tooltip';\nimport jsonData from './masterList.json';\n\n// const $ = window.$;\n\nexport const ProfileMap = props => {\n  //const activeRequests = new ActiveRequestsService();\n  // const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  //const [ksa, setKsa] = useState();\n  const [mapping, setMapping] = useState();\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  //var mapping = [];\n  //var checkboxes = [];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&source=competencyhub&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/version_manager?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json&source=competencyhub`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n\n    if (mapping) {\n      // let checkBoxes = $('input:checkbox');\n      // checkBoxes.each(function(index, item, arr) {\n      //   console.log('test ' + item.dataset);\n      // });\n      // console.log(mapping);\n    }\n  }, [profileId, frameworkName, frameworkVersion, mapping]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // let response = await profileService.mapProfile(profileId, mapping);\n    // console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    console.log('competency_id: ' + competency_id);\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    // let checkBoxes = $('input:checkbox[data-competency=\"' + competency_id + '\"]');\n    let checkBoxes = document.querySelectorAll(\n      '[data-competency=\"' + competency_id + '\"]'\n    );\n    console.log(checkBoxes);\n\n    if (expertise_id === expertise_not_applicable) {\n      checkBoxes.each(function(index, item, arr) {\n        item.checked = false;\n        item.disabled = true;\n      });\n\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency !== competency_id);\n      // console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus === true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    // console.log(mapping);\n  };\n\n  const setExpertiseLevels = levels => {\n    levels.map((level, index) => {\n      expertise_levels[level.id] = level.title;\n      expertise_not_applicable =\n        level.title === 'Not applicable' ? level.id : '';\n      expertise_levels_legend.push(\n        <li\n          key={index}\n          className=\"vf-list__item\"\n          style={{ textAlign: 'center' }}\n        >\n          <div\n            data-tip={level.description ? level.description : 'NA'}\n            data-html={true}\n            data-type=\"info\"\n            data-multiline={true}\n          >\n            <span className=\"vf-badge vf-badge--tertiary\">\n              {' '}\n              {level.rating_level}{' '}\n            </span>{' '}\n            <span> {level.title}</span>\n          </div>\n          <ReactTooltip className=\"tooltip-custom\" />\n        </li>\n      );\n      return null;\n    });\n  };\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          setExpertiseLevels(info.expertise_levels);\n          // info.expertise_levels.map(\n          //   level => (\n          //     (expertise_levels[level.id] = level.title),\n          //     level.title === 'Not applicable'\n          //       ? (expertise_not_applicable = level.id)\n          //       : '',\n          //     expertise_levels_legend.push(\n          //       <li className=\"vf-list__item\" style={{ textAlign: 'center' }}>\n          //         <div\n          //           data-tip={level.description ? level.description : 'NA'}\n          //           data-html={true}\n          //           data-type=\"info\"\n          //           data-multiline={true}\n          //         >\n          //           <span className=\"vf-badge vf-badge--tertiary\">\n          //             {' '}\n          //             {level.rating_level}{' '}\n          //           </span>{' '}\n          //           <span> {level.title}</span>\n          //         </div>\n          //         <ReactTooltip className=\"tooltip-custom\" />\n          //       </li>\n          //     )\n          //   )\n          // );\n        }\n        return null;\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (profile) {\n      if (!mapping) {\n        setMapping(profile.profile_mapping);\n      }\n      // console.log(mapping);\n    }\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li className=\"competency_list\">\n                    <div className=\"vf-grid vf-grid__col-4\">\n                      <div className=\"vf-grid__col--span-3\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <li className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type === attribute_type\n                                      )\n                                      .map(attribute => (\n                                        <li className=\"attribute_title\">\n                                          <div className=\"vf-grid vf-grid__col-4\">\n                                            <div className=\"vf-grid__col--span-1\">\n                                              <input\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                onChange={e =>\n                                                  handleCheckBox(e)\n                                                }\n                                                defaultChecked={\n                                                  mapping.find(o =>\n                                                    o.attributes.find(\n                                                      a => a === attribute.id\n                                                    )\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                                disabled={\n                                                  mapping.find(\n                                                    o =>\n                                                      o.competency ===\n                                                      competency.id\n                                                  )\n                                                    ? false\n                                                    : true\n                                                }\n                                                data-competency={competency.id}\n                                              />\n                                            </div>\n                                            <div className=\"vf-grid__col--span-3\">\n                                              <label\n                                                className=\"attribute_label\"\n                                                for={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"vf-grid__col--span-1\">\n                        <select\n                          className=\"vf-form__select\"\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency === competency.id)\n                              ? mapping.find(\n                                  o => o.competency === competency.id\n                                ).expertise\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <div className=\"vf-u-margin__top--400\" />\n            <h2> Competency mapping</h2>\n            <h3>\n              {jsonData.filter(item => item.title === frameworkName)[0].desc} (\n              {frameworkFullName} {frameworkVersion}) - {profile.job_title}{' '}\n            </h3>\n\n            <div className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-10\" />\n                <div className=\"column medium-2\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}\n                  >\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  <img\n                    alt=\"\"\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                  />\n                </div>\n                <div className=\"column medium-9 form_intro\">\n                  <p>\n                    Select the level of expertise in each competency from the\n                    dropdown menu. Choose the knowledge, skills and attitudes\n                    that are applicable to you by clicking on each competency to\n                    view them\n                  </p>\n                </div>\n              </div>\n              <div className=\"vf-grid vf-grid__col-4\">\n                <div className=\"vf-grid__col--span-1\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"vf-grid__col--span-3\">\n                  <ul\n                    className=\"vf-list legend-inline\"\n                    style={{ float: 'right' }}\n                  >\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button\n                        className=\"vf-button vf-button--primary vf-button--sm\"\n                        type=\"submit\"\n                      >\n                        Save <i className=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/:id\"\n      component={ProfileMap}\n    />\n  </Switch>\n);\n\nexport default MapProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n//import { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\n//import summary from './bioexcel_2_profiles_compare_summary.json';\n\nexport const ProfilesCompareSummary = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const location = useLocation();\n  const [summary, setSummary] = useState();\n\n  let profileJobTitle = location.state.profileJobTitle;\n  let includeSummary = location.state.includeSummary;\n  var competencyView = '';\n  var attribute_types = [];\n  // var frameworkFullName = '';\n  // var frameworkLogo = '';\n  // var frameworkDesc = '';\n  // var user_roles = localStorage.getItem('roles')\n  //   ? localStorage.getItem('roles')\n  //   : '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/profile_summary/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setSummary(findresponse);\n        });\n    };\n    fetchData();\n  }, [profileId, frameworkVersion, frameworkName]);\n\n  if (summary) {\n    console.log(summary);\n  }\n\n  const findResources = competency_id => {\n    if (summary) {\n      let test = summary.map(item => {\n        if (item.id === competency_id) {\n          return item.resources.map(resource => {\n            return (\n              <li>\n                <a\n                  href={resource.resourceLink}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {' '}\n                  {resource.resourceName}{' '}\n                </a>\n              </li>\n            );\n          });\n        }\n        return null;\n      });\n      return test;\n    }\n  };\n\n  const generateSummary = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          //frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n        return null;\n      });\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map(domain => (\n          <div>\n            <div className=\"row callout\">\n              <div className=\"column medium-8 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n              <div className=\"column medium-4 \">\n                <h5>Learning Resources</h5>\n              </div>\n            </div>\n            {domain.competencies.map(competency =>\n              includeSummary.indexOf(competency.id) !== -1 ? (\n                <div>\n                  <div id={competency.id} className=\"row\">\n                    <div className=\"column medium-8\">\n                      <span className=\"competency_title\">\n                        <div>\n                          <Collapsible\n                            trigger={\n                              <div className=\"open-close-title\">\n                                <i className=\"icon icon-common icon-angle-right icon-custom\" />{' '}\n                                {competency.title}\n                              </div>\n                            }\n                            triggerWhenOpen={\n                              <div className=\"open-close-title\">\n                                <i className=\"icon icon-common icon-angle-down icon-custom\" />{' '}\n                                {competency.title}\n                              </div>\n                            }\n                          >\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <div\n                                  className=\"accordion-item is-active\"\n                                  data-accordion-item\n                                >\n                                  <div className=\"row attribute_align_type\">\n                                    <div className=\"column medium-8\">\n                                      <strong> {attribute_type} </strong>\n                                    </div>\n                                    <div className=\"column medium-4\" />\n                                  </div>\n                                  {competency.attributes\n                                    .filter(\n                                      attribute =>\n                                        attribute.type === attribute_type\n                                    )\n                                    .map(attribute => {\n                                      return (\n                                        <div className=\"row attribute_align\">\n                                          <div className=\"column medium-8\">\n                                            {attribute.title}\n                                          </div>\n                                        </div>\n                                      );\n                                    })}\n                                </div>\n                              );\n                            })}\n                          </Collapsible>\n                        </div>\n                      </span>\n                    </div>\n                    <div className=\"column medium-4\">\n                      <ul>{findResources(competency.id)}</ul>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                ''\n              )\n            )}\n          </div>\n        ))\n      );\n    }\n  };\n\n  // const handlePrint = () => {\n  //   window.print();\n  // };\n\n  return (\n    <div>\n      {generateSummary()}\n      <h2>Summary of learning resources</h2>\n      <p className=\"lead\">\n        Based on the comparison of your profile, the following are the suggested\n        learning resources to help develop your career, if you want to become{' '}\n        {profileJobTitle}\n      </p>\n      {competencyView}\n    </div>\n  );\n};\n\nexport const SummaryPath = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\n      component={ProfilesCompareSummary}\n    />\n  </Switch>\n);\n\nexport default SummaryPath;\n","import React, { useEffect } from 'react';\nimport SwaggerUI from 'swagger-ui-react';\nimport 'swagger-ui-react/swagger-ui.css';\nimport data from './CompetencyHubAPIs.json';\n\nconst Documentation = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    console.log('scrolled');\n  }, []);\n\n  return (\n    <>\n      <h1 style={{ color: '#000' }}>API Documentation</h1>\n      <h3>Our API documenation is based on Open API specifications 2.0.</h3>\n      <SwaggerUI spec={data} />\n    </>\n  );\n};\n\nexport default Documentation;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport LoginForm from './login-form/LoginForm';\nimport { login, logout } from '../services/auth/auth';\n\nclass Login extends Component {\n  static propTypes = {\n    user: PropTypes.string.isRequired,\n    roles: PropTypes.string.isRequired,\n    onLogin: PropTypes.func.isRequired,\n    onLogout: PropTypes.func.isRequired\n  };\n\n  onLogin = (username, password) => {\n    login(username, password);\n  };\n\n  onLogout = () => {\n    logout();\n  };\n\n  render() {\n    //const { roles, user, isActive } = this.props;\n    const { roles, user } = this.props;\n\n    return (\n      <div>\n        {user && roles ? (\n          <h2>You are logged in</h2>\n        ) : (\n          <LoginForm onSubmit={this.onLogin} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { useEffect, useState } from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport { apiUrl } from '../../services/http/http';\n\nconst ManageFrameworks = props => {\n  const [frameworks, setFrameworks] = useState();\n  let user = localStorage.getItem('user');\n  let token = localStorage.getItem('csrf_token');\n\n  //API change needed here\n  // API should not need to be sent the user id\n\n  useEffect(() => {\n    const fetchData = () => {\n      fetch(`${apiUrl}/api/authorisation/${user}?_format=json`, {\n        method: 'GET',\n        credentials: 'include'\n      })\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworks(findresponse);\n        });\n    };\n    fetchData();\n  }, [user, token]);\n\n  return (\n    <div className=\"vf-activity\">\n      <h2>Manage frameworks</h2>\n      <ul className=\"vf-activity__list | vf-list\">\n        {frameworks ? (\n          frameworks.map(framework => {\n            return (\n              <li className=\"vf-activity__item\" key={framework}>\n                <Link\n                  to={`/framework/${framework\n                    .toLowerCase()\n                    .replace(/\\s+/g, '')}/manage/data`}\n                >\n                  {framework}\n                </Link>\n              </li>\n            );\n          })\n        ) : (\n          <li style={{ color: '#000' }}>No Framework assigned to this user.</li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nconst exportURL = () => (\n  <Switch>\n    <Route exact path=\"/manage-frameworks\" component={ManageFrameworks} />\n  </Switch>\n);\n\nexport default exportURL;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Breadcrumbs = () => {\n  let location = useLocation();\n  let pathname = location.pathname;\n  let URL = pathname.split('/');\n  let frameworkName = URL[2];\n  let frameworkVersion = URL[3];\n\n  const convertFrameworkName = name => {\n    if (name === 'bioexcel') {\n      return 'BioExcel';\n    }\n\n    if (name === 'corbel') {\n      return 'CORBEL';\n    }\n\n    if (name === 'iscb') {\n      return 'ISCB';\n    }\n\n    if (name === 'permedcoe') {\n      return 'PerMedCoE';\n    }\n\n    if (name === 'ritrain') {\n      return 'RItrain';\n    }\n\n    if (name === 'cineca') {\n      return 'CINECA';\n    }\n\n    if (name === 'nhs') {\n      return 'NHS';\n    }\n\n    if (name === 'datasteward') {\n      return 'Data steward';\n    }\n\n    if (name === 'arise') {\n      return 'ARISE';\n    }\n  };\n\n  const getBreadcrumbs = () => {\n    if (pathname.includes('compare')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Compare career profiles\n          </li>\n        </>\n      );\n    } else if (pathname.includes('profile')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li\n            className=\"vf-breadcrumbs__item\"\n            aria-current=\"location\"\n            id=\"bc_location\"\n          />\n        </>\n      );\n    } else if (pathname.includes('competency')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\">\n            <Link to={`/framework/${frameworkName}/${frameworkVersion}`}>\n              {convertFrameworkName(frameworkName)} {frameworkVersion}\n            </Link>\n          </li>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Competency details\n          </li>\n        </>\n      );\n    } else if (pathname.includes('framework')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            {convertFrameworkName(frameworkName)} {frameworkVersion}\n          </li>\n        </>\n      );\n    } else if (pathname.includes('all-training-resources')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Manage training resources\n          </li>\n        </>\n      );\n    } else if (pathname.includes('resource')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Training resource\n          </li>\n        </>\n      );\n    } else if (pathname.includes('documentation')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            API documentation\n          </li>\n        </>\n      );\n    } else if (pathname.includes('about')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            About\n          </li>\n        </>\n      );\n    } else if (pathname.includes('design-your-training')) {\n      return (\n        <>\n          <li className=\"vf-breadcrumbs__item\" aria-current=\"location\">\n            Design your training\n          </li>\n        </>\n      );\n    }\n  };\n\n  return URL[0] === '' && URL[1] === '' ? (\n    <span />\n  ) : (\n    <nav className=\"vf-breadcrumbs\" aria-label=\"Breadcrumb\">\n      <ul className=\"vf-breadcrumbs__list | vf-list vf-list--inline\">\n        <li className=\"vf-breadcrumbs__item\">\n          <Link to={`/`}>Competency Hub</Link>\n        </li>\n        {getBreadcrumbs()}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { useEffect } from 'react';\n\nconst DevelopYourCourses = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    console.log('scrolled');\n  }, []);\n\n  return (\n    <section className=\"vf-intro\">\n      <div />\n      <div>\n        <h2>Develop your courses</h2>\n        <p>\n          Competencies can be used to develop training or other learning\n          interventions, by asking what competencies the learners need to gain.{' '}\n        </p>\n        <p>\n          The Competency Hub can help you at different stages of the process of\n          designing your training:{' '}\n        </p>\n\n        <ul>\n          <li>Define your audience:</li>\n          <ul>\n            <li>\n              Find the competency framework appropriate for your audience on our\n              home page\n            </li>\n            <li>\n              If career profiles are available, check the roles of your audience\n              and the levels at which competencies are expected for those roles\n            </li>\n          </ul>\n          <li>\n            Define the competencies to cover:\n            <ul>\n              <li>Find the competencies that you need to focus on</li>\n              <li>\n                Find knowledge, skills or attitudes within the competencies that\n                your learners need to achieve\n              </li>\n              <li>\n                Use career profiles to decide the level of competence to be\n                achieved in the course, depending on the audience and their goal\n              </li>\n            </ul>\n          </li>\n          <li>Develop content to cover the selected competencies</li>\n          <li>\n            Assessment:\n            <ul>\n              <li>\n                Check that the target competencies at the specified level have\n                been achieved{' '}\n              </li>\n            </ul>\n          </li>\n        </ul>\n\n        <div className=\"vf-u-padding__top--400\">\n          <p>\n            EMBL-EBI provides{' '}\n            <a href=\"https://www.ebi.ac.uk/training/trainer-support\">\n              additional support for trainers\n            </a>{' '}\n            with openly accessible resources and opportunities for skills\n            development.\n          </p>\n          <p>\n            The{' '}\n            <a href=\"https://zenodo.org/record/5418103#.YhiW3ZPP30o\">\n              ISCB guidelines\n            </a>{' '}\n            provide information on how the ISCB competency framework can be used\n            to develop courses and courses programmes\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default DevelopYourCourses;\n","import React, { Component } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Masthead from '../containers/masthead/Masthead';\r\nimport ManageAttributes from './ManageAttributes';\r\nimport ManageCompetencies from './ManageCompetencies';\r\nimport ManageData from './ManageData';\r\nimport CompetencyDetails from './CompetencyDetails';\r\nimport CompetencyList from './CompetencyList';\r\nimport ResourceEdit from './ResourceEdit';\r\nimport ResourceCreate from './ResourceCreate';\r\nimport ResourceDetails from './ResourceDetails';\r\nimport ResourcesList from './ResourcesList';\r\nimport ResourcesHome from './ResourcesHome';\r\nimport ChangePassword from './ChangePassword';\r\nimport UserView from './UserView';\r\nimport About from '../components/about/About';\r\nimport Frameworks from './Frameworks';\r\nimport AttributeMap from './AttributeMap';\r\nimport CompetencySettings from './CompetencySettings';\r\nimport AttributeSettings from './AttributeSettings';\r\nimport AttributeDemap from './AttributeDemap';\r\nimport ProfileCreate from './ProfileCreate';\r\nimport ProfileCreateGuest from './ProfileCreateGuest';\r\nimport ProfileView from './ProfileView';\r\nimport ProfilesCompare from './ProfilesCompare';\r\nimport ProfileMapDownload from './ProfileMapDownload';\r\nimport ProfileViewGuest from './ProfileViewGuest';\r\nimport ProfileMapGuest from './ProfileMapGuest';\r\nimport ProfileEdit from './ProfileEdit';\r\nimport ProfileMap from './ProfileMap';\r\nimport ProfilesCompareSummary from './ProfilesCompareSummary';\r\nimport Documentation from './Documentation';\r\nimport Login from './Login';\r\nimport ManageFrameworks from '../containers/navigation/ManageFrameworks';\r\nimport Breadcrumbs from '../containers/Breadcrumbs';\r\nimport DevelopYourCourses from '../containers/DevelopYourCourses';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { login, logout } from '../services/auth/auth';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport auth from '../services/util/auth';\r\n// import sitemapGenerator from './sitemapGenerator';\r\n\r\nclass Root extends Component {\r\n  state = {\r\n    isActive: false,\r\n    roles: localStorage.getItem('roles') || '',\r\n    user: {\r\n      is_logged_in: false,\r\n      roles: []\r\n    }\r\n  };\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  componentDidMount() {\r\n    auth.getLoggedInUser().then(response => {\r\n      this.setState({\r\n        user: response\r\n      });\r\n    });\r\n\r\n    this.setState({ isActive: this.activeRequests.isActive });\r\n    this.subcription = this.activeRequests.addEventListener(\r\n      this.handleActiveRequests\r\n    );\r\n\r\n    window.addEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.subcription) {\r\n      this.activeRequests.removeEventListener(this.subcription);\r\n    }\r\n    window.removeEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  handleActiveRequests = hasPendingRequests => {\r\n    this.setState({ isActive: hasPendingRequests });\r\n  };\r\n\r\n  detectUserChangesFromOtherTabs = ({ key, newValue }) => {\r\n    if (key === 'user') {\r\n      if (newValue) {\r\n        this.setState({\r\n          user: localStorage.getItem('user'),\r\n          roles: localStorage.getItem('roles')\r\n        });\r\n      } else {\r\n        this.setState({ user: '', roles: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogin = async (username, password) => {\r\n    try {\r\n      await login(username, password);\r\n      this.setState({\r\n        user: localStorage.getItem('user'),\r\n        roles: localStorage.getItem('roles')\r\n      });\r\n      document.location.reload();\r\n    } catch (error) {\r\n      window.console.error(error);\r\n      if (error.response) {\r\n        switch (error.response.status) {\r\n          case 400:\r\n            window.alert(error.response.data.message);\r\n            return;\r\n          default:\r\n            window.alert(\r\n              'Sorry, there was an unknown login problem, please try again.'\r\n            );\r\n        }\r\n        window.alert(\r\n          'Sorry, there was an unknown login problem, please try again.'\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogout = () => {\r\n    this.setState({ user: '', roles: '' });\r\n    logout();\r\n    document.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { isActive, user } = this.state;\r\n    return (\r\n      <>\r\n        <SnackbarProvider\r\n          maxSnack={1}\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n          preventDuplicate\r\n        >\r\n          <Breadcrumbs />\r\n          {/* <div className=\"vf-u-margin__top--200\" /> */}\r\n          <Switch>\r\n            <Masthead\r\n              roles={user.roles}\r\n              user={user.username}\r\n              isActive={isActive}\r\n              onLogin={this.handleLogin}\r\n              onLogout={this.handleLogout}\r\n            />\r\n          </Switch>\r\n\r\n          <section id=\"main-content-area\" className=\"row\" role=\"main\">\r\n            <div>\r\n              <Switch>\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/all-training-resources\"\r\n                  component={ResourcesList}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/training-resource/edit/:slug\"\r\n                  component={ResourceEdit}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/training-resource/create\"\r\n                  component={ResourceCreate}\r\n                />\r\n\r\n                {/* <Route\r\n                  path=\"/training-resource/create\"\r\n                  component={ResourceCreate}\r\n                /> */}\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\r\n                  component={AttributeSettings}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:cid/manage-attributes\"\r\n                  component={ManageAttributes}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:domainId?\"\r\n                  component={ManageCompetencies}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/data/:domainId?\"\r\n                  component={ManageData}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/competency/details/:cid\"\r\n                  component={CompetencyDetails}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:id/settings\"\r\n                  component={CompetencySettings}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/create/guest\"\r\n                  component={ProfileCreateGuest}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/create\"\r\n                  component={ProfileCreate}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/guest\"\r\n                  component={ProfileViewGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/guest\"\r\n                  component={ProfileMapGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/:id/:alias\"\r\n                  component={ProfileView}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\r\n                  component={ProfilesCompareSummary}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\r\n                  component={ProfilesCompare}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/download\"\r\n                  component={ProfileMapDownload}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/edit/:id\"\r\n                  component={ProfileEdit}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/map/:id\"\r\n                  component={ProfileMap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version\"\r\n                  component={CompetencyList}\r\n                />\r\n\r\n                {/*<Route*/}\r\n                {/*  path=\"/framework/:framework/:version\"*/}\r\n                {/*  component={VFTabsCompetencyList}*/}\r\n                {/*/>*/}\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/training-resources/:id/map/:framework\"\r\n                  component={AttributeMap}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/training-resources/:resource/demap/:attribute\"\r\n                  component={AttributeDemap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/training-resources/:slug\"\r\n                  component={ResourceDetails}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.roles.includes('content_manager')}\r\n                  path=\"/training-resources-home\"\r\n                  component={ResourcesHome}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.is_logged_in}\r\n                  path=\"/user/change/password\"\r\n                  component={ChangePassword}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.is_logged_in}\r\n                  path=\"/user/view\"\r\n                  component={UserView}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={user.is_logged_in}\r\n                  path=\"/manage-frameworks\"\r\n                  component={ManageFrameworks}\r\n                />\r\n\r\n                <Route path=\"/documentation\" component={Documentation} />\r\n                <Route\r\n                  path=\"/develop-your-courses\"\r\n                  component={DevelopYourCourses}\r\n                />\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/login\" component={Login} />\r\n                {/* <Route path=\"/sitemap\" component={sitemapGenerator} /> */}\r\n                <Route path=\"/\" component={Frameworks} />\r\n              </Switch>\r\n            </div>\r\n          </section>\r\n          {/* <Footer /> */}\r\n        </SnackbarProvider>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Root;\r\n\r\nclass ProtectedRoute extends Component {\r\n  render() {\r\n    const { component: Component, condition, ...props } = this.props;\r\n    return (\r\n      <Route\r\n        {...props}\r\n        render={props =>\r\n          condition ? <Component {...props} /> : <Redirect to=\"/\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nimport Root from './app/containers/Root';\r\nimport Modal from 'react-modal';\r\n\r\nconst root = document.getElementById('root');\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Root />\r\n  </BrowserRouter>,\r\n  root\r\n);\r\n\r\nModal.setAppElement(root);\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEX///8AAAClpaX8/Pz39/e3t7fZ2dm9vb3T09Pl5eXw8PBfX1/h4eFtbW1qamqbm5vMzMyCgoJ4eHgaGhqKioplZWWrq6sPDw/FxcUwMDDs7OySkpJ/f38UFBQhISFLS0s8PDxPT09XV1c2NjY4ODinp6dEREQpKSmYua94AAAGb0lEQVR4nO2d6XbiMAyFMUsIW8O+lhZoB97/DYc0MIQkkEiWkNzx97uL70kiy9pcq3k8Ho/H4/F4PB6Px+PxwOiug+Gy3V4uw063Ib0YaoL5+25r0qzeomFTellEBNHePGA1Wjr/MDvT7SN5F2ZD6TXaMPwskffD9o/0OrG0V1X0/bBx8ZMcnirri4mk1wul2wPpO/MRSq8ZxByqL2YsverqNMAPMGHSl155RfplG8RjWtJrr0QLrc+48aZGNgKNOUivv5SRnUBjdsr9uLGtwPO20ZUW8QwCgWeTqtjBsX5FEz7Uvqiofb6IT2klDxhSCdS6aazpBBqj8kD1QanQBNJy8hBZmStbaT05CD/ChHdpRVkW1AqNsvPihlyg+ZDWdEeHXqAxdWlVaWYcCo0i763PItBspHXdeONRaNT4p6TeTBo1ns2US6Eac8ol0BglOY0ln8KBtLaEAZ9CI60tgVGgjteU3OdOM5JWF8NmSWNUWNMdp0KjILTYZBVoltL6arWAV6EC39QqEVPOTFofy9k3zUpaH+9+HyN/vtgzK5Q3phNmhR1pgaw+W4x8yI1bofyGyK2wLS2QXaF8eYZXaMvvf0vlLQ19SuYe+d3ii1mh/I6PrNKrjLzXRlJC8wR5z7vOK/BLWh9rPDhGQUyYJTl6Q0P9N+92oSEkzGtM5Q0Ns6k5SquLYUpxJygIJtZ44xg6ir8YExdKar9CPoVTaW0XYB1OEOTd7oQ/XALV1Ao3uBTKn36vMNmak7SuG0w5RPkQzQ2WBJSCtFMKDoUanO4bDHnSnrSmDJW6tkHIB2juIa9PnEsrykHWEpSgsQ+R9iSsqAL6BqV7quPUlIXwU5RPOBVDVjykIcBWDFHsVF1DUIo2hUAFZVBPIJD4Jq2hBOt6Wp3to2kszY1eI3NjbbMvat0mMqCbhBauDDfB+qgKMmkZ+q1o8HncnVa52HvniBCYC1q0j6fv47E3nYcS+ZnMFLbcWQf8GN+zKoL0IK3Tiye7rTe51vRV1ldugGI3h+wX2MhX5g5eFtYID4WLzDV/NCsHGXu5o0Sx5zB5ybG4X6wv/v+54p5mVCUvNc5Z0ObDrtsF/3by9LmM899KWDKJYNbO/87TsNaRN5cRliXti+Lw4aPRkN/TZcFRfv3gp//B6fZUmAE1Kw4/dNqbt1Q47ms2agXFP1khaX5gM6vVyp+eW4Nm8+ny+pXK5CZMkcaqztgn/kupan0Xa0Jd/wC0jgxwGiFVHQxPEVahB9fYgA1625KHG8GD5g4gD6QDTkHuiAViju6TqOKDbLQwWQ/aYEAXsYKYY1R64uu2sGNDSN2bPXIRZyajom39QhBhjllXCA2qbbHFbjwPMsavcfYB9pZ/lq7oDfuOZjj1xqNNVN9MxwOi7miyowZ3sToeol2Ruc7ZBqLwOHdHhQ0kWTjmZm07SFLF3G0/dhA0Dal+hMbs7RXylVbSYP0lKjakCdbmdC+toBTLPZG5I4YCy8AU63gdGhZ2CnVvFQlWGwZjGT4dVqUb79Krr4SNQvw9Dq/E4jVlnpBEhUXfieVNDq/CoqafvvCXB3SQna1ThBp01E29T3oFXcThgENzAauQd14gJcgPkXleICXID9EJly0B6bgxz4OgZIdTyD1NjxJcZp971hwluGiN9KohoEyNI253Asr5Vh4ovQcV+2YeTEoMRqHenFoRmNKMb+lFg0BUiDtzdEpA9H0TpbZfBeJSGoe80hjEdkHSpPU6EJ3fDvndMYjKE3cO+D8grhjgnhZIDfx04daGj9ny3QnSJMBDNS6dDmPgJ0TpFUOBtwxJrxgKeOKSY24pwjF1KFiaAI5jsN0WxwX4FjoHykzuARed/H6FrDM7OQDPAfUK1QE+AnuF6vj9CsHf4e/fLRwLJmL6Z6RXDAU+zdWFytI08BPww9EJSoHHaRyLJk7AAv+DmLdj2wWmYj83gkY1mGIMN2q8ryAE8t7VTA2u7Et61RBwxewOFWMgR3875Jpiy6BLBiDpAd365EzcG3+HAvEEay5s2p330ouvhE2PpRPGxu6SCAeqamyvhFJfg2k/ElT5KYpirrJq/zQ3jhJFR2+fJdmAGqV9CSfCscNLjZE34nv11BXyDcin7jXrmp5jfqorCeG7jkKpWYtxanJQH4iOc9n2NkP+odCNTtie11/OvDXsa7shyePxeDwej8fj8Vz4C1b2gkr4izi5AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAMAAABUFvrSAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IB2cksfwAAAW5QTFRF////////////////7+/v39/f1tXV09bS0tXS0tXR0dTR0dTQ0NTQ0NPPz9PPztLOztHNzdHNzdHMz8/PzdDMzNDMzNDLzM/Ly8/Ly8/Ky87Kys3Jyc3Jyc3IyMzIyMzHx8vHxsrGxsrFxcnFxcnExMnExMjDw8jDxMfDw8fCwsfCwcXAwMXAwMW/wMS/v8S+v8O+vsO+vsK9vcK9vcK8v7+/vMG8vMG7vMC8u8C7u8C6ur+6ur+5ub65ub64uL23t7y2tru1tbq0tLqztLmzs7iysrixsrexsbewsbawsLavsLWvr7Wur7SusLOvrrStrrOtr7KvrbOsrLKrr6+vq7Gqn6OenqCdn5+flpmWk5iTkZSRkZORj4+PiYyJhIaEhIWEgoWCgICAfX98fH98eXx5cHJvcHBwYGBgXV5dUFFQUFBQQ0RDQEBAPj8+NTY1MjMxMDAwKSkpKCkoICAgGxsbEBAQDg4ODQ4NAAAAlzoSDQAAAAN0Uk5TAAoO5yEBUwAAAvhJREFUeNq1lutX2kAQxWmXFDVGYy1EIjQ2VZDiu1CsRQQURYvV+qSKj6II8rANYOT+9z0JqIASo9Y5ydkP2f2d2Ts7d2N4jRcJgwEIBwO+SbdTFGw8ZzZz1n5BdLgnfLPBcCT6fW1jY3P78QEYEA76PWMu0W5lGbrNZGrrYNg+u+ga9fgVcmxtY/NJZAOCfs+IY4Bn6eN8RdlEJX9Ed1uFIfdnfzC8uBJbv5tyqqhMLKa0wQHPiEOwMInLW4Eu9xmzfdDtmQ0uLK3cSXmvBBTS6QJQ2tMC+8YcgpnOApAzSa83mZEBZIff2odGfYFQJNqc8s4VchQhhFA5XO1pgCddAxaFKyeNpBpxGSgNmwXXxMxcWE25fkkJGUIIoExESQPsFnkmC0gUuQmjBGQZq+j2BEKR5dUGLVLIvbkGkxxSrcHO92wCkIyENJL3u+2O8Zng/FJsvR5cRF0GFIqtwaKVvoTcSxrCKOOS7hPdXwLhxUYtUFC+Z6AKQgpoDRZ6joEkaYo4cMQKril/KLLcCE4TVYmqFmkNsK0rD9lIiDdXKCSrwwEhREae6Ve0WIiuPg3M0xVlW171BBe21CGjbLbSYR0c/To3H409TQquHTggREKZ8pbjEiRqqxxXtWjjRLdvLrzUAK4Vr5qwZvEsJsCrzExWF9Tk9gIm84e74BRyRN9xeyS4vkHSmg1yK4Wxt5yUIClDayn0t3SteLWq3RQvjQrN31O87e2dEiBl0tJDJmTrykImN8dtq6AOpIw8Y3OMf2s+bvptU+hJqFrc1yCfpmZDkWYX0mv0H9WWpvS2tH6w8z27e58JJVi7c2ImuNBkQvrBOOWZc0CqsyFKtU3+97OuaQBnXGe90RuTMvCHtpziuWCcmDvPm64m+t2vlmuq/YHqqwnGCcfs1l+mCcbSmgtSe8iDGQNnPEsnrq//fZrltXS4tk3oAOPvT2tPF91uMrXTDNv340JrjQ4hbsHAxeE0z1ksHD99eKFdl0dl/P//Cl+9EPcfS+yBAoqk3eUAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/european-union.0ae78626.png\";","module.exports = __webpack_public_path__ + \"static/media/PerMedCoE.2b28bd09.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bioexcel.9e7ef4d7.png\";"],"sourceRoot":""}