{"version":3,"sources":["shared/components/progress-bar/progress-bar.jsx","app/services/http/headers.js","app/services/http/http.js","app/containers/navigation/Navigation.jsx","app/containers/login-form/LoginForm.jsx","app/containers/masthead/Masthead.jsx","shared/components/edit-inline/EditInline.tsx","app/containers/simple-form/SimpleForm.tsx","app/components/error-loading/ErrorLoading.tsx","app/containers/framework-versions/FrameworkVersions.tsx","app/services/competency/body.js","app/services/competency/competency.js","app/services/active-requests/active-requests.js","app/services/util/util.js","app/containers/ManageAttributes.jsx","app/containers/version-controls/VersionControls.tsx","app/containers/ManageCompetencies.jsx","app/containers/ManageAttribute.jsx","app/containers/ManageCompetency.jsx","app/containers/ManageDomains.jsx","app/containers/ManageData.jsx","app/services/courses/courses.js","app/containers/CompetencyDetails.jsx","app/components/competency-list/CompetencyList.jsx","app/components/domain-list/DomainList.jsx","app/containers/courses/Courses.jsx","app/containers/ProfileList.jsx","app/containers/CompetencyList.jsx","app/containers/ResourceEdit.jsx","app/containers/FileUpload.jsx","app/containers/ResourceCreate.jsx","app/containers/AttributeMap.jsx","app/containers/framework-versions/VersionNotice.jsx","app/containers/ResourceDetails.jsx","app/containers/ResourcesList.jsx","app/containers/ResourcesHome.jsx","app/containers/ChangePassword.jsx","app/containers/List.jsx","app/containers/UserView.jsx","app/components/about/About.js","app/components/framework-button/FrameworkButton.jsx","app/components/framework-buttons/FrameworkButtons.jsx","app/containers/Frameworks.jsx","app/containers/ArticleCreate.jsx","app/containers/CompetencySettings.jsx","app/containers/AttributeSettings.jsx","app/containers/AttributeDemap.jsx","app/services/profile/body.js","app/services/profile/profile.js","app/containers/ProfileCreate.jsx","app/containers/GuestHelp.jsx","app/containers/ProfileCreateGuest.jsx","app/containers/ProfileView.jsx","app/containers/ProfilesCompareButterfly.jsx","app/containers/ProfilesCompare.jsx","app/containers/ProfileMapDownload.jsx","app/containers/ProfileViewGuest.jsx","app/containers/ProfileMapGuest.jsx","app/containers/ProfileEdit.jsx","app/containers/ProfileMap.jsx","app/containers/ProfilesCompareSummary.jsx","app/services/auth/auth.js","app/containers/Root.jsx","index.jsx","app/containers/user_icon.png","shared/components/progress-bar/progress-bar.module.css"],"names":["ProgressBar","_ref","isActive","react_default","a","createElement","Fragment","className","concat","styles","progress","role","meter","defaultProps","HeadersService","Object","classCallCheck","this","instance","type","arguments","length","undefined","csfrToken","window","localStorage","getItem","Accept","Content-Type","X-CSRF-Token","Authorization","apiUrl","process","axios","defaults","baseURL","HttpService","headers","Headers","url","credentialType","get","withCredentials","body","option","post","patch","$","Navigation","props","_this","possibleConstructorReturn","getPrototypeOf","call","navRef","React","createRef","logout","onLogout","state","user","frameworks","_this2","current","foundation","fetch","method","credentials","then","Response","json","findresponse","setState","_this$props","roles","frameworkResources","key","tabIndex","map","framework","react_router_dom","to","toLowerCase","replace","style","color","trainingResources","userDropdown","onClick","ref","data-dropdown-menu","data-description","includes","Component","LoginForm","username","password","onChange","event","defineProperty","currentTarget","name","value","submit","onSubmit","_this$state","_this$state2","autoComplete","placeholder","aria-hidden","Masthead","onLogin","data-sticky-container","id","data-sticky","data-sticky-on","data-top-anchor","data-btm-anchor","navigation_Navigation","login_form_LoginForm","progress_bar","defaultState","oriValue","active","EditInline","selfRef","inputRef","toggleActive","contains","target","reset","change","render","staticElement","editable","aria-label","text","document","addEventListener","removeEventListener","prevProps","prevState","setTimeout","focus","newValue","description","uuid","mapping","SimpleForm","preventDefault","onCreate","trim","setDefaultOption","options","title","showMappingField","selectOptions","required","ErrorLoading","message","customStyles","content","top","left","right","bottom","marginRight","transform","FrameworkVersion","versions","_useState","useState","_useState2","slicedToArray","showNotes","setShowNotes","_useState3","_useState4","notes","setNotes","versionItems","filter","version","number","release_notes","lib_default","isOpen","Parser","BodyService","_links","_embedded","domainId","domainUuid","_ref$mapping","draftId","draftUuid","href","target_id","field_map_other_competency","self","lang","_links2","_embedded2","_ref2","attributeTypeId","attributeTypeUuid","competencyId","competencyUuid","mutate","_ref3","releaseNotes","field_parent","field_release_notes","field_item","nodeId","vid","attribuiteId","_links4","_embedded4","resourceID","dates","dates2","location","target_audience","learning_outcomes","keywords","organisers","trainers","parentID","versionID","newData","addtional","field_type","field_additional_information","items","CompetencyService","http","response","data","Date","now","Body","createAttribute","createCompetency","mutateCompetency","mutateDomain","mutateCompetencyPosition","toggleArchivingVersionedNode","attributeId","mutateAttribute","publishFramework","createDraftFramework","versionId","updateReleaseNotes","changeDomain","editResource","attribiuteId","changeAttributeSettings","resource","attributes","createBulkData","saveSorting","ActiveRequestsService","counter","callbacks","fn","push","index","forEach","safeFlat","array","Array","prototype","flat","reduce","acc","cur","toConsumableArray","tagsReg","RegExp","nbspReg","removeHtmlTags","htmlString","replaceBy","ManageAttributes","activeRequests","competencyService","match","params","frameworkName","frameworkVersion","frameworStatus","attributeTypes","domainName","cid","competencyName","competencyData","path","pathname","split","loadingError","_callee","draftVersion","regenerator_default","wrap","_context","prev","next","startRequest","find","attribute","fetchFramework","t0","enqueueSnackbar","variant","finishRequest","finish","stop","scroll","loadData","fetchVersions","getAllVersionedFrameworks","allFrameworks","currentFramework","fw","attribute_types","reverse","liveVersion","status","frameworkData","getVersionedDraftFramework","getVersionedFramework","competencyMatch","filterByCompetencyId","frameworkStatus","domainTitle","item","domains","domain","competencies","competency","nid","patchAttribute","position","patchAttributePosition","isArchived","attributeType","_this$state3","archived","EditInline_EditInline","editAttribute","field_number","editAttributePosition","toggleArchive","class","_this3","_this$state4","getAttributeRows","_this$state5","error_loading_ErrorLoading","SimpleForm_SimpleForm","getAttributeList","FrameworkVersions","withSnackbar","VersionControls","release","updateNotes","createDraft","curr","originalNotes","setVersion","_useState5","_useState6","pressedRelease","setPressedRelease","_useState7","_useState8","pressedNotes","setPressedNotes","react_ckeditor_component_lib_default","events","editor","getData","cleanNotes","ManageCompetencies","frameworkVersionId","competencyTypes","allowedFrms","releaseNewVersion","_callee2","_context2","_callee3","_context3","_callee4","_context4","refs","scrollIntoView","patchCompetency","patchCompetencyPosition","getCompetencyRows","_this4","editCompetency","editCompetencyPosition","bind","_this$state6","version_controls_VersionControls","getCompetencyList","ManageAttribute","asyncToGenerator","mark","sorting","d","closeModalPosition","_x","apply","showModal","parentTitle","showAttributeModal","attributeTypeTitle","newAttributes","typetitle","handleOpenAttributeModal","assertThisInitialized","handleCloseAttributeModal","OpenModalPosition","e","showModalPosition","dataset","console","log","competencyid","competencytitle","attributetype","aid","version_id","dragged","dataTransfer","effectAllowed","setData","display","parentNode","removeChild","from","Number","over","splice","insertBefore","frameworkDef","editableFrm","def","data-competencyid","data-competencytitle","data-typetitle","data-attributetype","attr","archiveAttribute","_this$props5","getAttributes","dist","open","onClose","center","classNames","overlay","modal","rows","setAttributes","saveAttributes","onDragOver","dragOver","i","listStyleType","data-position","draggable","onDragEnd","dragEnd","onDragStart","dragStart","ManageCompetency","_this$props2","archiveCompetency","Collapsible_default","trigger","triggerWhenOpen","mapped_other_competency","editMapping","containers_ManageAttribute","_this$props3","getCompetencies","ManageDomains","newDomains","showModalCompetency","newCompetencies","archiveDomain","OpenModalCompetency","closeModalCompetency","handleRemoveCompetencies","setCompetencies","domainid","domaintitle","patchDomain","editDomain","data-domainid","data-domaintitle","containers_ManageCompetency","count","saveCompetencies","paddingTop","handleAddMoreCompetencies","ManageData","_x2","_x3","parent","handleOpenModal","handleCloseModal","saveDomains","alert","_context7","containers_ManageDomains","setDomains","CoursesService","CompetencyDetails","coursesService","attributeDefs","resources","Promise","all","getFramework","getResources","getAllFrameworks","frameworkMatch","getCourses","allResources","competency_profile","profile","competency_id","objectSpread","competencyDetails","resourceBlock","CompetencyList","disable","attributesGrouped","groupBy","keys","parentIndex","DomainList","childIndex","components_competency_list_CompetencyList","Courses","courses","filteredCourses","onFilter","term","course","test","allCourses","filterCourses","filteredProfiles","framework_label","modifiedCourse","findIndex","c","competency_label","ProfileList","history","useHistory","guestProfile","setGuestProfile","profiles","setProfiles","profilesToCompare","useEffect","JSON","parse","fetchData","setProfilesToCompare","checked","getAttribute","arr","redirectToCompare","float","data-profileid","alt","src","image","user_icon","job_title","versionNumber","confirmAlert","customUI","removeItem","reload","handleDelete","disabled","publishing_status","url_alias","frameworkDescription","filteredDomains","profileCount","filteredCompetencies","findResponse","versionStatus","vr","domainList","domain_list_DomainList","esm","containers_ProfileList","courses_Courses","_props$match$params","ResourceEdit","csrf","updateFlag","redirectTo","evt","newContent","csrfURL","findresponse2","fetchResource","checkUser","end_date","ResourceEdit_EditForm","EditForm","setRedirect","redirect","handleTitle","handleDates","handleDates2","handleType","handleDesc","handleLocation","handleURL","handleTargetAudience","handleLearningOutcomes","handleKeywords","handleOrganisers","handleTrainers","_this5","cookies","stringify","field_dates","field_end_date","field_description","format","field_location","field_url","field_target_audience","field_learning_outcomes","field_keywords","field_organisers","field_trainers","_this6","handleSubmit","activeClass","contextTypes","router","PropTypes","object","EditResources","react_router","exact","component","FileUpload","es","onDrop","acceptedFiles","reader","FileReader","onabort","onerror","onload","binaryStr","result","getElementById","append","file","readAsArrayBuffer","getRootProps","getInputProps","ResourceCreate","changeDescription","changeTargetAudience","changeLearningOutcomes","changeOrganisers","changeTrainers","token","containers_FileUpload","CreateResources","AttributeMap","frameworkdetails","frameworkUUID","selectedAttributes","resourceDetails","resourcePath","handleSelect","checkedAttributes","attributeIDs","attrmap","childItems","getElementsByName","indexOf","is","lists","each","fetchFrameworkDetails","findresponse1","latest_version","detail","fetchCompetencyList","nextProps","nextState","frameworkDetails","frameworkDefs","domainsOptions","attributeTypeOptions","resDetails","selectedAttributesArray","selectedCompetenciesArray","ikey","attribute_type","data-id","ListOfCompetencies","did","defaultChecked","data-test","handleAllCheck","marginLeft","marginBottom","data-uuid","handleAttributeClick","AttrMap","Modal","setAppElement","ItemVersions","modalIsOpen","openModal","closeModal","onAfterOpen","afterOpenModal","onRequestClose","contentLabel","ResourceDetails","selectedFramework","temp","resourcesURL","findresponse3","margin","frameworkLiveVersion","check_array","isArray","Resource","date","VersionNotice","mappingBlock","overflow","overlayClassName","text-align","toUpperCase","data-close","containers_AttributeMap","selectedCompetencies","ResDetails","ResourcesList","filterType","filterMapping","userid","archiveHandle","author_id","rid","archivedStatus","field_archived","toLocaleLowerCase","some","attribute_archived","competency_archived","ListOfResources","checkAuthor","author","filterTypeHandle","filterMappingHandle","for","Resources","ResourcesHome","ResourcesHomepage","ChangePassword","handlePasswordChange","old","new1","uid","pass","existing","resp","UserView","setUser","setFrameworks","frm","setFrm","field_frameworks","join","mail","About","FrameworkButton","slice","prevVersion","newVersion","data-equalizer-watch","height","logo","data-icon","FrameworkButtons","data-equalizer","framework_button_FrameworkButton","Frameworks","error","framework_buttons_FrameworkButtons","ArticleCreate","createArticle","fid","accept","Content-Disposition","field_image","stringImage","striped","toString","newfile","CreateArticles","CompetencySettings","competencyUUID","competencyTitle","frameworkList","domainID","handleChange","onTextChange","competencyID","setMappingText","versoinManagerURL","selectedDomainID","selectedDomainUUID","field_domain","target_uuid","selectedIndex","competency_title","domain_id","domain_title","domainOptions","domainArray","colSpan","CompetencySettingsRoot","AttributeSettings","attributeID","attributeTypeID","attributeTypeUUID","changeSettings","handleCompetencyChange","handleTypeChange","selectedCompetencyID","field_competency","selectedCompetencyUUID","selectedAttributeTypeID","field_attribute_type","selectedAttributeTypeUUID","attribute_title","attribute_type_id","attribute_type_title","competencyOptions","competencyArray","attributeTypeArray","rowSpan","AttributeSettingsRoot","AttributeDemap","demap","AttributeDemapRoot","frameworkId","frameworkUuid","age","currentRole","gender","jobTitle","qualification","additionalInfo","fileid","field_versions","field_age","field_current_role","field_gender","field_job_title","field_qualification_background","field_publishing_status","profileId","publishStatus","mappingBody","expertise","field_profile_mapping","ProfileService","createProfile","editProfile","mapProfile","current_role","qualification_background","additional_information","existingGuestProfile","profile_mapping","setItem","doc","jsPDF","setFont","qDim","currentDate","moment","currentTime","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","marginright","col","gutter","fifthCol","profileBody","pdfProfileImgHeight","selectedFile","selectedFileData","width","currentYAxis","setFontType","setFontSize","frameworkLogoData","pdfLogoHeight","logoData","addImage","imgData","splitTextToSize","getTextDimensions","fromHTML","h","jobTitleUnderscored","save","ProfileCreate","profileService","setTitle","setAge","setCurrentRole","setGender","_useState9","_useState10","setSelectedFile","_useState11","_useState12","setSelectedFileData","_useState13","_useState14","_useState15","_useState16","imgpreview","setImgpreview","_useState17","_useState18","fileSizeError","setFileSizeError","_useState19","_useState20","fileTypeError","setFileTypeError","_useState21","_useState22","setJobTitle","_useState23","_useState24","setQualification","_useState25","_useState26","setAdditionalInfo","_useState27","_useState28","setFramework","_useState29","_useState30","_useState31","_useState32","setProfile","_useState33","_useState34","setErrorMsgTitle","_useState35","_useState36","setErrorMsgJobTitle","_useState37","_useState38","frameworkMoreData","setFrameworkMoreData","promise1","promise2","data1","data2","response1","response2","sent","storedProfile","bootstrap","_ref4","ver","mapDownloadProfile","mappingAttributes","alias","getWhoCreateProfile","titleCalloutClass","jobTitleCalloutClass","nameHelp","jobTitleHelp","defaultValue","files","URL","createObjectURL","size","img","Image","readAsDataURL","border","padding","clearimgpreview","ckeditor_default","ClassicEditor","onInit","submitButtonLabel","CreateProfile","GuestHelp","modalOpen","backgroundColor","ProfileCreateGuest","_useState39","_useState40","setModelOpen","parseInt","_ref5","abrupt","createGuestProfile","containers_GuestHelp","Path","ProfileView","frameworkInfo","setFrameworkInfo","competencyView","expertise_levels_legend","frameworkFullName","user_roles","getExpertise","obj","o","expertise_levels","level","getBarWidth","rating_level","info","textAlign","data-tip","data-html","data-type","data-multiline","index_es","data-accordion-item","getAttributeStatus","marginTop","search","maxWidth","print","ViewProfile","ProfilesCompareButterfly","isGuestProfile","profile1","profile2","mapping1","mapping2","expertise_array","chart_props","includeSummary","profileid","label","profile1Expertise","profile2Expertise","width1","margin1","width2","floatRight","generateProfileView","textAling","profileJobTitle","handleSummary","handlePrint","ProfilesCompare","profile1Id","profile2Id","setProfile1","setProfile2","setIsGuestProfile","link1","setLink1","link2","setLink2","containers_ProfilesCompareButterfly","sendRoute","ProfileMapDownload","expertiseLevels","setExpertiseLevels","setProfileAttributes","competencyForm","expertise_not_applicable","promiseFramework","promiseVersion","dataFramework","dataVersion","responseFramework","responseVersion","getExpertiseLevels","downloadProfileFromHtml","addCompetencyAttributes","attribute_id","removeCompetencyAttributes","fId","levels","margins","source","profileTitle","elementHandlers","#editor","element","renderer","dispose","setFieldContent","heading","field","__html","jIndex","prop","handleCheckboxMapping","data-competency","htmlFor","expertise_id","tempMap","handleMapping","data-expertise","generateForm","charAt","dangerouslySetInnerHTML","MapProfileDownload","ProfileViewGuest","ViewGuestProfile","ProfileMapGuest","setMapping","mapProfileGuest","checkboxStatus","tempMapping","handleCheckBox","attributesList","checkBoxes","ProfileEdit","setFid","setPublishStatus","objectUrl","EditProfile","ProfileMap","MapProfile","ProfilesCompareSummary","useLocation","summary","setSummary","resourceLink","resourceName","findResources","SummaryPath","loginUrl","logoutUrl","login","_login","current_user","csrf_token","logout_token","Root","handleActiveRequests","hasPendingRequests","detectUserChangesFromOtherTabs","handleLogin","t1","handleLogout","foundationExtendEBI","subcription","build","maxSnack","anchorOrigin","vertical","horizontal","preventDuplicate","masthead_Masthead","Root_ProtectedRoute","condition","ProtectedRoute","objectWithoutProperties","assign","root","ReactDOM","basename","containers_Root","module","exports"],"mappings":"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","file":"static/js/main.7804345b.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './progress-bar.module.css';\r\n\r\nfunction ProgressBar({ isActive }) {\r\n  return (\r\n    <React.Fragment>\r\n      {isActive && (\r\n        <div\r\n          className={`warning progress ${styles.progress}`}\r\n          role=\"progressbar\"\r\n        >\r\n          <div className={`progress-meter ${styles.meter}`} />\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nProgressBar.defaultProps = {\r\n  isActive: false\r\n};\r\n\r\nProgressBar.propTypes = {\r\n  isActive: PropTypes.bool\r\n};\r\n\r\nexport default ProgressBar;\r\n","class HeadersService {\r\n  static instance;\r\n\r\n  constructor() {\r\n    if (HeadersService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    HeadersService.instance = this;\r\n  }\r\n\r\n  get(type = 'hal+json') {\r\n    const csfrToken = window.localStorage.getItem('csrf_token');\r\n    if (type === 'json') {\r\n      return {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': csfrToken,\r\n        Authorization: 'Basic'\r\n      };\r\n    }\r\n\r\n    return {\r\n      Accept: 'application/hal+json',\r\n      'Content-Type': 'application/hal+json',\r\n      'X-CSRF-Token': csfrToken,\r\n      Authorization: 'Basic'\r\n    };\r\n  }\r\n}\r\n\r\nexport default HeadersService;\r\n","import Headers from './headers';\r\nimport axios from 'axios';\r\n\r\nexport const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\naxios.defaults.baseURL = apiUrl;\r\n\r\nclass HttpService {\r\n  static instance;\r\n  headers = new Headers();\r\n\r\n  constructor() {\r\n    if (HttpService.instance) {\r\n      return HttpService.instance;\r\n    }\r\n\r\n    HttpService.instance = this;\r\n  }\r\n\r\n  get(url, credentialType = '') {\r\n    if (credentialType) {\r\n      return axios.get(url, {\r\n        headers: this.headers.get(credentialType),\r\n        withCredentials: true\r\n      });\r\n    }\r\n    return axios.get(url);\r\n  }\r\n\r\n  post(url, body, option = 'hal+json') {\r\n    return axios.post(url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  patch(url, body, option = 'hal+json') {\r\n    return axios.patch(url, body, {\r\n      headers: this.headers.get(option),\r\n      withCredentials: true\r\n    });\r\n  }\r\n}\r\n\r\nexport default HttpService;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { apiUrl } from '../../services/http/http';\r\nimport HttpService from '../../services/http/http';\r\n\r\nconst http = new HttpService();\r\n\r\nconst $ = window.$;\r\n\r\nclass Navigation extends Component {\r\n  navRef = React.createRef();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: this.props.user,\r\n      frameworks: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    $(this.navRef.current).foundation();\r\n    fetch(`${apiUrl}/api/authorisation/${this.state.user}?_format=json`,{\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n        //console.log(findresponse)\r\n      });\r\n  }\r\n\r\n  logout = () => {\r\n    const { onLogout } = this.props;\r\n    onLogout();\r\n  };\r\n\r\n  render() {\r\n    const { roles, user } = this.props;\r\n    const frameworkResources = (\r\n      <li key=\"navigation\">\r\n        <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n          tabIndex=\"0\"\r\n          className=\"dropdown-on-dark-background\"\r\n        >\r\n          Manage Competencies\r\n        </a>\r\n        <ul className=\"menu vertical\">\r\n\r\n        {this.state.frameworks? this.state.frameworks.map(framework => {\r\n          return  <li key={framework}><Link to={`/framework/${framework.toLowerCase().replace(/\\s+/g, '')}/manage/data`}>{framework}</Link></li>\r\n        })\r\n        : <li style={{color:'#000'}}>No Framework assigned to this user.</li>\r\n      }\r\n        </ul>\r\n      </li>\r\n    );\r\n\r\n    const trainingResources = (\r\n      <li key=\"resources\">\r\n        <Link to=\"/all-training-resources\">Manage Training Resources</Link>\r\n      </li>\r\n    );\r\n\r\n    const userDropdown = (\r\n      <li key=\"dropdown-on-light-background\">\r\n        <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n          tabIndex=\"0\"\r\n          className=\"dropdown-on-light-background\"\r\n        >\r\n          <i className=\"fas fa-user\" /> Hi {user}\r\n        </a>\r\n        <ul className=\"menu vertical\">\r\n          <li key=\"myaccount\">\r\n            <Link to={'/user/view'}>My account</Link>\r\n          </li>\r\n          <li key=\"changepwd\">\r\n            <Link to={'/user/change/password'}>Change password</Link>\r\n          </li>\r\n          <li>\r\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n              onClick={this.logout}\r\n            >\r\n              Logout\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    );\r\n\r\n    return (\r\n      <nav ref={this.navRef}>\r\n        <ul\r\n          className=\"dropdown menu float-left\"\r\n          data-dropdown-menu\r\n          data-description=\"navigational\"\r\n        >\r\n          {roles.includes('framework_manager') && frameworkResources}\r\n          {roles.includes('content_manager') && trainingResources}\r\n        </ul>\r\n        <ul\r\n          className=\"dropdown menu float-right\"\r\n          data-dropdown-menu\r\n          data-description=\"user tasks\"\r\n        >\r\n          {userDropdown}\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass LoginForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    username: '',\r\n    password: ''\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  submit = () => {\r\n    const { onSubmit } = this.props;\r\n    const { username, password } = this.state;\r\n    if (username && password) {\r\n      onSubmit(username, password);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <nav>\r\n        {/* The wrapping in an `ul.menu.float-left > li` is necessary for the sticky header to work */}\r\n        <ul className=\"menu float-left small-12\">\r\n          <li className=\"small-12 margin-bottom-large\">\r\n            <label className=\"columns small-4 medium-3 large-2 margin-top-large\">\r\n              <input\r\n                value={username}\r\n                name=\"username\"\r\n                onChange={event => this.onChange(event)}\r\n                type=\"text\"\r\n                autoComplete=\"username\"\r\n                placeholder=\"Username\"\r\n              />\r\n            </label>\r\n            <label className=\"columns small-4 medium-3 large-2 margin-top-large\">\r\n              <input\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={event => this.onChange(event)}\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </label>\r\n            <div className=\"columns small-4 medium-6 large-8 margin-top-large\">\r\n              <button\r\n                className=\"button\"\r\n                type=\"button\"\r\n                onClick={() => this.submit()}\r\n              >\r\n                <i className=\"fa fa-key\" aria-hidden=\"true\" /> Login\r\n              </button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ProgressBar from '../../../shared/components/progress-bar/progress-bar';\r\nimport Navigation from '../navigation/Navigation';\r\nimport LoginForm from '../login-form/LoginForm';\r\n\r\nclass Masthead extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.string.isRequired,\r\n    roles: PropTypes.string.isRequired,\r\n    onLogin: PropTypes.func.isRequired,\r\n    onLogout: PropTypes.func.isRequired\r\n  };\r\n\r\n  onLogin = (username, password) => {\r\n    this.props.onLogin(username, password);\r\n  };\r\n\r\n  onLogout = () => {\r\n    this.props.onLogout();\r\n  };\r\n\r\n  render() {\r\n    const { roles, user, isActive } = this.props;\r\n\r\n    return (\r\n      <div data-sticky-container>\r\n        <header\r\n          id=\"masthead\"\r\n          className=\"masthead\"\r\n          data-sticky\r\n          data-sticky-on=\"large\"\r\n          data-top-anchor=\"main-content-area:top\"\r\n          data-btm-anchor=\"main-content-area:bottom\"\r\n        >\r\n          <div className=\"masthead-inner row\">\r\n            <div className=\"columns medium-12\" id=\"local-title\">\r\n              <h1>\r\n                <Link to=\"/\">Competency Mapper</Link>\r\n              </h1>\r\n            </div>\r\n            {user && roles ? (\r\n              <Navigation roles={roles} user={user} onLogout={this.onLogout} />\r\n            ) : (\r\n              <LoginForm onSubmit={this.onLogin} />\r\n            )}\r\n          </div>\r\n          <ProgressBar isActive={isActive} />\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Masthead;\r\n","import React, { Component } from 'react';\r\n\r\nimport './EditInline.css';\r\n\r\nconst defaultProps = {\r\n  style: {} as Record<string, string | number>,\r\n  text: '',\r\n  change: (newValue: string) => {},\r\n  staticElement: 'div',\r\n  editable: true\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  oriValue: '',\r\n  value: '',\r\n  active: false\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class EditInline extends Component<Props, State> {\r\n  static defaultProps = defaultProps; // No idea why the props are marked as optional (see '!' in the code below)\r\n  readonly state: State = defaultState;\r\n  selfRef = React.createRef<HTMLDivElement>();\r\n  inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  componentDidMount() {\r\n    const { text } = this.props;\r\n    this.setState({ value: text!, oriValue: text! });\r\n    document.addEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.toggleActive);\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props, prevState: State) {\r\n    const { active } = this.state;\r\n    if (active && !prevState.active) {\r\n      // Unable to focus on the input element.\r\n      // this.inputRef.current && this.inputRef.current.focus();\r\n\r\n      // Dirty: The only way I was able to focus on the input element.\r\n      setTimeout(\r\n        () => this.inputRef.current && this.inputRef.current.focus(),\r\n        0\r\n      );\r\n    }\r\n  }\r\n\r\n  toggleActive = (event: MouseEvent) => {\r\n    if (\r\n      this.selfRef.current &&\r\n      this.selfRef.current.contains(event.target as Node)\r\n    ) {\r\n      this.setState({ active: true });\r\n      return;\r\n    }\r\n    this.reset();\r\n  };\r\n\r\n  onChange(value: string) {\r\n    this.setState({ value });\r\n  }\r\n\r\n  reset = () => {\r\n    const { oriValue, active } = this.state;\r\n    if (active) {\r\n      this.setState({ active: false, value: oriValue });\r\n    }\r\n  };\r\n\r\n  submit = () => {\r\n    const { change } = this.props;\r\n    const { value } = this.state;\r\n    change!(value);\r\n    this.setState({ active: false, oriValue: value });\r\n  };\r\n\r\n  render = () => {\r\n    const { style, staticElement, editable } = this.props;\r\n    const { value, active } = this.state;\r\n\r\n    if (!editable) {\r\n      return React.createElement(staticElement!, { style }, value);\r\n    }\r\n\r\n    if (!active) {\r\n      return React.createElement(staticElement!, { style, ref: this.selfRef }, [\r\n        value,\r\n        <>\r\n          <i\r\n            key=\"dummy\"\r\n            className=\"icon icon-common icon-edit icon-left-spacer edit-indicator cursor\"\r\n            aria-label=\"edit\"\r\n          />\r\n          <span className=\"edit-indicator cursor\">Edit</span>\r\n        </>\r\n      ]);\r\n    }\r\n\r\n    return (\r\n      <div className=\"edit-inline-container\" ref={this.selfRef}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"inner-input\"\r\n          value={value}\r\n          onChange={event => this.onChange(event.target.value)}\r\n          ref={this.inputRef}\r\n          // autoFocus={true} // It only works when it is rendered after mounting\r\n        />\r\n        <div className=\"edit-inline-controls\">\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.submit}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-check\"\r\n              aria-label=\"accept changes\"\r\n            />\r\n          </button>\r\n          <button\r\n            className=\"button margin-bottom-none\"\r\n            type=\"button\"\r\n            onClick={this.reset}\r\n          >\r\n            <i\r\n              className=\"icon icon-common icon-undo\"\r\n              aria-label=\"undo changes\"\r\n            />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nconst defaultProps = {\r\n  showMappingField: false\r\n};\r\n\r\ntype Props = {\r\n  title: string;\r\n  placeholder: string;\r\n  options: Record<'description' | 'uuid', string>[];\r\n  onCreate(newValue: string, uuid: string, mapping: string): any;\r\n} & Partial<typeof defaultProps>;\r\n\r\nconst defaultState = {\r\n  description: '',\r\n  uuid: '',\r\n  mapping: ''\r\n};\r\n\r\ntype State = Readonly<typeof defaultState>;\r\n\r\nexport default class SimpleForm extends Component<Props, State> {\r\n  static defaultProps = defaultProps;\r\n  readonly state = defaultState;\r\n\r\n  componentDidMount() {\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  setDefaultOption() {\r\n    const { options } = this.props;\r\n    if (options.length) {\r\n      const { uuid } = options[0];\r\n      this.setState({ uuid });\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.setState(defaultState);\r\n    this.setDefaultOption();\r\n  }\r\n\r\n  onChange = (event: React.FormEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    event.preventDefault();\r\n    const { value } = event.currentTarget;\r\n    const name = event.currentTarget.name;\r\n    // https://github.com/Microsoft/TypeScript/issues/13948\r\n    if (name === 'uuid') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'description') {\r\n      this.setState({ [name]: value });\r\n    }\r\n    if (name === 'mapping') {\r\n      this.setState({ [name]: value });\r\n    }\r\n  };\r\n\r\n  onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const { onCreate } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    if (description.trim() && uuid) {\r\n      onCreate(description, uuid, mapping);\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { title, placeholder, options, showMappingField } = this.props;\r\n    const { description, uuid, mapping } = this.state;\r\n\r\n    const selectOptions = options.map(({ description, uuid }) => (\r\n      <option key={uuid} value={uuid}>\r\n        {description}\r\n      </option>\r\n    ));\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"callout\">\r\n        <h4>{title}</h4>\r\n        <div className=\"row\">\r\n          <div className=\"column large-7\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder={placeholder}\r\n              name=\"description\"\r\n              value={description}\r\n              required\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div className=\"column large-3\">\r\n            <select name=\"uuid\" value={uuid} required onChange={this.onChange}>\r\n              {selectOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"column large-2\">\r\n            <input type=\"submit\" className=\"button\" value=\"Create\" />\r\n          </div>\r\n          {showMappingField ? (\r\n            <div className=\"column\">\r\n              <label>\r\n                Maps to competency/attribute from other framework\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Framework (version), competency or attribute\"\r\n                  name=\"mapping\"\r\n                  value={mapping}\r\n                  onChange={this.onChange}\r\n                />\r\n              </label>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst defaultProps = {\r\n  message: 'Sorry, there was a problem when fetching the data!',\r\n  style: {} as Record<string, string | number>\r\n};\r\n\r\ntype Props = Partial<typeof defaultProps>;\r\n\r\nexport const ErrorLoading: React.FC<Props> = ({ message, style }) => {\r\n  return (\r\n    <div className=\"margin-top-large callout alert\" style={style}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nErrorLoading.defaultProps = defaultProps;\r\n\r\nexport default ErrorLoading;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport Parser from 'html-react-parser';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  versions: Version[];\r\n  framework: string;\r\n  style: string;\r\n};\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)'\r\n  }\r\n};\r\n\r\nexport const FrameworkVersion: React.FC<Props> = ({ versions, framework }) => {\r\n  const [showNotes, setShowNotes] = useState(false);\r\n  const [notes, setNotes] = useState('');\r\n\r\n  let versionNumber = '';\r\n\r\n  const versionItems = versions\r\n    .filter(version => version.number !== 'draft')\r\n    .map(version => (\r\n      <li key={version.id}>\r\n        <Link to={`/framework/${framework}/${version.number}`}>\r\n          {version.number}\r\n        </Link>{' '}\r\n        <button\r\n          className=\"anchor-like\"\r\n          onClick={() => {\r\n            setNotes('Version: ' + version.number + version.release_notes);\r\n            setShowNotes(true);\r\n          }}\r\n        >\r\n          (release notes)\r\n        </button>\r\n      </li>\r\n    ));\r\n\r\n  return (\r\n    <>\r\n      <Modal isOpen={showNotes} style={customStyles}>\r\n        <h4>Release notes for {framework} </h4>\r\n        {Parser(notes)}\r\n        {versionItems}\r\n        <div className=\"padding-top-large\">\r\n          <button\r\n            className=\"button\"\r\n            onClick={() => {\r\n              setNotes('');\r\n              setShowNotes(false);\r\n            }}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n      <div className=\"callout\">\r\n        <h5>Framework versions</h5>\r\n        {versions.length === 0 ? (\r\n          'No previous versions'\r\n        ) : (\r\n          <ul>{versionItems}</ul>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FrameworkVersion;\r\n","import { apiUrl } from '../http/http';\r\n\r\nclass BodyService {\r\n  static createCompetency({\r\n    description,\r\n    domainId,\r\n    domainUuid,\r\n    mapping = '',\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/competency`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${apiUrl}/node/${domainId}?_format=hal_json`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'competency'\r\n        }\r\n      ],\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      _embedded: {\r\n        [`${apiUrl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static createAttribute({\r\n    description,\r\n    attributeTypeId,\r\n    attributeTypeUuid,\r\n    competencyId,\r\n    competencyUuid,\r\n    draftId,\r\n    draftUuid\r\n  }) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/attribute`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${apiUrl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            href: `http://local.competency-mapper/taxonomy/term/${draftId}?_format=hal_json`\r\n          }\r\n        ]\r\n      },\r\n      title: [\r\n        {\r\n          value: description\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: 'attribute'\r\n        }\r\n      ],\r\n\r\n      _embedded: {\r\n        [`${apiUrl}/rest/relation/node/competency/field_versions`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/taxonomy/term/${draftId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/taxonomy_term/version`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: draftUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ],\r\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ],\r\n            lang: 'en'\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static mutateCompetency(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateCompetencyPosition(key, value) {\r\n    return BodyService.mutate(key, value, 'competency');\r\n  }\r\n\r\n  static mutateAttribute(key, value) {\r\n    return BodyService.mutate(key, value, 'attribute');\r\n  }\r\n\r\n  static mutateDomain(key, value) {\r\n    return BodyService.mutate(key, value, 'domain');\r\n  }\r\n\r\n  static mutate(key, value, target) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/${target}`\r\n        }\r\n      },\r\n      [key]: [\r\n        {\r\n          value: value\r\n        }\r\n      ],\r\n      type: [\r\n        {\r\n          target_id: target\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static publishFramework(framework, version, releaseNotes) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: releaseNotes\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: version\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createDraftFramework(framework) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      title: [\r\n        {\r\n          value: 'draft'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static toggleArchivingVersionedNode(framework, nodeId) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: framework\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: nodeId\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static updateReleaseNotes(notes) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href:\r\n            //'https://dev-competency-mapper.pantheonsite.io/rest/type/taxonomy_term/version'\r\n            `${apiUrl}/rest/type/taxonomy_term/version`\r\n        }\r\n      },\r\n      vid: [\r\n        {\r\n          target_id: 'version'\r\n        }\r\n      ],\r\n      field_release_notes: [\r\n        {\r\n          value: notes\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  // Change domain service\r\n\r\n  static changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${apiUrl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/competency`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: {\r\n          href: `${apiUrl}/node/${domainId}?_format=hal_json`\r\n        }\r\n      },\r\n      field_map_other_competency: [\r\n        {\r\n          value: mapping\r\n        }\r\n      ],\r\n      type: {\r\n        target_id: 'competency'\r\n      },\r\n      _embedded: {\r\n        [`${apiUrl}/rest/relation/node/competency/field_domain`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${domainId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/domain`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: domainUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  // Change competency service\r\n\r\n  static changeAttributeSettings(\r\n    attribuiteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    return {\r\n      _links: {\r\n        self: {\r\n          href: `${apiUrl}/node/${attribuiteId}?_format=hal_json`\r\n        },\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/attribute`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: {\r\n          href: `${apiUrl}/node/${competencyId}?_format=hal_json`\r\n        },\r\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: {\r\n          href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\r\n        }\r\n      },\r\n      type: {\r\n        target_id: 'attribute'\r\n      },\r\n      _embedded: {\r\n        [`${apiUrl}/rest/relation/node/attribute/field_competency`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${competencyId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/competency`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: competencyUuid\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        [`${apiUrl}/rest/relation/node/attribute/field_attribute_type`]: [\r\n          {\r\n            _links: {\r\n              self: {\r\n                href: `${apiUrl}/node/${attributeTypeId}?_format=hal_json`\r\n              },\r\n              type: {\r\n                href: `${apiUrl}/rest/type/node/attribute_type`\r\n              }\r\n            },\r\n            uuid: [\r\n              {\r\n                value: attributeTypeUuid\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  }\r\n\r\n  static editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    return {\r\n      _links: {\r\n        type: {\r\n          href: `${apiUrl}/rest/type/node/training_resource`\r\n        }\r\n      },\r\n      title: [\r\n        {\r\n          value: title\r\n        }\r\n      ],\r\n\r\n      type: [\r\n        {\r\n          target_id: 'training_resource'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static createBulkData(parentID, versionID, newData, type, addtional) {\r\n    return {\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: newData\r\n        }\r\n      ],\r\n      field_parent: [\r\n        {\r\n          value: parentID\r\n        }\r\n      ],\r\n      field_item: [\r\n        {\r\n          value: versionID\r\n        }\r\n      ],\r\n      field_type: [\r\n        {\r\n          value: type\r\n        }\r\n      ],\r\n      field_additional_information: [\r\n        {\r\n          value: addtional\r\n        }\r\n      ],\r\n\r\n    };\r\n  }\r\n\r\n  static saveSorting(items){\r\n    return{\r\n      type: [\r\n        {\r\n          target_id: 'article'\r\n        }\r\n      ],\r\n      body: [\r\n        {\r\n          value: items\r\n        }\r\n      ],\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport default BodyService;\r\n","import HttpService from '../http/http';\r\nimport Body from './body';\r\n\r\nclass CompetencyService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor() {\r\n    if (CompetencyService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CompetencyService.instance = this;\r\n  }\r\n\r\n  async getFramework(framework) {\r\n    const response = await this.http.get(\r\n      `/api/v1/framework/${framework}?_format=json`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedDraftFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/edit?_format=json&timestamp=${Date.now()}`,\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getVersionedFramework(framework, version) {\r\n    const response = await this.http.get(\r\n      `/api/${framework}/${version}?_format=json&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async getAllFrameworks() {\r\n    const response = await this.http.get(`/api/v1/framework?_format=json`);\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async getAllVersionedFrameworks() {\r\n    const response = await this.http.get(\r\n      `/api/version_manager?_format=json&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createAttribute(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createAttribute(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async createCompetency(options) {\r\n    const response = await this.http.post(\r\n      `/node?_format=hal_json`,\r\n      Body.createCompetency(options)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetency(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetency(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchDomain(domainId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${domainId}?_format=hal_json`,\r\n      Body.mutateDomain(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchCompetencyPosition(competencyId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.mutateCompetencyPosition(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  // TODO: change name\r\n  async toggleArchivingVersionedNode(framework, nodeId) {\r\n    const response = await this.http.patch(\r\n      `/api/${framework}/edit?_format=json`,\r\n      Body.toggleArchivingVersionedNode(framework, nodeId),\r\n      'json'\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttribute(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async patchAttributePosition(attributeId, key, value) {\r\n    const response = await this.http.patch(\r\n      `/node/${attributeId}?_format=hal_json`,\r\n      Body.mutateAttribute(key, value)\r\n    );\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async publishFramework(framework, version, releaseNotes) {\r\n    const response = await this.http.patch(\r\n      '/api/version_manager?_format=json',\r\n      Body.publishFramework(framework, version, releaseNotes),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createDraftFramework(framework) {\r\n    const response = await this.http.post(\r\n      '/api/version_manager?_format=json',\r\n      Body.createDraftFramework(framework),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async updateReleaseNotes(notes, versionId) {\r\n    const response = await this.http.patch(\r\n      `/taxonomy/term/${versionId}?_format=hal_json`,\r\n      Body.updateReleaseNotes(notes)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeDomain(competencyId, domainId, domainUuid, mapping) {\r\n    const response = await this.http.patch(\r\n      `/node/${competencyId}?_format=hal_json`,\r\n      Body.changeDomain(competencyId, domainId, domainUuid, mapping)\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async editResource(\r\n    resourceID,\r\n    title,\r\n    dates,\r\n    dates2,\r\n    type,\r\n    description,\r\n    location,\r\n    url,\r\n    target_audience,\r\n    learning_outcomes,\r\n    keywords,\r\n    organisers,\r\n    trainers\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${resourceID}?_format=hal_json`,\r\n      Body.editResource(\r\n        resourceID,\r\n        title,\r\n        dates,\r\n        dates2,\r\n        type,\r\n        description,\r\n        location,\r\n        url,\r\n        target_audience,\r\n        learning_outcomes,\r\n        keywords,\r\n        organisers,\r\n        trainers\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async changeAttributeSettings(\r\n    attribiuteId,\r\n    competencyId,\r\n    competencyUuid,\r\n    attributeTypeId,\r\n    attributeTypeUuid\r\n  ) {\r\n    const response = await this.http.patch(\r\n      `/node/${attribiuteId}?_format=hal_json`,\r\n      Body.changeAttributeSettings(\r\n        attribiuteId,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid\r\n      )\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async demap(resource, items) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&items=` +\r\n        items +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async attrmap(resource, attributes) {\r\n    const response = await this.http.get(\r\n      `/api/mapping?_format=hal_json&resource=` +\r\n        resource +\r\n        `&attributes=` +\r\n        attributes +\r\n        `&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async createBulkData(parentID, versionID, newData, type, addtional) {\r\n    const response = await this.http.post(\r\n      '/api/data_manager?_format=json',\r\n      Body.createBulkData(parentID, versionID, newData, type, addtional),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n  async saveSorting(items){\r\n    const response = await this.http.patch(\r\n      '/api/data_manager?_format=json',\r\n      Body.saveSorting(items),\r\n      'json'\r\n    );\r\n    return response.data;\r\n  }\r\n\r\n}\r\n\r\nexport default CompetencyService;\r\n","class ActiveRequestsService {\r\n  static instance;\r\n  counter = 0;\r\n  callbacks = [];\r\n\r\n  get isActive() {\r\n    return !!this.counter;\r\n  }\r\n\r\n  constructor() {\r\n    if (ActiveRequestsService.instance) {\r\n      return ActiveRequestsService.instance;\r\n    }\r\n\r\n    ActiveRequestsService.instance = this;\r\n  }\r\n\r\n  addEventListener(fn) {\r\n    return this.callbacks.push(fn);\r\n  }\r\n\r\n  removeEventListener(index) {\r\n    return delete this.callbacks[index - 1];\r\n  }\r\n\r\n  startRequest() {\r\n    if (this.counter === 0) {\r\n      this.callbacks.forEach(fn => fn && fn(true));\r\n    }\r\n    ++this.counter;\r\n  }\r\n\r\n  finishRequest() {\r\n    if (this.counter === 1) {\r\n      this.callbacks.forEach(fn => fn && fn(false));\r\n    }\r\n\r\n    if (this.counter > 0) {\r\n      --this.counter;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ActiveRequestsService;\r\n","// In modern browser (es2018), instead of `reduce` it is possible to call `flat`\r\nexport const safeFlat = array =>\r\n  Array.prototype.flat\r\n    ? array.flat()\r\n    : array.reduce((acc, cur) => [...acc, ...cur], []);\r\n\r\nconst tagsReg = new RegExp('</?.+?/?>', 'g');\r\nconst nbspReg = /&nbsp;/g;\r\n\r\nexport const removeHtmlTags = (htmlString, replaceBy = '') =>\r\n  htmlString.replace(tagsReg, replaceBy).replace(nbspReg, ' ');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat } from '../services/util/util';\r\n\r\nclass ManageAttributes extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    // framework level\r\n    framework: this.props.match.params.framework,\r\n    frameworkName: '',\r\n    frameworkVersion: '',\r\n    frameworStatus: '',\r\n    attributeTypes: [], // defined at framework level\r\n    versions: [],\r\n\r\n    // domain level\r\n    domainId: '',\r\n    domainName: '',\r\n\r\n    // competency level\r\n    competencyId: this.props.match.params.cid,\r\n    competencyUuid: '',\r\n    competencyName: '',\r\n    competencyData: [],\r\n\r\n    path: this.props.location.pathname.split('/'),\r\n\r\n    loadingError: false,\r\n    editable: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scroll(0, 0);\r\n    this.loadData();\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions() {\r\n    const { framework } = this.state;\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const attributeTypes = currentFramework[0].attribute_types.map(\r\n        attribute => ({ description: attribute.title, uuid: attribute.uuid })\r\n      );\r\n      this.setState({\r\n        versions: currentFramework[0].versions.reverse(),\r\n        attributeTypes\r\n      });\r\n    }\r\n  }\r\n\r\n  async fetchFramework() {\r\n    const { framework, versions, competencyId } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    const competencyMatch = this.filterByCompetencyId(\r\n      frameworkData,\r\n      competencyId\r\n    );\r\n\r\n    if (competencyMatch.length) {\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        domainName: competencyMatch[0].domainTitle,\r\n        domainId: competencyMatch[0].domainId,\r\n        competencyUuid: competencyMatch[0].uuid,\r\n        competencyName: competencyMatch[0].title,\r\n        competencyData: competencyMatch[0],\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  filterByCompetencyId(data, id) {\r\n    return safeFlat(\r\n      data.map(item =>\r\n        safeFlat(\r\n          item.domains.map(domain =>\r\n            domain.competencies\r\n              .filter(competency => competency.id === id)\r\n              .map(competency => {\r\n                competency.domainTitle = domain.title;\r\n                competency.domainId = domain.nid;\r\n                return competency;\r\n              })\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  createAttribute = async (description, attributeTypeUuid, mapping) => {\r\n    const {\r\n      competencyId,\r\n      competencyUuid,\r\n      attributeTypes,\r\n      versions\r\n    } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const attributeTypeId = attributeTypes.find(\r\n        attribute => attribute.uuid === attributeTypeUuid\r\n      ).id;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createAttribute({\r\n        description,\r\n        competencyId,\r\n        competencyUuid,\r\n        attributeTypeId,\r\n        attributeTypeUuid,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editAttribute(attributeId, title) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(attributeId, 'title', title);\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editAttributePosition(attributeId, position) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttributePosition(\r\n        attributeId,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(attributeId, isArchived) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchAttribute(\r\n        attributeId,\r\n        'field_archived',\r\n        isArchived === '1' ? false : true\r\n      );\r\n      await this.fetchFramework();\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  getAttributeRows(attributeType) {\r\n    const { competencyData, editable } = this.state;\r\n\r\n    return competencyData.attributes\r\n      .filter(attribute => attribute.type === attributeType.description)\r\n      .map(attribute => {\r\n        if (editable) {\r\n          return (\r\n            <tr key={attribute.uuid}>\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.title}\r\n                  change={newValue =>\r\n                    this.editAttribute(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n                <InlineEdit\r\n                  text={attribute.field_number}\r\n                  change={newValue =>\r\n                    this.editAttributePosition(attribute.id, newValue)\r\n                  }\r\n                  editable={attribute.archived === '1' ? false : true}\r\n                />\r\n              </td>\r\n\r\n              <td>\r\n                <button\r\n                  className=\"cursor\"\r\n                  onClick={() =>\r\n                    this.toggleArchive(attribute.id, attribute.archived)\r\n                  }\r\n                >\r\n                  {attribute.archived === '1' ? (\r\n                    <span className=\"fas fa-toggle-on\">\r\n                      <span>Archived</span>\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"fas fa-toggle-off\" />\r\n                  )}\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <Link\r\n                  to={`/framework/${this.state.framework}/competency/${\r\n                    this.state.competencyId\r\n                  }/attribute/${attribute.id}/settings`}\r\n                >\r\n                  <i class=\"fas fa-cog\" />\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          );\r\n        }\r\n\r\n        if (attribute.archived === '1') {\r\n          return null;\r\n        }\r\n        return (\r\n          <tr key={attribute.uuid}>\r\n            <td className={attribute.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={attribute.title}\r\n                change={newValue => this.editAttribute(attribute.id, newValue)}\r\n                editable={editable}\r\n              />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n  }\r\n\r\n  getAttributeList() {\r\n    const { attributeTypes, editable } = this.state;\r\n    return attributeTypes.map(attributeType => (\r\n      <React.Fragment key={attributeType.uuid}>\r\n        <tr className=\"secondary-background-important white-color\">\r\n          <td>\r\n            <strong>\r\n              <em>{attributeType.description}</em>\r\n            </strong>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getAttributeRows(attributeType)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      attributeTypes,\r\n      versions,\r\n      domainId,\r\n      domainName,\r\n      competencyName,\r\n      competencyData,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (competencyData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage attributes</h2>\r\n        <h4>\r\n          <Link to={`/framework/${framework}/manage/competencies`}>\r\n            {frameworkName}\r\n          </Link>\r\n          {' / '}\r\n          <Link to={`/framework/${framework}/manage/competencies/${domainId}`}>\r\n            {domainName}\r\n          </Link>\r\n          {' / '}\r\n          {competencyName}\r\n        </h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new attribute\"\r\n            placeholder=\"Attribute description\"\r\n            options={attributeTypes}\r\n            onCreate={this.createAttribute}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getAttributeList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageAttributes);\r\n","import React, { FC, useState } from 'react';\r\n\r\nimport Modal from 'react-modal';\r\nimport CKEditor from 'react-ckeditor-component';\r\n\r\nimport { Version } from '../../../models/version';\r\n\r\ntype Props = {\r\n  release(version: string, notes: string): void;\r\n  updateNotes(notes: string): void;\r\n  createDraft(): void;\r\n  versions: Version[];\r\n  editable: false;\r\n};\r\n\r\nexport const VersionControls: React.FC<Props> = ({\r\n  release,\r\n  updateNotes,\r\n  createDraft,\r\n  versions,\r\n  editable\r\n}) => {\r\n  const liveVersion = versions.reduce((prev, curr) => {\r\n    if (curr.status === 'live') {\r\n      return curr.number;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const originalNotes = versions.reduce((prev, curr) => {\r\n    if (curr.number === 'draft') {\r\n      return curr.release_notes;\r\n    }\r\n    return prev;\r\n  }, '');\r\n\r\n  const [version, setVersion] = useState('');\r\n  const [notes, setNotes] = useState(originalNotes);\r\n  const [pressedRelease, setPressedRelease] = useState(false);\r\n  const [pressedNotes, setPressedNotes] = useState(false);\r\n\r\n  const reset = () => {\r\n    setVersion('');\r\n    setPressedRelease(false);\r\n  };\r\n\r\n  const publish = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    const cleanNotes = notes.trim();\r\n    if (pressedRelease && version && cleanNotes) {\r\n      release(version, cleanNotes);\r\n      reset();\r\n    }\r\n  };\r\n\r\n  if (editable) {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={pressedNotes}>\r\n          <CKEditor\r\n            content={notes}\r\n            events={{\r\n              change: (event: any) => setNotes(event.editor.getData())\r\n            }}\r\n          />\r\n          <div className=\"padding-top-large\">\r\n            <span className=\"padding-right-small\">\r\n              <button\r\n                className=\"button\"\r\n                onClick={() => {\r\n                  setNotes(originalNotes);\r\n                  setPressedNotes(false);\r\n                }}\r\n              >\r\n                Close\r\n              </button>\r\n            </span>\r\n            <button\r\n              className=\"button\"\r\n              onClick={() => {\r\n                updateNotes(notes);\r\n                setPressedNotes(false);\r\n              }}\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n        <Modal isOpen={pressedRelease}>\r\n          <form onSubmit={publish}>\r\n            <label>\r\n              Version{' '}\r\n              {liveVersion\r\n                ? `(live version ${liveVersion})`\r\n                : '(no live version)'}\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"1.0.0\"\r\n                value={version}\r\n                required\r\n                onChange={event => setVersion(event.currentTarget.value.trim())}\r\n              />\r\n            </label>\r\n            <CKEditor\r\n              content={notes}\r\n              events={{\r\n                change: (event: any) => setNotes(event.editor.getData())\r\n              }}\r\n            />\r\n            <div className=\"padding-top-large\">\r\n              <span className=\"padding-right-small\">\r\n                <button className=\"button\" onClick={reset}>\r\n                  Cancel\r\n                </button>\r\n              </span>\r\n              <button className=\"button\" type=\"submit\">\r\n                Publish\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n        <span className=\"padding-right-small\">\r\n          <button className=\"button secondary\" onClick={() => setPressedRelease(true)}>\r\n            Release new version <i className=\"icon icon-common icon-send\"></i>\r\n          </button>\r\n        </span>\r\n        <button className=\"button secondary\" onClick={() => setPressedNotes(true)}>\r\n          Update release notes <i className=\"icon icon-common icon-edit\"></i>\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"padding-right-small\">\r\n        <button className=\"button\" onClick={() => createDraft()}>\r\n          Create draft\r\n        </button>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VersionControls;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\r\nimport SimpleForm from '../containers/simple-form/SimpleForm';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\nimport VersionControls from '../containers/version-controls/VersionControls';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\n\r\nclass ManageCompetencies extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkName: '',\r\n    frameworkData: [],\r\n    frameworkVersion: '',\r\n    frameworkVersionId: '',\r\n    frameworkStatus: '',\r\n    competencyTypes: [],\r\n    versions: [],\r\n    loadingError: false,\r\n    editable: false,\r\n    allowedFrms:[]\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework } = props.match.params;\r\n    if (framework !== state.framework) {\r\n      return {\r\n        framework,\r\n        frameworkData: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, domainId } = this.props.match.params;\r\n    await this.loadData(framework);\r\n\r\n    if (domainId) {\r\n      setTimeout(() => {\r\n        const ref = this.refs[domainId];\r\n        if (ref) {\r\n          ref.scrollIntoView();\r\n        }\r\n      }, 100);\r\n    }\r\n\r\n    // fetch(`https://dev-competency-mapper.pantheonsite.io/api/authorisation/cath?_format=json`,{\r\n    //   method: 'GET',\r\n    //   credentials: 'include'\r\n    // })\r\n    // .then(Response => Response.json())\r\n    // .then(findResponse => \r\n    //   this.setState({allowedFrms: findResponse})\r\n    // );\r\n    \r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkData, loadingError } = this.state;\r\n    if (framework !== prevState.framework) {\r\n      if (frameworkData.length === 0 && !loadingError) {\r\n        this.loadData(framework);\r\n      }\r\n    }\r\n  }\r\n\r\n  async loadData(framework) {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.fetchVersions(framework);\r\n      await this.fetchFramework(framework);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  async fetchFramework(framework) {\r\n    const { versions } = this.state;\r\n    const liveVersion = versions.filter(version => version.status === 'live');\r\n    const draftVersion = versions.filter(version => version.status === 'draft');\r\n    let frameworkData = [];\r\n    let editable = false;\r\n    if (draftVersion.length) {\r\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\r\n        framework\r\n      );\r\n      this.setState({ frameworkVersionId: draftVersion[0].id });\r\n      editable = true;\r\n    } else {\r\n      if (liveVersion.length) {\r\n        frameworkData = await this.competencyService.getVersionedFramework(\r\n          framework,\r\n          liveVersion[0].number\r\n        );\r\n      }\r\n    }\r\n\r\n    if (frameworkData.length) {\r\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\r\n        description: domain.title,\r\n        uuid: domain.uuid\r\n      }));\r\n      this.setState({\r\n        frameworkName: frameworkData[0].title,\r\n        frameworkData,\r\n        frameworkVersion: frameworkData[0].version,\r\n        frameworkStatus: frameworkData[0].status,\r\n        competencyTypes,\r\n        editable\r\n      });\r\n    }\r\n  }\r\n\r\n  createCompetency = async (description, domainUuid, mapping) => {\r\n    const { framework, frameworkData, versions } = this.state;\r\n    const draftVersion = versions.filter(version => version.number === 'draft');\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const domainId = frameworkData[0].domains.find(\r\n        domain => domain.uuid === domainUuid\r\n      ).nid;\r\n      const draftId = draftVersion[0].id;\r\n      const draftUuid = draftVersion[0].uuid;\r\n      await this.competencyService.createCompetency({\r\n        description,\r\n        domainId,\r\n        domainUuid,\r\n        mapping,\r\n        draftId,\r\n        draftUuid\r\n      });\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  async editCompetency(cid, title) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetency(cid, 'title', title);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async editCompetencyPosition(cid, position) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.patchCompetencyPosition(\r\n        cid,\r\n        'field_number',\r\n        position\r\n      );\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async toggleArchive(cid, isArchived) {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.toggleArchivingVersionedNode(framework, cid);\r\n      await this.fetchFramework(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  releaseNewVersion = async (version, notes) => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.publishFramework(framework, version, notes);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  updateNotes = async notes => {\r\n    const { framework, frameworkVersionId } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.updateReleaseNotes(\r\n        notes,\r\n        frameworkVersionId\r\n      );\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  createDraft = async () => {\r\n    const { framework } = this.state;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await this.competencyService.createDraftFramework(framework);\r\n      this.loadData(framework);\r\n    } catch (e) {\r\n      this.props.enqueueSnackbar('Unable to perform the request', {\r\n        variant: 'error'\r\n      });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  };\r\n\r\n  getCompetencyList() {\r\n    const { frameworkData, editable } = this.state;\r\n    return frameworkData[0].domains.map(domain => (\r\n      <React.Fragment key={domain.nid}>\r\n        <tr\r\n          className=\"secondary-background-important white-color\"\r\n          ref={domain.nid}\r\n        >\r\n          <td>\r\n            <h4>{domain.title}</h4>\r\n          </td>\r\n          {editable && <td className=\"small-1\">Position</td>}\r\n          {editable && <td className=\"small-1\">Archive</td>}\r\n          <td>Attributes</td>\r\n          {editable && <td className=\"small-1\">Settings</td>}\r\n        </tr>\r\n        {this.getCompetencyRows(domain.competencies)}\r\n      </React.Fragment>\r\n    ));\r\n  }\r\n\r\n  getCompetencyRows(competencies) {\r\n    const { framework, editable } = this.state;\r\n    return competencies.map(competency => {\r\n      if (editable) {\r\n        return (\r\n          <tr key={competency.id}>\r\n            <td className={competency.archived === '1' ? 'strikeout' : ''}>\r\n              <InlineEdit\r\n                text={competency.title}\r\n                change={newValue =>\r\n                  this.editCompetency(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n            <td>\r\n              <InlineEdit\r\n                text={competency.position}\r\n                change={newValue =>\r\n                  this.editCompetencyPosition(competency.id, newValue)\r\n                }\r\n                editable={competency.archived === '1' ? false : true}\r\n              />\r\n            </td>\r\n\r\n            <td>\r\n              <button\r\n                className=\"cursor\"\r\n                onClick={this.toggleArchive.bind(\r\n                  this,\r\n                  competency.id,\r\n                  competency.archived\r\n                )}\r\n              >\r\n                {competency.archived === '1' ? (\r\n                  <span className=\"fas fa-toggle-on\">\r\n                    <span>Archived</span>\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"fas fa-toggle-off\" />\r\n                )}\r\n              </button>\r\n            </td>\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/manage/competencies/${\r\n                  competency.id\r\n                }/manage-attributes`}\r\n              >\r\n                <i className=\"fas fa-sitemap\" />\r\n              </Link>\r\n            </td>\r\n\r\n            <td>\r\n              <Link\r\n                to={`/framework/${framework}/competency/${\r\n                  competency.id\r\n                }/settings`}\r\n              >\r\n                <i class=\"fas fa-cog\" />\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        );\r\n      }\r\n\r\n      if (competency.archived === '1') {\r\n        return null;\r\n      }\r\n\r\n      return (\r\n        <tr key={competency.id}>\r\n          <td>\r\n            <InlineEdit\r\n              text={competency.title}\r\n              change={newValue => this.editCompetency(competency.id, newValue)}\r\n              editable={editable}\r\n            />\r\n          </td>\r\n          <td>\r\n            <Link\r\n              to={`/framework/${framework}/manage/competencies/${\r\n                competency.id\r\n              }/manage-attributes`}\r\n            >\r\n              <i className=\"fas fa-sitemap\" />\r\n            </Link>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // if(this.state.allowedFrms.length > 0){\r\n    //   if(this.state.allowedFrms.indexOf(this.state.framework) == -1){        \r\n    //     return(<h4 className=\"callout warning\"> <i class=\"icon icon-common icon-exclamation-triangle\"></i> You are not authorised to manage this framework </h4> );\r\n    //   }\r\n    // }\r\n    \r\n\r\n    const {\r\n      framework,\r\n      frameworkName,\r\n      frameworkData,\r\n      frameworkVersion,\r\n      frameworkStatus,\r\n      competencyTypes,\r\n      versions,\r\n      loadingError,\r\n      editable\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    if (frameworkData.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <h2>Manage framework</h2>\r\n        <h4>{frameworkName}</h4>\r\n\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\">\r\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\r\n          </span>\r\n        </p>\r\n\r\n        <VersionControls\r\n          editable={editable}\r\n          createDraft={this.createDraft}\r\n          versions={versions}\r\n          release={this.releaseNewVersion}\r\n          updateNotes={this.updateNotes}\r\n        />\r\n\r\n        {editable && (\r\n          <SimpleForm\r\n            title=\"Create new competency\"\r\n            placeholder=\"Competency description\"\r\n            options={competencyTypes}\r\n            onCreate={this.createCompetency}\r\n            showMappingField={true}\r\n          />\r\n        )}\r\n\r\n        <table>\r\n          <tbody>{this.getCompetencyList()}</tbody>\r\n        </table>\r\n\r\n        <FrameworkVersions framework={framework} versions={versions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(ManageCompetencies);\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageAttribute extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      parentID: '',\n      parentTitle: '',\n      showAttributeModal: '',\n      attributeType: '',\n      attributeTypeTitle: '',\n      newAttributes: '',\n      competency: [],\n      typetitle: ''\n    };\n    this.handleOpenAttributeModal = this.handleOpenAttributeModal.bind(this);\n    this.handleCloseAttributeModal = this.handleCloseAttributeModal.bind(this);\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n    //this.archiveAttribute = this.archiveAttribute.bind(this);\n  }\n\n  OpenModalPosition(e, competency) {\n    this.setState({ showModalPosition: true });\n    this.setState({ competency: competency });\n    this.setState({ typetitle: e.target.dataset.typetitle });\n    console.log(e.target.dataset.typetitle);\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  handleOpenAttributeModal(e) {\n    this.setState({ showAttributeModal: true });\n    this.setState({ parentID: e.target.dataset.competencyid });\n    this.setState({ parentTitle: e.target.dataset.competencytitle });\n    this.setState({ attributeType: e.target.dataset.attributetype });\n    this.setState({ attributeTypeTitle: e.target.dataset.typetitle });\n\n    e.preventDefault();\n  }\n\n  handleCloseAttributeModal() {\n    this.setState({ showAttributeModal: false });\n  }\n\n  async editAttribute(aid, title) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(aid, 'title', title);\n      await loadData(framework);\n      this.props.enqueueSnackbar('Attribute updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  setAttributes(e) {\n    this.setState({ newAttributes: e.target.value });\n    console.log(e.target.value);\n  }\n\n  async saveAttributes(e) {\n    const { frameworkData, framework, loadData } = this.props;\n    const { newAttributes, attributeType, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newAttributes;\n    let type = 'attribute';\n    let addtional = attributeType;\n    let response = '';\n    try {\n      //this.activeRequests.startRequest();\n      response = this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      console.log(response);\n      loadData(framework);\n      this.props.enqueueSnackbar('Attributes created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n    e.preventDefault();\n    this.handleCloseAttributeModal();\n  }\n\n  async archiveAttribute(attribute, isArchived) {\n    const { framework, loadData } = this.props;\n\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        attribute\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Attribute status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.competency.attributes;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.id));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework, frameworkData } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getAttributes(frameworkDef, frameworkData, competency, domain, editableFrm) {\n    return frameworkDef.map(def => (\n      <div className=\"row\">\n        <div className=\"column medium-12\">\n          <li className=\"attribute_type\">\n            <h4>{def.title}</h4>\n            <span style={{ display: 'flex' }}>\n              {editableFrm === true ? (\n                <button\n                  className=\"addButton\"\n                  data-competencyid={competency.id}\n                  data-competencytitle={competency.title}\n                  data-typetitle={def.title}\n                  data-attributetype={def.id}\n                  title=\"Add attributes\"\n                  onClick={e => this.handleOpenAttributeModal(e)}\n                >\n                  Add {def.title}{' '}\n                  <i className=\"icon icon-common icon-plus-circle\" />\n                </button>\n              ) : (\n                ''\n              )}\n            </span>\n\n            <ul>\n              {competency.attributes.map(attr => {\n                if (attr.type === def.title)\n                  return (\n                    <li\n                      key={attr.id}\n                      className={attr.archived === '1' ? 'strikeout' : ''}\n                    >\n                      <div className=\"attribute_title\">\n                        <InlineEdit\n                          style={{ display: 'inline' }}\n                          text={attr.title}\n                          change={newValue =>\n                            this.editAttribute(attr.id, newValue)\n                          }\n                          editable={\n                            attr.archived === '1' || editableFrm === false\n                              ? false\n                              : true\n                          }\n                        />\n                        {editableFrm === true ? (\n                          <>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"cursor\"\n                                onClick={() =>\n                                  this.archiveAttribute(attr.id, attr.archived)\n                                }\n                              >\n                                {attr.archived === '1' ? (\n                                  <span className=\"fas fa-toggle-on icon-left-spacer\">\n                                    <span>Archived</span>\n                                  </span>\n                                ) : (\n                                  <span className=\"fas fa-toggle-off icon-left-spacer\">\n                                    {' '}\n                                    <span> Archive</span>\n                                  </span>\n                                )}\n                              </button>\n                            </span>\n                            <span className=\"edit-indicator\">\n                              <button\n                                className=\"addButton\"\n                                title=\"Change order\"\n                                data-typetitle={def.title}\n                                onClick={e =>\n                                  this.OpenModalPosition(e, competency)\n                                }\n                              >\n                                Change order{' '}\n                                <i className=\"icon icon-common icon-sort\" />\n                              </button>\n                            </span>\n                          </>\n                        ) : (\n                          ''\n                        )}\n                      </div>\n                    </li>\n                  );\n              })}\n            </ul>\n\n            <hr />\n          </li>\n        </div>\n        {/*<div className=\"column medium-4\" style={{ display: 'flex' }}>\n          <button\n            className=\"addButton\"\n            data-competencyid={competency.id}\n            data-competencytitle={competency.title}\n            data-typetitle={def.title}\n            data-attributetype={def.id}\n            title=\"Add attributes\"\n            onClick={e => this.handleOpenAttributeModal(e)}\n          >\n            Add {def.title} <i className=\"icon icon-common icon-plus-circle\" />\n          </button>\n          <button\n            className=\"addButton\"\n            title=\"Change order\"\n            data-typetitle={def.title}\n            onClick={e => this.OpenModalPosition(e, competency)}\n          >\n            Change order <i className=\"icon icon-common icon-sort\" />\n          </button>\n            </div>*/}\n      </div>\n    ));\n  }\n\n  render() {\n    const {\n      frameworkDef,\n      frameworkData,\n      competency,\n      domain,\n      editableFrm\n    } = this.props;\n    const {\n      parentID,\n      parentTitle,\n      attributeType,\n      attributeTypeTitle\n    } = this.state;\n    return (\n      <div>\n        {this.getAttributes(\n          frameworkDef,\n          frameworkData,\n          competency,\n          domain,\n          editableFrm\n        )}\n        {/* Modal for adding attributes */}\n        <Modal\n          open={this.state.showAttributeModal}\n          onClose={this.handleCloseAttributeModal}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Add {attributeTypeTitle} attributes</h3>\n          <h4>{parentTitle} </h4>\n          <h5>Please enter one {attributeTypeTitle} attribute per line</h5>\n          <form>\n            <textarea\n              id=\"attribute_txt\"\n              rows=\"5\"\n              onChange={e => this.setAttributes(e)}\n              required\n            />\n            <button className=\"button\" onClick={e => this.saveAttributes(e)}>\n              Save\n            </button>\n          </form>\n        </Modal>\n\n        {/* Modal for sorting attribute positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.competency.id ? (\n            <>\n              {console.log(competency)}\n              <h4>{this.state.competency.title}</h4>\n              <ul onDragOver={this.dragOver.bind(this)}>\n                {this.state.competency.attributes.map((attribute, i) => {\n                  if (attribute.type === this.state.typetitle) {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={attribute.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i class=\"icon icon-common icon-move\" />{' '}\n                        {attribute.title}\n                      </li>\n                    );\n                  }\n                })}\n              </ul>\n            </>\n          ) : (\n            ''\n          )}\n\n          <button className=\"button primary\" onClick={this.saveSorting}>\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageAttribute);\n","import React from 'react';\n\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n//import ErrorLoading from '../components/error-loading/ErrorLoading';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageAttribute from './ManageAttribute';\n\nimport Collapsible from 'react-collapsible';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageCompetency extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      domain: []\n    };\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n  }\n\n  OpenModalPosition(e, domain) {\n    this.setState({ showModalPosition: true });\n    this.setState({ domain: domain });\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  async editCompetency(competency, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(competency, 'title', title);\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Competency updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  async editMapping(competency, mapping) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchCompetency(\n        competency,\n        'field_map_other_competency',\n        mapping\n      );\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Record updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  async archiveCompetency(competency, isArchived) {\n    const { framework, loadData } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        competency\n      );\n      loadData(framework);\n      this.props.enqueueSnackbar('Competency status updated', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n      console.log(e);\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n\n    //update state and call api for PATCH request\n    //var data = this.props.frameworkData[0].domains;\n    var data = this.state.domain.competencies;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.id);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  getCompetencies(competencies) {\n    const {\n      frameworkData,\n      domain,\n      frameworkDef,\n      framework,\n      loadData,\n      editableFrm\n    } = this.props;\n    return competencies.map(competency => (\n      <li\n        id={competency.id}\n        key={competency.id}\n        style={{ listStyleType: 'none' }}\n      >\n        <div className=\"row competency_title\">\n          <h3 className={competency.archived === '1' ? 'strikeout' : ''}>\n            <InlineEdit\n              style={{ display: 'inline' }}\n              text={competency.title}\n              change={newValue => this.editCompetency(competency.id, newValue)}\n              editable={competency.archived === '1' || editableFrm === false ? false : true}\n            />\n          { editableFrm === true ?\n          <>\n            <span className=\"edit-indicator\">\n              <button\n                className=\"cursor\"\n                onClick={() =>\n                  this.archiveCompetency(competency.id, competency.archived)\n                }\n              >\n                {competency.archived === '1' ? (\n                  <span className=\"fas fa-toggle-on icon-left-spacer\">\n                    <span>Archived</span>\n                  </span>\n                ) : (\n                  <span className=\"fas fa-toggle-off icon-left-spacer\">\n                    {' '}\n                    <span> Archive</span>\n                  </span>\n                )}\n              </button>\n            </span>\n\n            <span className=\"edit-indicator\">\n              <button\n                className=\"cursor\"\n                onClick={e => this.OpenModalPosition(e, domain)}\n              >\n                <span className=\"fas fa-sort icon-left-spacer\">\n                  <span>Change order</span>\n                </span>\n              </button>\n            </span>\n            </>\n            :''}\n          </h3>\n        </div>\n\n        <Collapsible\n          trigger={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-right icon-custom\" />\n            </div>\n          }\n          triggerWhenOpen={\n            <div className=\"open-close-title collapsible-arrows\">\n              <span className=\"icon icon-common icon-angle-down icon-custom\" />\n            </div>\n          }\n        >\n          <em>\n            {competency.mapped_other_competency ? (\n              <span>\n                This competency maps to:\n                <InlineEdit\n                  style={{ display: 'inline' }}\n                  text={competency.mapped_other_competency}\n                  change={newValue => this.editMapping(competency.id, newValue)}\n                  editable={competency.archived === '1' ? false : true}\n                />\n              </span>\n            ) : (\n              ''\n            )}\n          </em>\n          <ul>\n            <ManageAttribute\n              framework={framework}\n              frameworkData={frameworkData}\n              domain={domain}\n              competency={competency}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              editableFrm={editableFrm}\n            />\n          </ul>\n        </Collapsible>\n      </li>\n    ));\n  }\n\n  render() {\n    const { frameworkData, domain } = this.props;\n    const competencies = frameworkData.map(item =>\n      item.domains.map(item => {\n        if (item.nid == domain.nid)\n          return <ul>{this.getCompetencies(item.competencies)}</ul>;\n      })\n    );\n    return (\n      <>\n        <div key={'domainlist'}>\n          {competencies\n            ? competencies\n            : 'No competencies found. Add new competencies to start.'}\n        </div>\n        {/* Modal for sorting competency positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n          {this.state.domain.nid ? <h4>{this.state.domain.title}</h4> : ''}\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map(domain => {\n                if (domain.nid === this.state.domain.nid) {\n                  return domain.competencies.map((competency, i) => {\n                    return (\n                      <li\n                        style={{ listStyleType: 'none' }}\n                        data-position={i}\n                        key={competency.position}\n                        draggable=\"true\"\n                        onDragEnd={this.dragEnd.bind(this)}\n                        onDragStart={this.dragStart.bind(this)}\n                      >\n                        <i class=\"icon icon-common icon-move\" />{' '}\n                        {competency.title}\n                      </li>\n                    );\n                  });\n                }\n              })\n            )}\n          </ul>\n          <button className=\"button primary\" onClick={this.saveSorting}>\n            Save\n          </button>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withSnackbar(ManageCompetency);\n","import React from 'react';\nimport InlineEdit from '../../shared/components/edit-inline/EditInline';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageCompetency from './ManageCompetency';\n\nvar placeholder = document.createElement('li');\nplaceholder.className = 'placeholder';\n\nclass ManageDomains extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n  constructor(props) {\n    super(props);\n    this.state = {\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      newDomains: '',\n      showModalCompetency: false,\n      newCompetencies: [{ competency: '', mapping: '' }],\n      parentID: '',\n      parentTitle: '',\n      sorting: []\n    };\n\n    this.archiveDomain = this.archiveDomain.bind(this);\n    this.OpenModalCompetency = this.OpenModalCompetency.bind(this);\n    this.closeModalCompetency = this.closeModalCompetency.bind(this);\n\n    this.handleRemoveCompetencies = this.handleRemoveCompetencies.bind(this);\n    this.setCompetencies = this.setCompetencies.bind(this);\n\n    this.OpenModalPosition = this.OpenModalPosition.bind(this);\n    this.closeModalPosition = this.closeModalPosition.bind(this);\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e) {\n    this.setState({ showModalPosition: true });\n    console.log('change positions');\n  }\n\n  closeModalPosition() {\n    this.setState({ showModalPosition: false });\n  }\n\n  OpenModalCompetency(e) {\n    this.setState({ parentID: e.target.dataset.domainid });\n    this.setState({ parentTitle: e.target.dataset.domaintitle });\n    this.setState({ showModalCompetency: true });\n  }\n\n  closeModalCompetency() {\n    this.setState({ showModalCompetency: false });\n  }\n\n  handleAddMoreCompetencies(e) {\n    this.setState({\n      newCompetencies: [\n        ...this.state.newCompetencies,\n        { competency: '', mapping: '' }\n      ]\n    });\n    e.preventDefault();\n  }\n\n  handleRemoveCompetencies(e, index) {\n    this.state.newCompetencies.splice(index, 1);\n    this.setState({ newCompetencies: this.state.newCompetencies });\n    e.preventDefault();\n  }\n\n  setCompetencies(e, index, type) {\n    let newData = this.state.newCompetencies;\n    if (type === 'competency') {\n      newData[index].competency = e.target.value;\n    } else {\n      newData[index].mapping = e.target.value;\n    }\n    this.setState({ newCompetencies: newData });\n  }\n\n  async saveCompetencies(e) {\n    const { framework, frameworkData } = this.props;\n    const { newCompetencies, parentID } = this.state;\n\n    let versionID = frameworkData[0].version_id;\n    let newData = newCompetencies;\n    let type = 'competency';\n    let addtional = '';\n    e.preventDefault();\n\n    console.log(this.state.newCompetencies);\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(\n        parentID,\n        versionID,\n        newData,\n        type,\n        addtional\n      );\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Competencies added successfully', {\n        variant: 'success'\n      });\n    }\n    this.setState({ newCompetencies: [{ competency: '', mapping: '' }] });\n    this.closeModalCompetency();\n  }\n\n  async editDomain(domain, title) {\n    const { framework } = this.props;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.patchDomain(domain, 'title', title);\n      await this.props.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  async archiveDomain(domain, isArchived) {\n    const { framework } = this.props;\n    try {\n      //this.activeRequests.startRequest();\n      await this.competencyService.toggleArchivingVersionedNode(\n        framework,\n        domain\n      );\n      this.props.loadData(framework);\n      console.log('all good gg');\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      //this.activeRequests.finishRequest();\n      this.props.enqueueSnackbar('Domain updated', {\n        variant: 'success'\n      });\n    }\n  }\n\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    console.log(this.dragged.parentNode);\n    //update state and call api for PATCH request\n    var data = this.props.frameworkData[0].domains;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if (from < to) to--;\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({ sorting: data });\n    console.log(data.map(d => d.nid));\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = 'none';\n    if (e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\n  saveSorting = async data => {\n    const { framework } = this.props;\n    const { sorting } = this.state;\n    let items = sorting.map(d => d.nid);\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.saveSorting(items);\n      await this.props.loadData(framework);\n      this.props.enqueueSnackbar('Items updated', {\n        variant: 'success'\n      });\n    } catch {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.setState({ sorting: undefined });\n      this.closeModalPosition();\n      //window.location.reload()\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkData,\n      frameworkDef,\n      loadData,\n      editableFrm\n    } = this.props;\n    const domains = frameworkData.map(item =>\n      item.domains.map((domain, index) => (\n        <li\n          key={'li_' + index}\n          id={domain.nid}\n          className={domain.archived === '1' ? 'strikeout' : ''}\n          style={{ listStyleType: 'none' }}\n        >\n          <div key={'div1_' + domain.nid} className=\"row domain_title\">\n            <hr />\n            <div key={'div2_' + domain.nid} className=\"column medium-12\">\n              <h2 key={'h4_' + domain.nid}>\n                <InlineEdit\n                  style={{ display: 'inline' }}\n                  text={domain.title}\n                  change={newValue => this.editDomain(domain.nid, newValue)}\n                  editable={\n                    domain.archived === '1' || editableFrm === false\n                      ? false\n                      : true\n                  }\n                  key={'inline_edit_' + domain.nid}\n                />\n                {editableFrm !== false ? (\n                  <>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        key={domain.nid}\n                        className=\"cursor\"\n                        onClick={() =>\n                          this.archiveDomain(domain.nid, domain.archived)\n                        }\n                      >\n                        {domain.archived === '1' ? (\n                          <span className=\"fas fa-toggle-on icon-left-spacer\">\n                            <span>Archived</span>\n                          </span>\n                        ) : (\n                          <span className=\"fas fa-toggle-off icon-left-spacer\">\n                            {' '}\n                            <span> Archive</span>\n                          </span>\n                        )}\n                      </button>\n                    </span>\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        className=\"addButton\"\n                        onClick={this.OpenModalPosition}\n                      >\n                        {' '}\n                        <i className=\"icon icon-common icon-sort icon-left-spacer\" />{' '}\n                        Change order{' '}\n                      </button>\n                    </span>\n                    {domain.archived !== '1' ?\n                    <span key={'span_' + domain.nid} className=\"edit-indicator\">\n                      <button\n                        className=\"addButton\"\n                        href=\"#\"\n                        data-domainid={domain.nid}\n                        data-domaintitle={domain.title}\n                        onClick={e => this.OpenModalCompetency(e)}\n                      >\n                        <i className=\"icon icon-common icon-plus-circle icon-left-spacer\" />{' '}\n                        Add competencies{' '}\n                        \n                      </button>\n                    </span>\n                    :\"\"}\n                  </>\n                ) : (\n                  ''\n                )}\n              </h2>\n            </div>\n\n          </div>\n          <div key={'p_' + domain.nid}>\n            <ManageCompetency\n              framework={framework}\n              frameworkData={frameworkData}\n              frameworkDef={frameworkDef}\n              loadData={loadData}\n              domain={domain}\n              editableFrm={editableFrm}\n            />\n          </div>\n        </li>\n      ))\n    );\n\n    return (\n      <div key={'domains_list'}>\n        {domains[0].length > 0 ? \n          <><ul key={'ul_' + domains.count}>{domains}</ul> {console.log(domains)} </>\n         : \n          <><p className=\"callout\">No data found. You may start by adding domains.</p> {console.log(domains)}</>\n        }\n\n        {/* Modal for competencies */}\n\n        <Modal\n          open={this.state.showModalCompetency}\n          onClose={this.closeModalCompetency}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h2>{this.state.parentTitle}</h2>\n          <h3>Add competencies(s) </h3>\n\n          <form onSubmit={e => this.saveCompetencies(e)}>\n            {this.state.newCompetencies.map((item, index) => (\n              <div key={'competency_' + index} className=\"row callout\">\n                <div className=\"column medium-9\">\n                  Competency\n                  <input\n                    key={index}\n                    type=\"text\"\n                    onChange={e => this.setCompetencies(e, index, 'competency')}\n                    value={item.competency}\n                    required\n                  />\n                  This competency maps to:\n                  <input\n                    key={'mapsto_' + index}\n                    type=\"text\"\n                    onChange={e => this.setCompetencies(e, index, 'mapping')}\n                    value={item.mapping}\n                  />\n                </div>\n                <div className=\"column medium-3\" style={{ paddingTop: '1%' }}>\n                  {index > 0 ? (\n                    <button\n                      className=\"button small\"\n                      onClick={e => this.handleRemoveCompetencies(e, index)}\n                    >\n                      <i className=\"icon icon-common icon-close\" />{' '}\n                    </button>\n                  ) : (\n                    ''\n                  )}\n                </div>\n              </div>\n            ))}\n\n            <div className=\"row\">\n              <div className=\"column medium-10\">\n                <button\n                  className=\"button small\"\n                  onClick={e => this.handleAddMoreCompetencies(e)}\n                >\n                  <i className=\"icon icon-common icon-plus-circle\" /> Add more\n                </button>\n              </div>\n            </div>\n            <input type=\"submit\" className=\"button\" value=\"Save\" />\n          </form>\n        </Modal>\n\n        {/* Modal for sorting domain positions */}\n\n        <Modal\n          open={this.state.showModalPosition}\n          onClose={this.closeModalPosition}\n          center\n          classNames={{\n            overlay: 'customOverlay',\n            modal: 'customModal'\n          }}\n        >\n          <h3>Change order</h3>\n          <p>Please drag and drop items to change order</p>\n\n          <ul onDragOver={this.dragOver.bind(this)}>\n            {frameworkData.map(item =>\n              item.domains.map((domain, i) => {\n                return (\n                  <li\n                    style={{ listStyleType: 'none' }}\n                    data-position={i}\n                    key={item.position}\n                    draggable=\"true\"\n                    onDragEnd={this.dragEnd.bind(this)}\n                    onDragStart={this.dragStart.bind(this)}\n                  >\n                    <i className=\"icon icon-common icon-move\" /> {domain.title}\n                  </li>\n                );\n              })\n            )}\n          </ul>\n          <button className=\"button primary\" onClick={this.saveSorting}>\n            Save\n          </button>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(ManageDomains);\n","import React from 'react';\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\nimport VersionControls from '../containers/version-controls/VersionControls';\n\nimport { withSnackbar } from 'notistack';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport ManageDomains from './ManageDomains';\n\nclass ManageData extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\nconstructor(props) {\n    super(props);\n    this.state = {\n      framework: '',\n      frameworkName: '',\n      frameworkData: [],\n      frameworkVersion: '',\n      frameworkVersionId: '',\n      frameworkStatus: '',\n      frameworkDef: [],\n      versions: [],\n      loadingError: false,\n      editable: false,\n      showModal: false,\n      showModalPosition: false,\n      newDomains: '',\n      parent:''\n    };\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.saveDomains = this.saveDomains.bind(this);\n    this.loadData = this.loadData.bind(this);\n\n     \n\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  OpenModalPosition(e){\n    this.setState({showModalPosition:true})\n    \n  }\n\n  closeModalPosition(){\n    this.setState({showModalPosition:false})\n  }\n\n  setDomains(e){\n    this.setState({newDomains:e.target.value})\n  }\n  \n  async saveDomains(e){\n    const { framework, frameworkData, newDomains } = this.state;\n\n    let parentID = frameworkData[0].nid;\n    let versionID = frameworkData[0].version_id;\n    let newData = newDomains;\n    let type = \"domain\";\n    let addtional = \"\";\n    e.preventDefault();\n\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createBulkData(parentID, versionID, newData, type, addtional);\n      await this.loadData(framework);\n      this.props.enqueueSnackbar('Domains created', {\n        variant: 'success'\n      });\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n\n    }\n\n    this.handleCloseModal();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { framework } = props.match.params;\n    if (framework !== state.framework) {\n      return {\n        framework,\n        frameworkData: [],\n        loadingError: false\n      };\n    }\n\n    // No state update necessary\n    return null;\n  }\n\n  async componentDidMount() {\n    const { framework, domainId } = this.props.match.params;\n    await this.loadData(framework);\n\n    if (domainId) {\n      setTimeout(() => {\n        const ref = this.refs[domainId];\n        if (ref) {\n          ref.scrollIntoView();\n        }\n      }, 100);\n    }\n\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { framework, frameworkData, loadingError } = this.state;\n    if (framework !== prevState.framework) {\n      if (frameworkData.length === 0 && !loadingError) {\n        this.loadData(framework);\n      }\n    }\n  }\n\n  async loadData(framework) {\n    try {\n      this.activeRequests.startRequest();\n      await this.fetchVersions(framework);\n      await this.fetchFramework(framework);\n    } catch (error) {\n      this.setState({ loadingError: true });\n      alert(error)\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  }\n\n  async fetchVersions(framework) {\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\n    const currentFramework = allFrameworks.filter(\n      fw => fw.title.toLowerCase().replace(/\\s+/g, '') === framework\n    );\n    if (currentFramework.length > 0) {\n      this.setState({versions: currentFramework[0].versions.reverse() });\n      this.setState({frameworkDef: currentFramework[0].attribute_types})\n    }\n    \n  }\n\n  async fetchFramework(framework) {\n    const { versions } = this.state;\n    const liveVersion = versions.filter(version => version.status === 'live');\n    const draftVersion = versions.filter(version => version.status === 'draft');\n    let frameworkData = [];\n    let editable = false;\n    if (draftVersion.length) {\n      frameworkData = await this.competencyService.getVersionedDraftFramework(\n        framework\n      );\n      this.setState({ frameworkVersionId: draftVersion[0].id });\n      editable = true;\n    } else {\n      if (liveVersion.length) {\n        frameworkData = await this.competencyService.getVersionedFramework(\n          framework,\n          liveVersion[0].number\n        );\n      }\n    }\n\n    if (frameworkData.length) {\n      const competencyTypes = frameworkData[0].domains.map(domain => ({\n        description: domain.title,\n        uuid: domain.uuid\n      }));\n      this.setState({\n        frameworkName: frameworkData[0].title,\n        frameworkData: frameworkData,\n        frameworkVersion: frameworkData[0].version,\n        frameworkStatus: frameworkData[0].status,\n        competencyTypes,\n        editable\n      });\n\n    }\n  }\n\n  releaseNewVersion = async (version, notes) => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.publishFramework(framework, version, notes);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  updateNotes = async notes => {\n    const { framework, frameworkVersionId } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.updateReleaseNotes(\n        notes,\n        frameworkVersionId\n      );\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  createDraft = async () => {\n    const { framework } = this.state;\n    try {\n      this.activeRequests.startRequest();\n      await this.competencyService.createDraftFramework(framework);\n      this.loadData(framework);\n    } catch (e) {\n      this.props.enqueueSnackbar('Unable to perform the request', {\n        variant: 'error'\n      });\n    } finally {\n      this.activeRequests.finishRequest();\n    }\n  };\n\n  render() {\n    const {\n      framework,\n      frameworkName,\n      frameworkData,\n      frameworkVersion,\n      frameworkStatus,\n      frameworkDef,\n      //competencyTypes,\n      versions,\n      loadingError,\n      editable\n    } = this.state;\n\n\n\n    if (loadingError) {\n      return <ErrorLoading />;\n    }\n\n    if (frameworkData.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"row\">\n        <h2>Manage framework data</h2>\n        <h4>{frameworkName}</h4>\n        <p>\n          <span className=\"tag\">{frameworkVersion}</span>\n          <span className=\"tag secondary-background\">\n            {frameworkStatus === '' ? 'draft' : frameworkStatus}\n          </span>\n        </p>\n        <div className=\"row\">\n          <div className=\"column medium-9\">\n             <VersionControls\n              editable={editable}\n              createDraft={this.createDraft}\n              versions={versions}\n              release={this.releaseNewVersion}\n              updateNotes={this.updateNotes}\n            />\n          </div>\n          <div className=\"column medium-3\">\n            {editable === true\n            ?\n            <button href=\"#\" className=\"addButton\" onClick={this.handleOpenModal}> <i className=\"icon icon-common icon-plus-circle\"></i> Add domains  </button>\n            :''\n            }\n            \n          </div>\n        </div>\n\n\n        <ManageDomains editableFrm={editable} framework={framework} frameworkData={frameworkData} frameworkDef={frameworkDef} loadData={this.loadData}  />\n\n\n\n\n\n        <FrameworkVersions framework={framework} versions={versions} />\n\n\n\n          {/* Modal for adding domains */}\n\n          <Modal open={this.state.showModal} onClose={this.handleCloseModal} center\n            classNames={{\n              overlay: 'customOverlay',\n              modal: 'customModal',\n            }}\n          >\n            <h2>Add domain(s) </h2>\n            <h3>Please enter one domain per line</h3>\n            <form>  \n              <textarea id=\"domain_txt_area\" rows=\"5\" onChange={e => this.setDomains(e)} required></textarea>\n              <button className=\"button\" onClick={e => this.saveDomains(e)}>Save</button>\n            </form>\n          </Modal>\n\n\n\n      </div>\n\n\n      \n    );\n  }\n}\n\nexport default withSnackbar(ManageData);\n","import HttpService from '../http/http';\r\n\r\nexport const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nclass CoursesService {\r\n  static instance;\r\n  http = new HttpService();\r\n\r\n  constructor() {\r\n    if (CoursesService.instance) {\r\n      return this.instance;\r\n    }\r\n\r\n    CoursesService.instance = this;\r\n  }\r\n\r\n  async getCourses() {\r\n    const response = await this.http.get(\r\n      /*`${apiUrl}/api/v1/training-resources/all?_format=json`*/\r\n      `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`\r\n    );\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default CoursesService;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\nimport CoursesService from '../services/courses/courses';\r\n\r\nclass CompetencyDetails extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  coursesService = new CoursesService();\r\n\r\n  state = {\r\n    framework: this.props.match.params.framework,\r\n    version: this.props.location.pathname.split('/'),\r\n    frameworkData: [],\r\n    competencyId: this.props.match.params.cid,\r\n    attributeDefs: [],\r\n    resources: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.getFramework(),\r\n        this.getAttributes(),\r\n        this.getResources()\r\n      ]);\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async getFramework() {\r\n    const { framework } = this.state;\r\n    const { version } = this.state;\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      version[3]\r\n    );\r\n\r\n    this.setState({\r\n      frameworkData\r\n    });\r\n  }\r\n\r\n  async getAttributes() {\r\n    const allFrameworks = await this.competencyService.getAllFrameworks();\r\n    const { framework } = this.state;\r\n    const frameworkMatch = allFrameworks.filter(\r\n      item => item.name.toLowerCase() === framework\r\n    );\r\n    if (frameworkMatch.length) {\r\n      const attributeDefs = frameworkMatch[0].attribute_types.map(\r\n        attribute => attribute.title\r\n      );\r\n      this.setState({ attributeDefs });\r\n    }\r\n  }\r\n\r\n  async getResources() {\r\n    try {\r\n      const allResources = await this.coursesService.getCourses();\r\n      const resources = allResources.filter(\r\n        resource =>\r\n          !!resource.competency_profile.find(\r\n            profile =>\r\n              // !!profile.domains.find(\r\n              //   domain =>\r\n              //     !!domain.competencies.find(\r\n              //       competency => competency.id === this.state.competencyId\r\n              //     )\r\n              // )\r\n\r\n              profile.competency_id === this.state.competencyId\r\n          )\r\n      );\r\n\r\n      this.setState({ resources });\r\n      /*const resources = [{\"id\":1, \"title\":this.state.version[3]}];*/\r\n      this.setState({ resources });\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar('Unable to retrieve training resources', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  }\r\n\r\n  resourceBlock() {\r\n    const { resources } = this.state;\r\n    return resources.map(resource => (\r\n      <li key={resource.id}>\r\n        <Link to={`/training-resources/${resource.id}`}>{resource.title}</Link>\r\n      </li>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      competencyId,\r\n      frameworkData,\r\n      attributeDefs,\r\n      resources\r\n    } = this.state;\r\n\r\n    const competencies = [];\r\n    console.log(this.state.competencyId);\r\n    frameworkData.forEach(item =>\r\n      item.domains.forEach(domain =>\r\n        domain.competencies.forEach(competency => {\r\n          if (competency.id === competencyId) {\r\n            competencies.push({\r\n              ...competency,\r\n              framework: item.title,\r\n              domain: domain.title\r\n            });\r\n          }\r\n        })\r\n      )\r\n    );\r\n\r\n    const competencyDetails = competencies.map(competency => (\r\n      <div key={competency.id}>\r\n        <div className=\"row\">\r\n          <div className=\"column large-12\">\r\n            <h4>\r\n              {' '}\r\n              {competency.framework} / {competency.domain}\r\n            </h4>\r\n            <h4>{competency.title}</h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"column large-8\">\r\n            <ul>\r\n              {attributeDefs.map(def => {\r\n                return (\r\n                  <div key={def}>\r\n                    <div className=\"margin-top-medium\">\r\n                      {' '}\r\n                      <strong>\r\n                        <em>{def}</em>\r\n                      </strong>\r\n                    </div>\r\n                    {competency.attributes.map(attribute => {\r\n                      if (attribute.type === def) {\r\n                        return <li key={attribute.id}>{attribute.title} </li>;\r\n                      }\r\n                      return null;\r\n                    })}\r\n                  </div>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n          <div className=\"column large-4\">\r\n            <div className=\"callout notice industry-background white-color\">\r\n              <p>Competency derived from:</p>\r\n              <p>\r\n                {' '}\r\n                {competency.mapped_other_competency\r\n                  ? competency.mapped_other_competency\r\n                  : 'No data available'}{' '}\r\n              </p>\r\n            </div>\r\n\r\n            {resources.length === 0 ? null : (\r\n              <div className=\"callout notice training-background white-color\">\r\n                <p>Training resources mapped to this competency</p>\r\n                <ul>{this.resourceBlock()}</ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"column large-12\">\r\n          <h3>Competency details</h3>\r\n          {competencyDetails}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(CompetencyDetails);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Collapsible from 'react-collapsible';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { groupBy } from 'lodash-es';\r\nimport './CompetencyList.css';\r\n\r\nfunction CompetencyList({ index, framework, competency, disable, version }) {\r\n  const attributesGrouped = groupBy(competency.attributes, 'type');\r\n  const attributesTypes = Object.keys(attributesGrouped);\r\n  const attributes = attributesTypes.map(type => {\r\n    const attributes = attributesGrouped[type].map(attribute => (\r\n      <li key={attribute.id}>{attribute.title}</li>\r\n    ));\r\n    return (\r\n      <div key={type}>\r\n        <em>{type}</em>\r\n        <ul>{attributes}</ul>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  if (competency.archived === '1') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <Collapsible\r\n          trigger={\r\n            <div className=\"open-close-title\">\r\n              <span>{competency.title}</span>\r\n              <span className=\"icon icon-common icon-plus float-right\">\r\n                <p className=\"show-for-sr\">show more</p>\r\n              </span>\r\n            </div>\r\n          }\r\n          triggerWhenOpen={\r\n            <div className=\"open-close-title\">\r\n              <span>{competency.title}</span>\r\n              <span className=\"icon icon-common icon-minus float-right\">\r\n                <p className=\"show-for-sr\">show less</p>\r\n              </span>\r\n            </div>\r\n          }\r\n        >\r\n          <div className=\"padding-left-large padding-top-large\">\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.id\r\n              }`}\r\n            >\r\n              <span className=\"float-right\">\r\n                <i className=\"icon icon-spacer icon-common icon-info\" />\r\n                More details\r\n              </span>\r\n            </Link>\r\n            {attributes}\r\n          </div>\r\n        </Collapsible>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nCompetencyList.defaultProps = {\r\n  parentIndex: 0,\r\n  index: 0,\r\n  disable: true\r\n};\r\n\r\nCompetencyList.propTypes = {\r\n  parentIndex: PropTypes.number,\r\n  index: PropTypes.number,\r\n  framework: PropTypes.string,\r\n  competency: PropTypes.shape({\r\n    title: PropTypes.string\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default CompetencyList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CompetencyList from '../competency-list/CompetencyList';\r\n\r\nfunction DomainList({ index, framework, domain, disable, version }) {\r\n  const competencies = domain.competencies.map((competency, childIndex) => (\r\n    <CompetencyList\r\n      key={competency.id}\r\n      index={childIndex}\r\n      framework={framework}\r\n      competency={competency}\r\n      disable={disable}\r\n      version={version}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <tbody>\r\n      <tr className=\"white-color secondary-background\">\r\n        <td>\r\n          <h4> {domain.title}</h4>\r\n        </td>\r\n      </tr>\r\n      {competencies}\r\n    </tbody>\r\n  );\r\n}\r\n\r\nDomainList.defaultProps = {\r\n  domain: { title: '', competencies: [] },\r\n  disable: true\r\n};\r\n\r\nDomainList.propTypes = {\r\n  framework: PropTypes.string,\r\n  domain: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    competencies: PropTypes.array\r\n  }),\r\n  disable: PropTypes.bool\r\n};\r\n\r\nexport default DomainList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport ErrorLoading from '../../components/error-loading/ErrorLoading';\r\n\r\nimport ActiveRequestsService from '../../services/active-requests/active-requests';\r\nimport CoursesService from '../../services/courses/courses';\r\nimport { safeFlat } from '../../services/util/util';\r\n\r\nclass Courses extends Component {\r\n  static propTypes = {\r\n    framework: PropTypes.string,\r\n    version: PropTypes.string\r\n  };\r\n\r\n  state = {\r\n    courses: [],\r\n    filteredCourses: [],\r\n    filter: '',\r\n    loadingError: false\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state.framework = props.framework;\r\n    this.state.version = props.version;\r\n  }\r\n\r\n  coursesService = new CoursesService();\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const allCourses = await this.coursesService.getCourses();\r\n      const courses = this.filterCourses(allCourses);\r\n      this.setState({ courses, filteredCourses: courses });\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  filterCourses(allCourses) {\r\n    const { framework } = this.state;\r\n    const { version } = this.state;\r\n    const filteredCourses = [];\r\n    allCourses.forEach(course => {\r\n      if (course.archived === '1') {\r\n        return;\r\n      }\r\n\r\n      const filteredProfiles = course.competency_profile.filter(\r\n        //profile => (profile.title || '').toLowerCase() === framework\r\n        profile => (profile.framework_label || '').toLowerCase() === framework\r\n      );\r\n\r\n      if (filteredProfiles.length === 0) {\r\n        return;\r\n      }\r\n\r\n      const modifiedCourse = {\r\n        ...course,\r\n        competencies: safeFlat(\r\n          filteredProfiles.map(\r\n            profile =>\r\n              // safeFlat(\r\n              //   profile.domains.map(domain =>\r\n              //     domain.competencies.map(competency => ({\r\n              //       ...competency,\r\n              //       domain: domain.title\r\n              //     }))\r\n              //   )\r\n              // )\r\n              profile\r\n          )\r\n        )\r\n      };\r\n\r\n      filteredCourses.push(modifiedCourse);\r\n    });\r\n    //console.log(filteredCourses);\r\n    return filteredCourses;\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { courses } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredCourses = courses.filter(course => term.test(course.title));\r\n    this.setState({ filteredCourses, filter });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      filteredCourses,\r\n      framework,\r\n      filter,\r\n      loadingError,\r\n      version\r\n    } = this.state;\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    //let unique = [...new Set(course.competencies.map(item => item.id))];\r\n\r\n    let duplicates = [];\r\n\r\n    const competencyList = competencies =>\r\n      competencies\r\n        .filter(\r\n          (competency, index, all) =>\r\n            all.findIndex(c => c.competency_id === competency.competency_id) ===\r\n            index\r\n        )\r\n        .map(competency => (\r\n          <li key={competency.id}>\r\n            <Link\r\n              to={`/framework/${framework}/${version}/competency/details/${\r\n                competency.competency_id\r\n              }`}\r\n            >\r\n              {competency.competency_label}\r\n            </Link>\r\n          </li>\r\n        ));\r\n\r\n    const resources = filteredCourses.map(course => (\r\n      <tr key={course.id}>\r\n        <td>\r\n          <Link to={`/training-resources/${course.id}`}>{course.title}</Link>\r\n        </td>\r\n        <td>{course.type}</td>\r\n        <td>\r\n          <ul>{competencyList(course.competencies)} </ul>\r\n        </td>\r\n      </tr>\r\n    ));\r\n\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"search\"\r\n          // className=\"clearable\" // It doesn't work correctly\r\n          value={filter}\r\n          onChange={event => this.onFilter(event.target.value)}\r\n          placeholder=\"Filter resources\"\r\n        />\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Training resource(s)</th>\r\n              <th>Type</th>\r\n              <th>Competencies</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{resources}</tbody>\r\n        </table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Courses;\r\n","import React, { useState, useEffect } from 'react';\nimport {useHistory } from 'react-router-dom';\n\nimport { Link } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\nimport './Profile.css';\nimport user_icon from './user_icon.png';\n\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\nconst ProfileList = props => {\n  let history = useHistory();\n\n  const frameworkName = props.framework;\n  const frameworkVersion = props.version;\n  const [guestProfile, setGuestProfile] = useState();\n  const [profiles, setProfiles] = useState();\n  const [framework, setFramework] = useState();\n  //const [userRole, setUserRole] = useState();\n\n  var profilesToCompare = [];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await setGuestProfile(JSON.parse(localStorage.getItem('guestProfile')));\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles/?_format=json&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfiles(findresponse);\n        });\n    };\n    fetchData();\n  }, [framework, frameworkVersion, frameworkName]);\n\n  const checkUserAccess = () => {\n    if (localStorage.getItem('roles')) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const setProfilesToCompare = e => {\n    if (profilesToCompare.length > 2) {\n      alert('You have to select two profiles to compare.');\n      return;\n    }\n\n    if (e.target.checked) {\n      profilesToCompare.push(e.target.getAttribute('data-profileid'));\n    } else {\n      profilesToCompare = profilesToCompare.filter(function(value, index, arr) {\n        return value !== e.target.getAttribute('data-profileid');\n      });\n    }\n  };\n\n  const redirectToCompare = e => {\n    e.preventDefault();\n    if (profilesToCompare.length !== 2) {\n      alert('You have to select two profiles to compare.');\n      return;\n    } else {\n      history.push(\n        `/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${profilesToCompare[0]}/${\n          profilesToCompare[1]\n        }`\n      );\n    }\n  };\n\n  const handleDelete = (e) => {\n    e.preventDefault();\n     confirmAlert({\n    //   title: 'Delete my profile',\n    //   message: 'Are you sure you want to delete your profile? This action cannot be undone!!',\n    //   buttons: [\n    //     {\n    //       label: 'Yes',\n    //       onClick: () => localStorage.removeItem('guestProfile')\n    //     },\n    //     {\n    //       label: 'No',\n    //       onClick: () => alert('Profile not deleted')\n    //     }\n    //   ]\n    // });\n\n      customUI: ({ onClose }) => {\n      return (\n        <div className='react-confirm-alert-body'>\n          <h2>Delete my profile</h2>\n          <p>Are you sure you want to delete your profile? This action cannot be undone!!</p>\n          <div className=\"react-confirm-alert-button-group\">\n            <button onClick={onClose}>No</button>\n            <button\n              onClick={() => {\n                localStorage.removeItem('guestProfile');\n                alert('Profile deleted');\n                window.location.reload(false);\n                onClose();\n              }}\n            >\n              Yes, Delete it!\n            </button>\n          </div>\n        </div>\n      );\n    }\n  });\n  }\n\n  return (\n    <div>\n      <div className=\"introduction\">\n        <div className=\"row\">\n          <div className=\"column medium-6 item\">\n            <h5>\n              <i class=\"icon icon-common icon-search-document\" /> Discover and\n              explore{' '}\n            </h5>\n            <p>\n              You can explore career profiles for professionals in Biomolecular\n              Modelling and Simulation\n            </p>\n          </div>\n          <div className=\"column medium-6 item\">\n            <h5>\n              <i class=\"icon icon-common icon-user-plus\" /> Create your own\n              profile\n            </h5>\n            <p>\n              You can create your personal profile and choose your competencies{' '}\n            </p>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"column medium-6 item\">\n            <h5>\n              <i class=\"icon icon-common icon-compare\" /> Compare profiles\n            </h5>\n            <p>\n              Compare your profile with other reference profiles to help you\n              make career choices based on your competency\n            </p>\n          </div>\n          <div className=\"column medium-6 item\">\n            <h5>\n              <i class=\"icon icon-common icon-tutorial\" /> Identify training\n              oportunities\n            </h5>\n            <p>\n              Training oportunities will help boost a career in Biomoecular\n              Modelling and Simulation\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"wrapper\">\n        <div className=\"row\">\n          <div className=\"column medium-6\">\n            <h5 className=\"warpperLabel\">Career profiles</h5>\n          </div>\n          <div className=\"column medium-6\">\n            <span style={{ float: 'right' }}>\n              {localStorage.getItem('roles') ? (\n                <span>\n                  <Link\n                    className=\"button secondary small action-buttons\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/`}\n                  >\n                    {' '}\n                    Create reference profile{' '}\n                    <i className=\"icon icon-common icon-user-plus\" />\n                  </Link>\n                  <Link\n                    onClick={e => redirectToCompare(e)}\n                    className=\"button secondary small action-buttons\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n                      profilesToCompare[0]\n                    }/${profilesToCompare[1]}`}\n                  >\n                    {' '}\n                    Compare selected profiles{' '}\n                    <i className=\"icon icon-common icon-compare\" />\n                  </Link>\n                </span>\n              ) : (\n                <span>\n                  <Link\n                    onClick={e => redirectToCompare(e)}\n                    className=\"button secondary small action-buttons\"\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profiles/compare/${\n                      profilesToCompare[0]\n                    }/${profilesToCompare[1]}`}\n                  >\n                    {' '}\n                    Compare selected profiles{' '}\n                    <i className=\"icon icon-common icon-compare\" />\n                  </Link>\n                </span>\n              )}\n            </span>\n          </div>\n          <hr />\n        </div>\n        <div className=\"row\">\n          <div className=\"column medium-4\">\n            {guestProfile?\n              <div class=\"profile_badge\">\n                  <span class=\"compare_checkbox\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        onClick={e => setProfilesToCompare(e)}\n                        data-profileid=\"guest\"\n                      />\n                      Click to compare\n                    </label>\n                    <span className=\"cm_badge\">Your profile</span>\n                  </span>\n\n                  <p>\n                    <div>\n                      <img alt=\"profile\" src={guestProfile.image[0]?guestProfile.image[0].url:user_icon} class=\"profile_img\" />\n                    </div>\n                    \n                      \n                     \n                  </p>\n                  <div class=\"row action-buttons-row my-profile-card\">\n                    <div class=\"column medium-12\">\n\n                      <h4>{guestProfile.job_title}</h4>\n                      <Link style={{marginRight: '20px'}}\n                        to={`/framework/${guestProfile.frameworkName}/${guestProfile.versionNumber}/profile/view/guest`}\n                      >\n                        View profile <i class=\"icon icon-common icon-angle-right\"></i>\n                      </Link>\n\n                      <Link onClick={e=>handleDelete(e)}\n                        to={`#`}\n                      >\n                        Delete profile <i class=\"icon icon-common icon-trash-alt\"></i>\n                      </Link>\n\n                      <p style={{color:'#999', bottom:'-15px', position:'relative'}}>{guestProfile.frameworkName} - {guestProfile.versionNumber}</p>\n                      \n                    </div>\n                    \n                  </div>\n                </div>\n              :\n              <div class=\"profile_badge\">\n                  <span class=\"compare_checkbox\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        disabled=\"disabled\"\n                        onClick={e => setProfilesToCompare(e)}\n                        data-profileid=\"guest\"\n                      />\n                      Click to compare\n                    </label>\n                    <span className=\"cm_badge\">Your profile</span>\n                  </span>\n                  <p>\n                    <div>\n                      <img alt=\"profile\" src={user_icon} class=\"profile_img\" />\n                    </div>\n                  </p>\n                  <div class=\"row action-buttons-row my-profile-card\">\n                    <div class=\"column medium-12\">\n                      <h4>[Your job title]</h4>\n                      <Link\n                        to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n                      >\n                        Create your profile <i class=\"icon icon-common icon-user-plus\" /> \n                      </Link>\n                      <p>&nbsp;</p>\n                    </div>\n                  </div>\n                </div>\n              }\n          </div>\n          {profiles\n            ? profiles.map(profile => {\n                if (!checkUserAccess()) {\n                  if (profile.publishing_status === 'Live') {\n                    return (\n                      <div className=\"column medium-4\">\n                        <div className=\"profile_badge\">\n                          <span class=\"compare_checkbox\">\n                            <label>\n                              <input\n                                type=\"checkbox\"\n                                onClick={e => setProfilesToCompare(e)}\n                                data-profileid={profile.id}\n                              />\n                              Click to compare\n                            </label>\n                          </span>\n                          <p>\n                            {profile.image[0] ? (\n                              <div className={profile.publishing_status}>\n                                <img alt=\"profile\"\n                                  src={profile.image[0].url}\n                                  className=\"profile_img\"\n                                />\n                              </div>\n                            ) : (\n                              <img alt=\"profile\" src={user_icon} className=\"profile_img\" />\n                            )}\n                          </p>\n\n                          <div className=\"row action-buttons-row my-profile-card\">\n                            <div className=\"column medium-12\">\n                              <h4>\n                                {profile.job_title\n                                  ? profile.job_title\n                                  : 'Job title'}\n                              </h4>\n                              <Link\n                                to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                  profile.id\n                                }${profile.url_alias}`}\n                              >\n                                View profile{' '} <i class=\"icon icon-common icon-angle-right\"></i>\n                              </Link>\n                              <p>&nbsp;</p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  }\n                } else {\n                  return (\n                    <div className=\"column medium-4\">\n                      <div className=\"profile_badge\">\n                        <span class=\"compare_checkbox\">\n                          <label>\n                            <input\n                              type=\"checkbox\"\n                              onClick={e => setProfilesToCompare(e)}\n                              data-profileid={profile.id}\n                            />\n                            Click to compare\n                          </label>\n                        </span>\n                        <p className={profile.publishing_status}>\n                          {profile.image[0] ? (\n                            <img alt=\"profile\"\n                              src={profile.image[0].url}\n                              className=\"profile_img\"\n                            />\n                          ) : (\n                            <img alt=\"profile\" src={user_icon} className=\"profile_img\" />\n                          )}\n                        </p>\n\n                        <div className=\"row action-buttons-row my-profile-card\">\n                          <div className=\"column medium-12\">\n                            <h4>\n                              {profile.job_title\n                                ? profile.job_title\n                                : 'Job title'}\n                            </h4>\n                            <Link\n                              \n                              to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${\n                                profile.id\n                              }${profile.url_alias}`}\n                            >\n                              View profile{' '} <i class=\"icon icon-common icon-angle-right\"></i>\n                            </Link>\n                            <p>&nbsp;</p> \n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                }\n              })\n            : ''}\n\n          <div className=\"column medium-4\">&nbsp;</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileList;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ErrorLoading from '../components/error-loading/ErrorLoading';\r\n\r\nimport DomainList from '../components/domain-list/DomainList';\r\nimport Courses from './courses/Courses';\r\nimport ProfileList from './ProfileList';\r\nimport FrameworkVersions from '../containers/framework-versions/FrameworkVersions';\r\n\r\nimport CompetencyService from '../services/competency/competency';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport { safeFlat, removeHtmlTags } from '../services/util/util';\r\n\r\n\r\nclass CompetencyList extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.shape({\r\n      match: PropTypes.shape({ framework: PropTypes.string })\r\n    })\r\n  };\r\n\r\n  competencyService = new CompetencyService();\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n\r\n  state = {\r\n    framework: '',\r\n    frameworkVersion: '',\r\n    frameworkName: '',\r\n    frameworkStatus: '',\r\n    frameworkDescription: '',\r\n    versions: [],\r\n    domains: [],\r\n    filter: '',\r\n    filteredDomains: [],\r\n    loadingError: false,\r\n    profileCount: 0,\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { framework, version: frameworkVersion } = props.match.params;\r\n    if (\r\n      framework !== state.framework ||\r\n      frameworkVersion !== state.frameworkVersion\r\n    ) {\r\n      return {\r\n        framework,\r\n        frameworkVersion,\r\n        domains: [],\r\n        loadingError: false\r\n      };\r\n    }\r\n\r\n    // No state update necessary\r\n    return null;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { framework, version: frameworkVersion } = this.props.match.params;\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.fetchFramework(framework, frameworkVersion),\r\n        this.fetchVersions(framework)\r\n      ]);\r\n\r\n    \r\n       fetch(`${apiUrl}/api/${framework}/${frameworkVersion}/profiles?_format=json&timestamp=${Date.now()}`)\r\n        .then(Response => Response.json())\r\n        .then(findResponse => \r\n          {\r\n            this.setState({profileCount: findResponse.filter(item => item.publishing_status === 'Live').length})  \r\n          }\r\n        )\r\n\r\n\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { framework, frameworkVersion, domains, loadingError } = this.state;\r\n    if (\r\n      framework !== prevState.framework ||\r\n      frameworkVersion !== prevState.frameworkVersion\r\n    ) {\r\n      if (domains.length === 0 && !loadingError) {\r\n        try {\r\n          this.activeRequests.startRequest();\r\n          await this.fetchFramework(framework, frameworkVersion);\r\n        } catch (error) {\r\n          this.setState({ loadingError: true });\r\n        } finally {\r\n          this.activeRequests.finishRequest();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async fetchFramework(framework, frameworkVersion) {\r\n    window.scroll(0, 0);\r\n    const frameworkData = await this.competencyService.getVersionedFramework(\r\n      framework,\r\n      frameworkVersion\r\n    );\r\n    const domains = safeFlat(frameworkData.map(item => item.domains));\r\n    const frameworkDescription = removeHtmlTags(frameworkData[0].description);\r\n\r\n    this.setState({\r\n      frameworkName: frameworkData[0].title,\r\n      //frameworkStatus: frameworkData[0].status,\r\n      frameworkDescription,\r\n      domains,\r\n      filteredDomains: domains\r\n    });\r\n\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      const versionStatus = currentFramework[0].versions.filter(\r\n        vr => vr.number === frameworkVersion\r\n      );\r\n      this.setState({ frameworkStatus: versionStatus[0].status });\r\n    }\r\n  }\r\n\r\n  async fetchVersions(framework) {\r\n    const allFrameworks = await this.competencyService.getAllVersionedFrameworks();\r\n    const currentFramework = allFrameworks.filter(\r\n      fw => fw.title.toLowerCase() === framework\r\n    );\r\n    if (currentFramework.length > 0) {\r\n      this.setState({ versions: currentFramework[0].versions.reverse() });\r\n    }\r\n  }\r\n\r\n  onFilter = filter => {\r\n    const { domains } = this.state;\r\n    let term;\r\n    try {\r\n      term = new RegExp(filter, 'i');\r\n    } catch (e) {\r\n      term = /./;\r\n    }\r\n    const filteredDomains = domains.map(domain => {\r\n      const filteredCompetencies = domain.competencies.filter(competency =>\r\n        term.test(competency.title)\r\n      );\r\n      if (filteredCompetencies.length === 0) {\r\n        return null;\r\n      }\r\n      return { ...domain, competencies: filteredCompetencies };\r\n    });\r\n    this.setState({ filter, filteredDomains });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      framework,\r\n      frameworkVersion,\r\n      frameworkName,\r\n      frameworkStatus,\r\n      frameworkDescription,\r\n      filteredDomains,\r\n      versions,\r\n      filter,\r\n      loadingError\r\n    } = this.state;\r\n\r\n    /*if(versions.length > 0){\r\n console.log(this.state.versions[0].status);  \r\n}*/\r\nconsole.log(this.state.profileCount)\r\n\r\n    if (loadingError) {\r\n      return <ErrorLoading />;\r\n    }\r\n\r\n    const domainList = filteredDomains.map(domain =>\r\n      domain === null ? null : (\r\n        <DomainList\r\n          key={domain.nid}\r\n          framework={framework}\r\n          domain={domain}\r\n          disable={true}\r\n          version={frameworkVersion}\r\n        />\r\n      )\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <h3>{frameworkName}</h3>\r\n        <p>\r\n          <span className=\"tag\">{frameworkVersion}</span>\r\n          <span className=\"tag secondary-background\"> {frameworkStatus}</span>\r\n        </p>\r\n        <p>{frameworkDescription}</p>\r\n\r\n        <Tabs>\r\n          <TabList>\r\n          {\r\n            localStorage.getItem('roles')?\r\n            <Tab>Career profiles</Tab>:\r\n            this.state.profileCount > 0?\r\n            <Tab>Career profiles</Tab>:''\r\n          }\r\n            \r\n\r\n            <Tab>Competencies</Tab>\r\n            <Tab>Training resources</Tab>\r\n          </TabList>\r\n\r\n          {\r\n            localStorage.getItem('roles')?\r\n            <TabPanel>\r\n              <ProfileList framework={framework} version={frameworkVersion} />\r\n              <FrameworkVersions framework={framework} versions={versions} />\r\n            </TabPanel>:\r\n            this.state.profileCount > 0?\r\n            <TabPanel>\r\n              <ProfileList framework={framework} version={frameworkVersion} />\r\n              <FrameworkVersions framework={framework} versions={versions} />\r\n            </TabPanel>:''\r\n          }\r\n          \r\n\r\n          <TabPanel>\r\n            <input\r\n              // className=\"clearable\" // It doesn't work correctly\r\n              type=\"search\"\r\n              value={filter}\r\n              onChange={event => this.onFilter(event.target.value)}\r\n              placeholder=\"Filter competencies\"\r\n            />\r\n            <table>{domainList}</table>\r\n            <FrameworkVersions framework={framework} versions={versions} />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <Courses framework={framework} version={frameworkVersion} />\r\n          </TabPanel>\r\n        </Tabs>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CompetencyList;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport CKEditor from 'react-ckeditor-component';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nclass ResourceEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      path: this.props.location.pathname.split('/'),\r\n      nid: '',\r\n      title: '',\r\n      dates: '',\r\n      dates2: '',\r\n      type: '',\r\n      description: '',\r\n      location: '',\r\n      url: '',\r\n      target_audience: '',\r\n      learning_outcomes: '',\r\n      keywords: '',\r\n      organisers: '',\r\n      trainers: ''\r\n    };\r\n    this.redirectTo = this.redirectTo.bind(this);\r\n  }\r\n\r\n  changeDescription(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ description: newContent });\r\n  }\r\n\r\n  changeTargetAudience(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ target_audience: newContent });\r\n  }\r\n\r\n  changeLearningOutcomes(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ learning_outcomes: newContent });\r\n  }\r\n\r\n  changeOrganisers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ organisers: newContent });\r\n  }\r\n\r\n  changeTrainers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ trainers: newContent });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ nid: this.state.path[3] });\r\n\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    //let fetchResource = \"http://dev-competency-mapper.pantheonsite.io/api/v1/training-resources/\"+nid+\"?_format=json\";\r\n    //let fetchResource = `${apiUrl}/api/v1/training-resources/all?_format=json`;\r\n    let fetchResource = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\r\n    fetch(fetchResource)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          data: findresponse\r\n        });\r\n      });\r\n  }\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n    console.log(localStorage.getItem('roles'));\r\n  }\r\n\r\n  redirectTo(event) {\r\n    this.props.history.push('/training-resources/' + this.state.nid);\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    let nid = '';\r\n    let title = '';\r\n    let dates = '';\r\n    let dates2 = '';\r\n    let type = '';\r\n    let description = '';\r\n    let location = '';\r\n    let url = '';\r\n    let target_audience = '';\r\n    let learning_outcomes = '';\r\n    let keywords = '';\r\n    let organisers = '';\r\n    let trainers = '';\r\n\r\n    this.state.data.forEach(item => {\r\n      if (item.id === this.state.nid) {\r\n        nid = item.id;\r\n        title = item.title;\r\n        //temp_date = item.dates.split(\"-\");\r\n        dates = item.dates;\r\n        dates2 = item.end_date;\r\n        type = item.type;\r\n        description = item.description;\r\n        location = item.location;\r\n        url = item.url;\r\n        target_audience = item.target_audience;\r\n        learning_outcomes = item.learning_outcomes;\r\n        keywords = item.keywords;\r\n        organisers = item.organisers;\r\n        trainers = item.trainers;\r\n      }\r\n    });\r\n    if (this.state.data.length > 0) {\r\n      console.log(title);\r\n      return (\r\n        <EditForm\r\n          nid={nid}\r\n          title={title}\r\n          dates={dates}\r\n          dates2={dates2}\r\n          type={type}\r\n          description={description}\r\n          location={location}\r\n          url={url}\r\n          target_audience={target_audience}\r\n          learning_outcomes={learning_outcomes}\r\n          keywords={keywords}\r\n          organisers={organisers}\r\n          trainers={trainers}\r\n          redirectTo={this.redirectTo}\r\n        />\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nclass EditForm extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nid: this.props.nid,\r\n      title: this.props.title,\r\n      dates: this.props.dates,\r\n      dates2: this.props.dates2,\r\n      type: this.props.type,\r\n      description: this.props.description,\r\n      location: this.props.location,\r\n      url: this.props.url,\r\n      target_audience: this.props.target_audience,\r\n      learning_outcomes: this.props.learning_outcomes,\r\n      keywords: this.props.keywords,\r\n      organisers: this.props.organisers,\r\n      trainers: this.props.trainers,\r\n      redirect: false,\r\n      updateFlag: false,\r\n      csrf: ''\r\n    };\r\n    this.handleTitle = this.handleTitle.bind(this);\r\n    this.handleDates = this.handleDates.bind(this);\r\n    this.handleDates2 = this.handleDates2.bind(this);\r\n    this.handleType = this.handleType.bind(this);\r\n    this.handleDesc = this.handleDesc.bind(this);\r\n    this.handleLocation = this.handleLocation.bind(this);\r\n    this.handleURL = this.handleURL.bind(this);\r\n    this.handleTargetAudience = this.handleTargetAudience.bind(this);\r\n    this.handleLearningOutcomes = this.handleLearningOutcomes.bind(this);\r\n    this.handleKeywords = this.handleKeywords.bind(this);\r\n    this.handleOrganisers = this.handleOrganisers.bind(this);\r\n    this.handleTrainers = this.handleTrainers.bind(this);\r\n    //this.redirectTo = this.redirectTo.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n  }\r\n\r\n  static contextTypes = {\r\n    router: PropTypes.object\r\n  };\r\n\r\n  handleTitle(event) {\r\n    this.setState({ title: event.value });\r\n  }\r\n\r\n  handleDates(event) {\r\n    this.setState({ dates: event.value });\r\n  }\r\n\r\n  handleDates2(event) {\r\n    this.setState({ dates2: event.value });\r\n  }\r\n\r\n  handleType(event) {\r\n    this.setState({ type: event.value });\r\n  }\r\n\r\n  handleDesc(event) {\r\n    this.setState({ description: event.editor.getData() });\r\n    //this.setState({ description: \"test\" });\r\n    //console.log(this.setState({ description: event.editor.getData() }));\r\n  }\r\n  handleLocation(event) {\r\n    this.setState({ location: event.value });\r\n  }\r\n  handleURL(event) {\r\n    this.setState({ url: event.value });\r\n  }\r\n\r\n  handleTargetAudience(event) {\r\n    this.setState({ target_audience: event.editor.getData() });\r\n    //this.setState({ target_audience: \"test\" });\r\n  }\r\n\r\n  handleLearningOutcomes(event) {\r\n    this.setState({ learning_outcomes: event.editor.getData() });\r\n    //this.setState({ learning_outcomes: \"hi\" });\r\n  }\r\n\r\n  handleKeywords(event) {\r\n    this.setState({ keywords: event.value });\r\n  }\r\n\r\n  handleOrganisers(event) {\r\n    this.setState({ organisers: event.editor.getData() });\r\n    //this.setState({ organisers: \"test\" });\r\n  }\r\n\r\n  handleTrainers(event) {\r\n    this.setState({ trainers: event.editor.getData() });\r\n    //this.setState({ trainers: \"test\" });\r\n  }\r\n\r\n  setRedirect = () => {\r\n    this.props.history.push('all-training-resources');\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      // setTimeout(() => {\r\n      //  // this.props.redirectTo()\r\n      // }, 1000);\r\n      //await this.handleSubmit();\r\n      //this.props.redirectTo();\r\n    }\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    let resourceID = this.state.nid;\r\n    let title = this.refs.title.value;\r\n    let dates = this.refs.dates.value;\r\n    let dates2 = this.refs.dates2.value;\r\n    let type = this.refs.type.value;\r\n    let description = this.state.description;\r\n    let location = this.refs.location.value;\r\n    let url = this.refs.url.value;\r\n    let target_audience = this.state.target_audience;\r\n    let learning_outcomes = this.state.learning_outcomes;\r\n    let organisers = this.state.organisers;\r\n    let trainers = this.state.trainers;\r\n    let keywords = this.refs.keywords.value;\r\n    let csrf = localStorage.getItem('csrf_token');\r\n\r\n    fetch(`${apiUrl}/node/` + resourceID + '?_format=hal_json', {\r\n      method: 'PATCH',\r\n      credentials: 'include',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': csrf\r\n        //Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        title: [\r\n          {\r\n            value: title\r\n          }\r\n        ],\r\n        field_dates: [\r\n          {\r\n            value: dates\r\n          }\r\n        ],\r\n        field_end_date: [\r\n          {\r\n            value: dates2\r\n          }\r\n        ],\r\n        field_type: [\r\n          {\r\n            value: type\r\n          }\r\n        ],\r\n        field_description: [\r\n          {\r\n            value: description,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_location: [\r\n          {\r\n            value: location\r\n          }\r\n        ],\r\n        field_url: [\r\n          {\r\n            value: url\r\n          }\r\n        ],\r\n        field_target_audience: [\r\n          {\r\n            value: target_audience,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_learning_outcomes: [\r\n          {\r\n            value: learning_outcomes,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_keywords: [\r\n          {\r\n            value: keywords\r\n          }\r\n        ],\r\n        field_organisers: [\r\n          {\r\n            value: organisers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_trainers: [\r\n          {\r\n            value: trainers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    //event.target.reset();\r\n    event.preventDefault();\r\n    setTimeout(() => {\r\n      this.props.redirectTo();\r\n    }, 1000);\r\n    //this.props.redirectTo();\r\n\r\n    //this.setState({ updateFlag: true });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Edit Training Resources</h2>\r\n        {console.log(localStorage.getItem('csrf_token'))}\r\n        <div className=\"row\">\r\n          <div className=\"column large-12 callout\">\r\n            <form\r\n              className=\"form\"\r\n              id={'resource_edit_form'}\r\n              onSubmit={this.handleSubmit.bind(this)}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Title</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref=\"title\"\r\n                    id={'title'}\r\n                    value={this.state.title}\r\n                    onChange={this.handleTitle.bind(this)}\r\n                    required\r\n                    placeholder=\"Title\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-6\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    ref=\"dates\"\r\n                    value={this.state.dates}\r\n                    onChange={this.handleDates.bind(this)}\r\n                    placeholder=\"Date\"\r\n                  />\r\n                </div>\r\n                <div className=\"column large-6\">\r\n                  <strong>Dates</strong>\r\n                  <input\r\n                    type=\"date\"\r\n                    ref=\"dates2\"\r\n                    value={this.state.dates2}\r\n                    onChange={this.handleDates2.bind(this)}\r\n                    placeholder=\"Date\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Event type</strong>\r\n                  <select\r\n                    ref={'type'}\r\n                    value={this.state.type}\r\n                    onChange={this.handleType.bind(this)}\r\n                  >\r\n                    <option value={'Online'}>Online</option>\r\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                    <option value={'Webinar'}>Webinar</option>\r\n                    <option value={'Hackathon'}>Hackathon</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Description</strong>\r\n                  <CKEditor\r\n                    content={this.state.description}\r\n                    events={{\r\n                      change: this.handleDesc\r\n                    }}\r\n                    onChange={this.handleDesc}\r\n                    activeClass=\"p10\"\r\n                    required\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"description\" value={this.state.description} onChange={this.handleDesc.bind(this)} required placeholder=\"Description\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Location</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref=\"location\"\r\n                    value={this.state.location}\r\n                    onChange={this.handleLocation.bind(this)}\r\n                    placeholder=\"Location\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>URL</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref=\"url\"\r\n                    value={this.state.url}\r\n                    onChange={this.handleURL.bind(this)}\r\n                    required\r\n                    placeholder=\"URL\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Target audience</strong>\r\n                  <CKEditor\r\n                    content={this.state.target_audience}\r\n                    events={{\r\n                      change: this.handleTargetAudience\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"target_audience\" value={this.state.target_audience} onChange={this.handleTargetAudience.bind(this)} required placeholder=\"Target audience\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Learning outcomes</strong>\r\n                  <CKEditor\r\n                    content={this.state.learning_outcomes}\r\n                    events={{\r\n                      change: this.handleLearningOutcomes\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"learning_outcomes\" value={this.state.learning_outcomes} onChange={this.handleLearningOutcomes.bind(this)} required placeholder=\"Learning outcomes\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Organisers</strong>\r\n                  <CKEditor\r\n                    content={this.state.organisers}\r\n                    events={{\r\n                      change: this.handleOrganisers\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"organisers\" value={this.state.organisers} onChange={this.handleOrganisers.bind(this)} required placeholder=\"Organisers\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Trainers</strong>\r\n                  <CKEditor\r\n                    content={this.state.trainers}\r\n                    events={{\r\n                      change: this.handleTrainers\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"trainers\" value={this.state.trainers} onChange={this.handleTrainers.bind(this)} required placeholder=\"Trainers\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Keywords</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    ref=\"keywords\"\r\n                    value={this.state.keywords}\r\n                    onChange={this.handleKeywords.bind(this)}\r\n                    placeholder=\"Keywords\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-2\">\r\n                  <input type=\"submit\" className=\"button\" value=\"Update\" />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst EditResources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resource/edit/:nid\" component={ResourceEdit} />\r\n  </Switch>\r\n);\r\n\r\nexport default EditResources;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dropzone from 'react-dropzone';\n\nclass FileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Dropzone\n        onDrop={acceptedFiles => {\n          console.log(acceptedFiles);\n          const reader = new FileReader();\n\n          reader.onabort = () => console.log('file reading was aborted');\n          reader.onerror = () => console.log('file reading has failed');\n          reader.onload = () => {\n            // Do whatever you want with the file contents\n            const binaryStr = reader.result;\n            console.log(binaryStr);\n          };\n          document.getElementById('fileupload').append(acceptedFiles[0].name);\n          acceptedFiles.forEach(file => reader.readAsArrayBuffer(file));\n        }}\n      >\n        {({ getRootProps, getInputProps }) => (\n          <section>\n            <div {...getRootProps()}>\n              <input {...getInputProps()} />\n              <a href=\"#\">Click to upload image</a>\n            </div>\n          </section>\n        )}\n      </Dropzone>\n    );\n  }\n}\n\nexport default FileUpload;\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport CKEditor from 'react-ckeditor-component';\r\nimport FileUpload from './FileUpload';\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ResourceCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //this.onChange = this.onChange.bind(this);\r\n    this.changeDescription = this.changeDescription.bind(this);\r\n    this.changeTargetAudience = this.changeTargetAudience.bind(this);\r\n    this.changeLearningOutcomes = this.changeLearningOutcomes.bind(this);\r\n    this.changeOrganisers = this.changeOrganisers.bind(this);\r\n    this.changeTrainers = this.changeTrainers.bind(this);\r\n\r\n    this.state = {\r\n      data: [],\r\n      csrf: '',\r\n      updateFlag: false,\r\n      content: 'content',\r\n      description: '',\r\n      target_audience: '',\r\n      learning_outcomes: '',\r\n      organisers: '',\r\n      trainers: ''\r\n    };\r\n  }\r\n\r\n  changeDescription(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ description: newContent });\r\n  }\r\n\r\n  changeTargetAudience(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ target_audience: newContent });\r\n  }\r\n\r\n  changeLearningOutcomes(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ learning_outcomes: newContent });\r\n  }\r\n\r\n  changeOrganisers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ organisers: newContent });\r\n  }\r\n\r\n  changeTrainers(evt) {\r\n    let newContent = evt.editor.getData();\r\n    this.setState({ trainers: newContent });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      setTimeout(() => {\r\n        this.props.history.push('/all-training-resources');\r\n        //this.setState({'updateFlag': false});\r\n      }, 1000);\r\n\r\n      console.log('componentDidUpdate');\r\n    }\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n    console.log(localStorage.getItem('roles'));\r\n  }\r\n\r\n  componentDidMount() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    let title = this.refs.title.value;\r\n    let dates = this.refs.dates.value;\r\n    let dates2 = this.refs.dates2.value;\r\n    let type = 'Online';\r\n    if (this.refs.type.value) {\r\n      type = this.refs.type.value;\r\n    }\r\n\r\n    let description = this.state.description;\r\n    let location = this.refs.location.value;\r\n    let url = this.refs.url.value;\r\n    let target_audience = this.state.target_audience;\r\n    let learning_outcomes = this.state.learning_outcomes;\r\n    let keywords = this.refs.keywords.value;\r\n    let organisers = this.state.organisers;\r\n    let trainers = this.state.trainers;\r\n\r\n    let token = localStorage.getItem('csrf_token');\r\n\r\n    //alert(learning_outcomes);\r\n\r\n    fetch(`${apiUrl}/node?_format=hal_json`, {\r\n      credentials: 'include',\r\n      method: 'POST',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        title: [\r\n          {\r\n            value: title\r\n          }\r\n        ],\r\n        field_dates: [\r\n          {\r\n            value: dates\r\n          }\r\n        ],\r\n        field_end_date: [\r\n          {\r\n            value: dates2\r\n          }\r\n        ],\r\n        field_type: [\r\n          {\r\n            value: type\r\n          }\r\n        ],\r\n        field_description: [\r\n          {\r\n            value: description,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_location: [\r\n          {\r\n            value: location\r\n          }\r\n        ],\r\n        field_url: [\r\n          {\r\n            value: url\r\n          }\r\n        ],\r\n        field_target_audience: [\r\n          {\r\n            value: target_audience,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_learning_outcomes: [\r\n          {\r\n            value: learning_outcomes,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_keywords: [\r\n          {\r\n            value: keywords\r\n          }\r\n        ],\r\n        field_organisers: [\r\n          {\r\n            value: organisers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n        field_trainers: [\r\n          {\r\n            value: trainers,\r\n            format: 'basic_html'\r\n          }\r\n        ],\r\n\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    event.target.reset();\r\n    this.setState({ updateFlag: true });\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    return (\r\n      <div>\r\n        <h2>Create Training Resources</h2>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"column large-12 callout\">\r\n            <h4>Create new competency</h4>\r\n            <form\r\n              className=\"form\"\r\n              id={'resource_create_form'}\r\n              onSubmit={this.handleSubmit.bind(this)}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Title</strong>\r\n                  <input type=\"text\" ref=\"title\" required placeholder=\"Title\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-6\">\r\n                  <strong>Start Date</strong>\r\n                  <input type=\"date\" ref=\"dates\" placeholder=\"Date\" />\r\n                </div>\r\n                <div className=\"column large-6\">\r\n                  <strong>End Date</strong>\r\n                  <input type=\"date\" ref=\"dates2\" placeholder=\"Date\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Event type</strong>\r\n                  <select ref={'type'}>\r\n                    <option value={'Online'}>Online</option>\r\n                    <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                    <option value={'Webinar'}>Webinar</option>\r\n                    <option value={'Hackathon'}>Hackathon</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Description</strong>\r\n                  <CKEditor\r\n                    content={this.state.description}\r\n                    events={{\r\n                      change: this.changeDescription\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                    required\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"description\" required placeholder=\"Description\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Location</strong>\r\n                  <input type=\"text\" ref=\"location\" placeholder=\"Location\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>URL</strong>\r\n                  <input type=\"text\" ref=\"url\" required placeholder=\"URL\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Target audience</strong>\r\n                  <CKEditor\r\n                    content={this.state.target_audience}\r\n                    events={{\r\n                      change: this.changeTargetAudience\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<input type=\"text\" ref=\"target_audience\" required placeholder=\"Target audience\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Learning outcomes</strong>\r\n                  <CKEditor\r\n                    content={this.state.learning_outcomes}\r\n                    events={{\r\n                      change: this.changeLearningOutcomes\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"learning_outcomes\" required placeholder=\"Learning outcomes\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Organisers</strong>\r\n                  <CKEditor\r\n                    content={this.state.organisers}\r\n                    events={{\r\n                      change: this.changeOrganisers\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n\r\n                  {/*<textarea rows={\"5\"} ref=\"organisers\" required placeholder=\"Organisers\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Trainers</strong>\r\n                  <CKEditor\r\n                    content={this.state.trainers}\r\n                    events={{\r\n                      change: this.changeTrainers\r\n                    }}\r\n                    activeClass=\"p10\"\r\n                  />\r\n                  {/*<textarea rows={\"5\"} ref=\"trainers\" required placeholder=\"Trainers\"/>*/}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>Keywords</strong>\r\n                  <input type=\"text\" ref=\"keywords\" placeholder=\"Keywords\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div id=\"fileupload\" className=\"row\">\r\n                <div className=\"column large-12\">\r\n                  <strong>File upload</strong>\r\n                  <FileUpload />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"column large-2\">\r\n                  <input type=\"submit\" className=\"button\" value=\"Submit\" />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CreateResources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resource/create\" component={ResourceCreate} />\r\n  </Switch>\r\n);\r\n\r\nexport default CreateResources;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { apiUrl } from '../services/http/http';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nconst $ = window.$;\r\n\r\nclass AttributeMap extends React.Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      //framework: this.props.selectedFramework,\r\n      //resourceID: this.props.resourceID,\r\n      framework: this.props.location.pathname.split('/')[4],\r\n      resourceID: this.props.location.pathname.split('/')[2],\r\n      frameworkdetails: [],\r\n      csrf: '',\r\n      frameworkUUID: '',\r\n      competencies: [],\r\n      //attributes: this.props.selectedAttributes,\r\n      //selectedAttributes: this.props.selectedAttributes,\r\n      selectedAttributes: [],\r\n      //selectedCompetencies: this.props.selectedCompetencies,\r\n      resourceDetails: '',\r\n      resourcePath: this.props.location.pathname.split('/')\r\n    };\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    //this.loadSelectedAttributes = this.loadSelectedAttributes.bind(this);\r\n  }\r\n\r\n  async handleSelect() {\r\n    let checkedAttributes = this.state.selectedAttributes;\r\n    let attributeIDs = [];\r\n    let token = localStorage.getItem('csrf_token');\r\n    for (let i = 0; i < checkedAttributes.length; i++) {\r\n      attributeIDs.push(checkedAttributes[i].split('id', 2));\r\n    }\r\n\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      await Promise.all([\r\n        this.competencyService.attrmap(this.state.resourceID, attributeIDs)\r\n      ]);\r\n    } catch (error) {\r\n      this.setState({ loadingError: true });\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n      this.props.history.push('/training-resources/' + this.state.resourceID);\r\n    }\r\n  }\r\n\r\n  handleAllCheck(id, uuid, e) {\r\n    const selectedAttributes = this.state.selectedAttributes;\r\n    let childItems = document.getElementsByName(id);\r\n    if (e.target.checked) {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        childItems[i].checked = true;\r\n        selectedAttributes.push(\r\n          // childItems[i].getAttribute('data-uuid') +\r\n          //   'id' +\r\n          childItems[i].getAttribute('data-id')\r\n        );\r\n        this.setState({ selectedAttributes });\r\n        //console.log(this.state.selectedAttributes);\r\n      }\r\n    } else {\r\n      for (let i = 0; i < childItems.length; i++) {\r\n        if (childItems[i].checked === true) {\r\n          childItems[i].checked = false;\r\n          //selectedAttributes.pop(childItems[i].getAttribute('data-id'));\r\n          //let index = array.indexOf(element);\r\n          selectedAttributes.splice(\r\n            selectedAttributes.indexOf(childItems[i]),\r\n            1\r\n          );\r\n          this.setState({ selectedAttributes });\r\n          //console.log(this.state.selectedAttributes);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handleAttributeClick(id, uuid, e) {\r\n    let selectedAttributes = this.state.selectedAttributes;\r\n    //let selectedAttributes =\r\n    let isChecked = e.target.checked;\r\n    if (isChecked) {\r\n      //selectedAttributes.push(uuid + 'id' + id);\r\n      selectedAttributes.push(id);\r\n      this.setState({ selectedAttributes });\r\n      document.getElementById(e.target.name).checked = true;\r\n      console.log(selectedAttributes);\r\n    } else {\r\n      //selectedAttributes.pop(id);\r\n      selectedAttributes.splice(selectedAttributes.indexOf(id), 1);\r\n      this.setState({ selectedAttributes });\r\n      if (!$(':checkbox[name=' + e.target.name + ']').is(':checked')) {\r\n        document.getElementById(e.target.name).checked = false;\r\n        //console.log(this.state.selectedAttributes);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleListAllChecked(e) {\r\n    let lists = [];\r\n    $(':checkbox').each(function() {\r\n      if ($(this).is(':checked')) {\r\n        lists.push($(this).attr('id'));\r\n      }\r\n    });\r\n    alert(lists);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch(\r\n      `${apiUrl}` +\r\n        '/api/resources/?_format=hal_json&id=' +\r\n        this.state.resourceID +\r\n        '&timestamp=' +\r\n        Date.now()\r\n    )\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resourceDetails: findresponse\r\n        });\r\n      });\r\n\r\n    console.log(this.state.resourceDetails);\r\n\r\n    let selectedAttributes = [];\r\n    this.state.resourceDetails.competency_profile.map(profile => {\r\n      //if(profile.title.toLowerCase() == this.state.framewor  k){\r\n      profile.domains.map(domain => {\r\n        domain.competencies.map(competency => {\r\n          competency.attributes.map(attribute => {\r\n            selectedAttributes.push(attribute.id);\r\n          });\r\n        });\r\n      });\r\n      //}\r\n    });\r\n\r\n    this.setState({ selectedAttributes: selectedAttributes });\r\n\r\n    //console.log(this.state.framework);\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    let fetchFrameworkDetails = `${apiUrl}/api/version_manager?_format=json&timestamp=${Date.now()}`;\r\n    await fetch(fetchFrameworkDetails)\r\n      .then(Response => Response.json())\r\n      .then(findresponse1 => {\r\n        this.setState({\r\n          frameworkdetails: findresponse1\r\n        });\r\n      });\r\n\r\n    let latest_version = '';\r\n\r\n    this.state.frameworkdetails.map(detail => {\r\n      if (detail.title.toLowerCase() == this.state.framework) {\r\n        detail.versions.map(version => {\r\n          if (version.status == 'live') {\r\n            latest_version = version.number;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    let fetchCompetencyList =\r\n      `${apiUrl}` +\r\n      '/api/' +\r\n      this.state.framework +\r\n      '/' +\r\n      latest_version +\r\n      '?_format=json';\r\n    console.log(fetchCompetencyList);\r\n    await fetch(fetchCompetencyList)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          data: findresponse\r\n        });\r\n      });\r\n\r\n    //this.loadSelectedAttributes();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.state.attributes === nextState.attributes;\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.state.data);\r\n    let frameworkDetails = this.state.frameworkdetails;\r\n    let data = this.state.data;\r\n    let frameworkDefs = [];\r\n    let domainsOptions = [];\r\n    let attributeTypeOptions = [];\r\n    let resDetails = this.state.resourceDetails;\r\n    //let resDetails = this.state.resourceDetails;\r\n    let selectedAttributesArray = [];\r\n    let selectedCompetenciesArray = [];\r\n    if (resDetails) {\r\n      resDetails.competency_profile.map(profile => {\r\n        profile.domains.map(domain => {\r\n          domain.competencies.map(competency => {\r\n            selectedCompetenciesArray.push(competency.id);\r\n            competency.attributes.map(attribute => {\r\n              selectedAttributesArray.push(attribute.id);\r\n            });\r\n          });\r\n        });\r\n      });\r\n\r\n      //console.log(selectedAttributesArray);\r\n    }\r\n    //this.loadSelectedAttributes();\r\n\r\n    frameworkDetails.forEach((item, ikey) => {\r\n      if (item.title.toLowerCase() === this.state.framework) {\r\n        //this.state.frameworkUUID = item.uuid;\r\n        item.attribute_types.forEach(attribute_type => {\r\n          frameworkDefs.push(attribute_type.title);\r\n          attributeTypeOptions.push(\r\n            <option data-id={attribute_type.id} value={attribute_type.uuid}>\r\n              {attribute_type.title}\r\n            </option>\r\n          );\r\n        });\r\n        item.domains.forEach(domain => {\r\n          domainsOptions.push(\r\n            <option data-id={domain.id} value={domain.uuid}>\r\n              {domain.title}\r\n            </option>\r\n          );\r\n        });\r\n      }\r\n    });\r\n\r\n    // console.log(data);\r\n\r\n    const ListOfCompetencies = data.map(item =>\r\n      item.domains.map((domain, did) => (\r\n        <tbody>\r\n          <tr key={domain.nid}>\r\n            <td>{did + 1}</td>{' '}\r\n            <td>\r\n              <strong> {domain.title}</strong>{' '}\r\n            </td>{' '}\r\n          </tr>\r\n          {domain.competencies.map((competency, cid) => (\r\n            <tr key={competency.id}>\r\n              <td>\r\n                {did + 1}.{cid + 1}\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type={'checkbox'}\r\n                  defaultChecked={\r\n                    -1 !== selectedCompetenciesArray.indexOf(competency.id)\r\n                  }\r\n                  data-test={competency.uuid}\r\n                  id={competency.id}\r\n                  onChange={this.handleAllCheck.bind(\r\n                    this,\r\n                    competency.id,\r\n                    competency.uuid\r\n                  )}\r\n                />{' '}\r\n                {competency.title}\r\n                <ul style={{ marginLeft: 1 + 'em', marginBottom: 1 + 'em' }}>\r\n                  {frameworkDefs.map(def => {\r\n                    return (\r\n                      <div style={{ marginLeft: 1 + 'em' }}>\r\n                        <div>\r\n                          {' '}\r\n                          <strong>\r\n                            <em>{def}</em>\r\n                          </strong>\r\n                        </div>\r\n                        {competency.attributes\r\n                          .filter(attribute => attribute.type === def)\r\n                          .map(attribute => {\r\n                            return (\r\n                              <li\r\n                                key={attribute.id}\r\n                                style={{ marginLeft: 1 + 'em' }}\r\n                              >\r\n                                <input\r\n                                  type={'checkbox'}\r\n                                  defaultChecked={\r\n                                    -1 !==\r\n                                    selectedAttributesArray.indexOf(\r\n                                      //attribute.uuid + 'id' + attribute.id\r\n                                      attribute.id\r\n                                    )\r\n                                  }\r\n                                  name={competency.id}\r\n                                  data-id={attribute.id}\r\n                                  data-uuid={attribute.uuid}\r\n                                  id={attribute.id}\r\n                                  onChange={this.handleAttributeClick.bind(\r\n                                    this,\r\n                                    attribute.id,\r\n                                    attribute.uuid\r\n                                  )}\r\n                                />{' '}\r\n                                <span className={attribute.archived}>\r\n                                  {' '}\r\n                                  {attribute.title}\r\n                                </span>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          <tr>\r\n            <td>\r\n              <td />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      ))\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <h2>{resDetails.title}</h2>\r\n        <h4>Type: {resDetails.type}</h4>\r\n        <h4>URL: {resDetails.url}</h4>\r\n        <table className={'table'}>{ListOfCompetencies}</table>\r\n        <div id={'footer-button'}>\r\n          <button className={'button'} onClick={this.handleSelect.bind(this)}>\r\n            {' '}\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst AttrMap = () => (\r\n  <Switch>\r\n    <Route\r\n      exact\r\n      path=\"/training-resources/:id/map/:framework\"\r\n      component={AttributeMap}\r\n    />\r\n  </Switch>\r\n);\r\n\r\nexport default AttrMap;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\nimport { Link } from 'react-router-dom';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\n// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement('#root');\n\nclass ItemVersions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalIsOpen: false\n    };\n\n    this.openModal = this.openModal.bind(this);\n    // this.afterOpenModal = this.afterOpenModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  openModal() {\n    this.setState({ modalIsOpen: true });\n  }\n\n  // afterOpenModal() {\n  //   // references are now sync'd and can be accessed.\n  //   this.subtitle.style.color = '#f00';\n  // }\n\n  closeModal() {\n    this.setState({ modalIsOpen: false });\n  }\n\n  render() {\n    return (\n      <span>\n        <button onClick={this.openModal}>\n          {' '}\n          <i className={'fa fa-question-circle'} />{' '}\n        </button>\n        <Modal\n          isOpen={this.state.modalIsOpen}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModal}\n          style={customStyles}\n          contentLabel=\"Example Modal\"\n        >\n          <button className={'float-right'} onClick={this.closeModal}>\n            <i className={'fa fa-window-close'} />\n          </button>\n          <p />\n          <div className={'callout'}>\n            This item is deprecated in the latest version of this framework.\n            Please see the\n            <Link\n              to={`/framework/${this.props.framework.toLowerCase()}/${\n                this.props.version\n              }`}\n            >\n              {' '}\n              release notes\n            </Link>\n          </div>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default ItemVersions;\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport ReactModal from 'react-modal';\r\nimport AttributeMap from './AttributeMap';\r\nimport Parser from 'html-react-parser';\r\nimport ItemVersions from '../containers/framework-versions/VersionNotice';\r\nimport { apiUrl } from '../services/http/http';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ResourceDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resource: [],\r\n      frameworks: [],\r\n      resourcePath: this.props.location.pathname.split('/'),\r\n      showModal: false,\r\n      selectedFramework: '',\r\n      updateFlag: ''\r\n    };\r\n    this.handleOpenModal = this.handleOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n  }\r\n\r\n  handleOpenModal(event, temp) {\r\n    this.setState({ showModal: true });\r\n    this.setState({ selectedFramework: event });\r\n    temp.preventDefault();\r\n    //console.log(event);\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ showModal: false });\r\n    this.setState({ updateFlag: true });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n      console.log('componentDidUpdate');\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    //&timestamp=${Date.now()}\r\n\r\n    /*let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=hal_json`;*/\r\n    let resourcesURL = `${apiUrl}/api/resources/?_format=json&id=${\r\n      this.state.resourcePath[2]\r\n    }&timestamp=${Date.now()}`;\r\n    console.log(resourcesURL);\r\n    fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse3 => {\r\n        this.setState({ resource: findresponse3 });\r\n      });\r\n\r\n    //fetch(`${apiUrl}/api/v1/framework?_format=json`)\r\n    fetch(`${apiUrl}/api/version_manager?_format=json`)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          frameworks: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  mappingBlock() {\r\n    if (localStorage.getItem('roles')) {\r\n      if (localStorage.getItem('roles').includes('content_manager')) {\r\n        return (\r\n          <div className={'callout white-color industry-background'}>\r\n            <strong> Manage competency profile </strong>\r\n            <ul>\r\n              {this.state.frameworks.map((item, id) => {\r\n                return (\r\n                  // <li style={{ display: 'inline', margin: '5px' }}>\r\n                  //   <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n                  //     onClick={this.handleOpenModal.bind(\r\n                  //       this,\r\n                  //       item.name.toLowerCase()\r\n                  //     )}\r\n                  //   >\r\n                  //     {' '}\r\n                  //     <i className=\"fas fa-tags\" /> {item.name}{' '}\r\n                  //   </a>\r\n                  // </li>\r\n\r\n                  <li style={{ display: 'inline', margin: '5px' }}>\r\n                    <a\r\n                      href={\r\n                        '/training-resources/' +\r\n                        this.state.resourcePath[2] +\r\n                        '/map/' +\r\n                        item.title.toLowerCase()\r\n                      }\r\n                    >\r\n                      {' '}\r\n                      <i className=\"fas fa-tags\" /> {item.title}{' '}\r\n                    </a>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.state.resources);\r\n    let attributes = [];\r\n    let selectedCompetencies = [];\r\n    let attribute_types = [];\r\n    //let framework_repeat = [];\r\n    //console.log(this.state.resource);\r\n    let item = this.state.resource;\r\n    let frameworkLiveVersion = '';\r\n\r\n    let link = '/bioexcel/1.1';\r\n    let check_array = Array.isArray(item.competency_profile);\r\n    const Resource = (\r\n      // this.state.resource.map((item, index) => {\r\n      //   if (item.id === this.state.resourcePath[2]) {\r\n      //     item.competency_profile.map(profile =>\r\n      //       profile.domains.map(domain =>\r\n      //         domain.competencies.map(competency =>\r\n      //           competency.attributes.map(\r\n      //             attribute =>\r\n      //               attributes.push(attribute.uuid + 'id' + attribute.id),\r\n      //             selectedCompetencies.push(competency.id)\r\n      //           )\r\n      //         )\r\n      //       )\r\n      //     );\r\n\r\n      //     item.competency_profile.map(profile =>\r\n      //         selectedCompetencies.push(profile.competency_id)\r\n      //       );\r\n\r\n      //return (\r\n      <div>\r\n        <div>\r\n          <div className={'row'}>\r\n            <h2>{item.title}</h2>\r\n            <span className=\"float-right\">\r\n              {' '}\r\n              <Link\r\n                to={'/training-resource/edit/' + this.state.resourcePath[2]}\r\n              >\r\n                {' '}\r\n                <i class=\"fas fa-edit\" /> Edit{' '}\r\n              </Link>\r\n            </span>\r\n          </div>\r\n\r\n          <div className={'row'}>\r\n            <div className={'column large-9'}>\r\n              <div className={'callout'}>\r\n                {item.date ? (\r\n                  <p>\r\n                    <strong>Date:</strong> {item.dates}\r\n                  </p>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                {item.keywords ? (\r\n                  <p>\r\n                    <strong>Keywords:</strong> {item.keywords}\r\n                  </p>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                {item.location ? (\r\n                  <p>\r\n                    <strong>Location:</strong> {item.location}\r\n                  </p>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                {item.type ? (\r\n                  <p>\r\n                    <strong>Type:</strong> {item.type}\r\n                  </p>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                {item.url ? (\r\n                  <p>\r\n                    <strong> URL: </strong>{' '}\r\n                    <a href={item.url} target={'_blank'}>\r\n                      {item.url}\r\n                    </a>\r\n                  </p>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </div>\r\n              <h3>Overview</h3>\r\n              {item.description ? Parser(item.description) : ''}\r\n\r\n              {item.target_audience\r\n                ? Parser('<h3>Target Audience</h3>' + item.target_audience)\r\n                : ''}\r\n              {item.learning_outcomes\r\n                ? Parser('<h3>Learning Outcomes</h3>' + item.learning_outcomes)\r\n                : ''}\r\n              {item.organisers\r\n                ? Parser('<h3>Organizers</h3>' + item.organisers)\r\n                : ''}\r\n\r\n              {item.trainers ? Parser('<h3>Trainers</h3>' + item.trainers) : ''}\r\n              <h3>Competency Profile</h3>\r\n\r\n              <table className={'hover'}>\r\n                <tbody>\r\n                  {check_array\r\n                    ? item.competency_profile.map(profile => {\r\n                        return (\r\n                          <tr>\r\n                            {this.state.frameworks.map(framework => {\r\n                              if (framework.nid === profile.id) {\r\n                                framework.attribute_types.map(type =>\r\n                                  attribute_types.push(type.title)\r\n                                );\r\n                                frameworkLiveVersion = framework.versions.find(\r\n                                  version => version.status === 'live'\r\n                                );\r\n                              }\r\n\r\n                              return null;\r\n                            })}\r\n                            <td>\r\n                              <h4>{profile.title}</h4>\r\n                            </td>\r\n                            <td>\r\n                              {profile.domains.map(domain => (\r\n                                <div>\r\n                                  <h5>{domain.title}</h5>\r\n                                  <ul>\r\n                                    {domain.competencies.map(competency => (\r\n                                      <li>\r\n                                        <span\r\n                                          className={\r\n                                            competency.archived === 'archived'\r\n                                              ? 'archived'\r\n                                              : ''\r\n                                          }\r\n                                        >\r\n                                          {competency.title}\r\n                                          {competency.archived === 'archived' ? (\r\n                                            <ItemVersions\r\n                                              framework=\"bioexcel\"\r\n                                              versions={link}\r\n                                            />\r\n                                          ) : (\r\n                                            ''\r\n                                          )}\r\n                                        </span>\r\n                                        <ul>\r\n                                          {attribute_types.map(type => (\r\n                                            <span>\r\n                                              {competency.attributes.map(\r\n                                                attribute => {\r\n                                                  if (attribute.type === type) {\r\n                                                    return (\r\n                                                      <li>\r\n                                                        {' '}\r\n                                                        <em>{type}</em> -{' '}\r\n                                                        <span\r\n                                                          className={\r\n                                                            attribute.archived ===\r\n                                                            'archived'\r\n                                                              ? 'archived'\r\n                                                              : ''\r\n                                                          }\r\n                                                        >\r\n                                                          {attribute.title}\r\n                                                          {attribute.archived ===\r\n                                                          'archived' ? (\r\n                                                            <ItemVersions\r\n                                                              framework={\r\n                                                                profile.title\r\n                                                              }\r\n                                                              version={\r\n                                                                frameworkLiveVersion.number\r\n                                                              }\r\n                                                            />\r\n                                                          ) : (\r\n                                                            ''\r\n                                                          )}\r\n                                                          {attribute.archived ===\r\n                                                          'archived' ? (\r\n                                                            <a\r\n                                                              href={\r\n                                                                '/training-resources/' +\r\n                                                                item.id +\r\n                                                                '/demap/' +\r\n                                                                attribute.id\r\n                                                              }\r\n                                                            >\r\n                                                              <i class=\"fas fa-times-circle\" />\r\n                                                            </a>\r\n                                                          ) : (\r\n                                                            ''\r\n                                                          )}\r\n                                                        </span>\r\n                                                      </li>\r\n                                                    );\r\n                                                  }\r\n                                                  return null;\r\n                                                }\r\n                                              )}\r\n                                            </span>\r\n                                          ))}\r\n                                        </ul>\r\n                                      </li>\r\n                                    ))}\r\n                                  </ul>\r\n                                </div>\r\n                              ))}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    : ''}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div\r\n              className={\r\n                'column large-3 callout industry-background white-color'\r\n              }\r\n            >\r\n              <h3>More information</h3>\r\n              <p>No data available</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className={'row'}>\r\n        <div className={'column large-12'}>\r\n          {Resource}\r\n          {this.mappingBlock()}\r\n        </div>\r\n\r\n        <div style={{ overflow: 'scroll' }}>\r\n          <ReactModal\r\n            isOpen={this.state.showModal}\r\n            className=\"Modal\"\r\n            overlayClassName=\"Overlay\"\r\n            contentLabel=\"Minimal Modal Example\"\r\n          >\r\n            <div>\r\n              <h2 style={{ 'text-align': 'center' }}>\r\n                Manage competency profile for{' '}\r\n                {this.state.selectedFramework.toUpperCase()}{' '}\r\n                <i\r\n                  className=\"fas fa-window-close float-right\"\r\n                  data-close\r\n                  onClick={this.handleCloseModal}\r\n                />{' '}\r\n              </h2>\r\n            </div>\r\n            <table>\r\n              <AttributeMap\r\n                selectedCompetencies={selectedCompetencies}\r\n                selectedAttributes={attributes}\r\n                selectedFramework={this.state.selectedFramework}\r\n                resourceID={this.state.resourcePath[2]}\r\n                handleCloseModal={this.handleCloseModal}\r\n              />\r\n            </table>\r\n          </ReactModal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst ResDetails = () => (\r\n  <Switch>\r\n    <Route exact path=\"/training-resources/:id\" component={ResourceDetails} />\r\n  </Switch>\r\n);\r\n\r\nexport default ResDetails;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Parser from 'html-react-parser';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ResourcesList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resources: [],\r\n      filterType: '',\r\n      filterMapping: '',\r\n      userid: ''\r\n    };\r\n    this.archiveHandle = this.archiveHandle.bind(this);\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\r\n      alert(\r\n        'You are not authorised to access this page. Contact the administrator'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n    console.log(localStorage.getItem('roles'));\r\n    //console.log(localStorage.getItem('userid'));\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.updateFlag) {\r\n      this.fetchData();\r\n      setTimeout(() => {\r\n        this.setState({ updateFlag: false });\r\n      }, 1000);\r\n      console.log('componentDidUpdate');\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData() {\r\n    let csrfURL = `${apiUrl}/rest/session/token`;\r\n    fetch(csrfURL)\r\n      .then(Response => Response)\r\n      .then(findresponse2 => {\r\n        this.setState({ csrf: findresponse2 });\r\n      });\r\n\r\n    //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\r\n    let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\r\n    fetch(resourcesURL)\r\n      .then(Response => Response.json())\r\n      .then(findresponse => {\r\n        this.setState({\r\n          resources: findresponse\r\n        });\r\n      });\r\n  }\r\n\r\n  checkAuthor(author_id) {\r\n    let userid = localStorage.getItem('userid');\r\n    if (userid == author_id) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n    //console.log(localStorage.getItem('userid'));\r\n  }\r\n\r\n  filter(e) {\r\n    this.setState({ filter: e.target.value });\r\n  }\r\n\r\n  filterTypeHandle(e) {\r\n    this.setState({ filterType: e.target.value });\r\n  }\r\n\r\n  filterMappingHandle(e) {\r\n    if (this.state.filterMapping) {\r\n      this.setState({ filterMapping: 0 });\r\n    } else {\r\n      this.setState({ filterMapping: 1 });\r\n    }\r\n  }\r\n\r\n  archiveHandle(rid, status, event) {\r\n    //alert(\"competency \"+ cid+ \"is \"+ status);\r\n    let archivedStatus = '';\r\n    if (status === 1) {\r\n      archivedStatus = false;\r\n    } else {\r\n      archivedStatus = true;\r\n    }\r\n    let token = localStorage.getItem('csrf_token');\r\n    fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      cookies: 'x-access-token',\r\n      headers: {\r\n        Accept: 'application/hal+json',\r\n        'Content-Type': 'application/hal+json',\r\n        'X-CSRF-Token': token,\r\n        Authorization: 'Basic'\r\n      },\r\n      body: JSON.stringify({\r\n        _links: {\r\n          type: {\r\n            href: `${apiUrl}/rest/type/node/training_resource`\r\n          }\r\n        },\r\n        field_archived: [\r\n          {\r\n            value: archivedStatus\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            target_id: 'training_resource'\r\n          }\r\n        ]\r\n      })\r\n    });\r\n\r\n    this.setState({ updateFlag: true });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    let resources = this.state.resources;\r\n    if (this.state.filter) {\r\n      resources = resources.filter(\r\n        item =>\r\n          item.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\r\n          item.description\r\n            .toLocaleLowerCase()\r\n            .includes(this.state.filter.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (this.state.filterType !== 'All') {\r\n      resources = resources.filter(item =>\r\n        item.type\r\n          .toLocaleLowerCase()\r\n          .includes(this.state.filterType.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (this.state.filterMapping) {\r\n      resources = resources.filter(item =>\r\n        item.competency_profile.some(\r\n          profile =>\r\n            profile.attribute_archived == 'archived' ||\r\n            profile.competency_archived == 'archived' ||\r\n            profile.domain == 'archived'\r\n        )\r\n      );\r\n      console.log('filter applied');\r\n    }\r\n\r\n    const ListOfResources = resources.map((item, index) => (\r\n      <tr key={index}>\r\n        <td>{index + 1} </td>\r\n        <td>\r\n          {' '}\r\n          <Link to={'/training-resources/' + item.id}>{item.title} </Link>\r\n        </td>\r\n        <td>{item.dates}</td>\r\n        <td>{item.type}</td>\r\n        <td>\r\n          <a href={item.url} target={'_blank'}>\r\n            {item.url}\r\n          </a>\r\n        </td>\r\n        <td>\r\n          {item.archived === '1' ? (\r\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n              onClick={this.archiveHandle.bind(this, item.id, 1)}\r\n            >\r\n              {' '}\r\n              <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\r\n            </a>\r\n          ) : (\r\n            <a // eslint-disable-line jsx-a11y/anchor-is-valid\r\n              onClick={this.archiveHandle.bind(this, item.id, 0)}\r\n            >\r\n              {' '}\r\n              <i className=\"fas fa-toggle-off\" />\r\n            </a>\r\n          )}\r\n        </td>\r\n        <td>\r\n          {this.checkAuthor(item.author) ? (\r\n            <Link to={`/training-resource/edit/${item.id}`}>\r\n              <i className=\"fas fa-edit\" />{' '}\r\n            </Link>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </td>\r\n      </tr>\r\n    ));\r\n    return (\r\n      <div className={'row'}>\r\n        <h3>Training Resources</h3>\r\n        <div className=\"row\">\r\n          <div className=\"column large-6\">\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                onChange={this.filter.bind(this)}\r\n                placeholder=\"Type to search\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"column large-2\">\r\n            <div>\r\n              <select ref={'type'} onChange={this.filterTypeHandle.bind(this)}>\r\n                <option value={'All'}>All</option>\r\n                <option value={'Online'}>Online</option>\r\n                <option value={'Face-to-Face'}>Face-to-Face</option>\r\n                <option value={'Webinar'}>Webinar</option>\r\n                <option value={'Hackathon'}>Hackathon</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"column large-3\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"checkboxMapping\"\r\n              checked={this.state.filterMapping}\r\n              onChange={this.filterMappingHandle.bind(this)}\r\n            />\r\n            <span id=\"checkboxMappingLabel\" for=\"checkboxMapping\">\r\n              Items with deprecated mapping\r\n            </span>\r\n          </div>\r\n          <div className={'column large-1'}>\r\n            <Link\r\n              className={'button float-right'}\r\n              to={'/training-resource/create'}\r\n            >\r\n              <i className=\"fas fa-plus-circle\"> </i> Add new{' '}\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>S. No.</th>\r\n              <th>Title</th>\r\n              <th>Date(s)</th>\r\n              <th>Type</th>\r\n              <th>URL</th>\r\n              <th>Archive</th>\r\n              <th>Edit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{ListOfResources}</tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Resources = () => (\r\n  <Switch>\r\n    <Route exact path=\"/all-training-resources\" component={ResourcesList} />\r\n  </Switch>\r\n);\r\n\r\nexport default Resources;\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport { Link } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\n\nclass ResourcesHome extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resources: [],\n      filterType: ''\n    };\n    //this.archiveHandle = this.archiveHandle.bind(this);\n  }\n\n  checkUser() {\n    if (!localStorage.getItem('roles')) {\n      this.props.history.push('/');\n    } else if (!localStorage.getItem('roles').includes('content_manager')) {\n      alert(\n        'You are not authorised to access this page. Contact the administrator'\n      );\n      this.props.history.push('/');\n    }\n    console.log(localStorage.getItem('roles'));\n  }\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (this.state.updateFlag) {\n  //     this.fetchData();\n  //     setTimeout(() => {\n  //       this.setState({ updateFlag: false });\n  //     }, 1000);\n  //     console.log('componentDidUpdate');\n  //   }\n  // }\n\n  // componentDidMount() {\n  //   this.fetchData();\n  // }\n\n  // fetchData() {\n  //   let csrfURL = `${apiUrl}/rest/session/token`;\n  //   fetch(csrfURL)\n  //     .then(Response => Response)\n  //     .then(findresponse2 => {\n  //       this.setState({ csrf: findresponse2 });\n  //     });\n\n  //   //let resourcesURL = `${apiUrl}/api/v1/training-resources/all?_format=json`;\n  //   let resourcesURL = `${apiUrl}/api/resources?_format=json&timestamp=${Date.now()}`;\n  //   fetch(resourcesURL)\n  //     .then(Response => Response.json())\n  //     .then(findresponse => {\n  //       this.setState({\n  //         resources: findresponse\n  //       });\n  //     });\n  // }\n\n  // filter(e) {\n  //   this.setState({ filter: e.target.value });\n  // }\n\n  // filterTypeHandle(e) {\n  //   this.setState({ filterType: e.target.value });\n  // }\n\n  // archiveHandle(rid, status, event) {\n  //   //alert(\"competency \"+ cid+ \"is \"+ status);\n  //   let archivedStatus = '';\n  //   if (status === 1) {\n  //     archivedStatus = false;\n  //   } else {\n  //     archivedStatus = true;\n  //   }\n  //   let token = localStorage.getItem('csrf_token');\n  //   fetch(`${apiUrl}/node/` + rid + '?_format=hal_json', {\n  //     credentials: 'include',\n  //     method: 'PATCH',\n  //     cookies: 'x-access-token',\n  //     headers: {\n  //       Accept: 'application/hal+json',\n  //       'Content-Type': 'application/hal+json',\n  //       'X-CSRF-Token': token,\n  //       Authorization: 'Basic'\n  //     },\n  //     body: JSON.stringify({\n  //       _links: {\n  //         type: {\n  //           href: `${apiUrl}/rest/type/node/training_resource`\n  //         }\n  //       },\n  //       field_archived: [\n  //         {\n  //           value: archivedStatus\n  //         }\n  //       ],\n  //       type: [\n  //         {\n  //           target_id: 'training_resource'\n  //         }\n  //       ]\n  //     })\n  //   });\n\n  //   this.setState({ updateFlag: true });\n\n  //   event.preventDefault();\n  // }\n\n  render() {\n    this.checkUser();\n    // let resources = this.state.resources;\n    // if (this.state.filter) {\n    //   resources = resources.filter(\n    //     item =>\n    //       item.title.toLowerCase().includes(this.state.filter.toLowerCase()) ||\n    //       item.description\n    //         .toLocaleLowerCase()\n    //         .includes(this.state.filter.toLowerCase())\n    //   );\n    // }\n\n    // if (this.state.filterType !== 'All') {\n    //   resources = resources.filter(item =>\n    //     item.type\n    //       .toLocaleLowerCase()\n    //       .includes(this.state.filterType.toLowerCase())\n    //   );\n    // }\n\n    // const ListOfResources = resources.map((item, index) => (\n    //   <tr key={index}>\n    //     <td>{index + 1} </td>\n    //     <td>\n    //       {' '}\n    //       <h4>\n    //         {' '}\n    //         <Link to={'/training-resources/' + item.id}>{item.title} </Link>\n    //       </h4>\n    //       <p>{item.dates} </p>\n    //       <strong>Learning resource type:</strong> {item.type} <br />\n    //       {Parser(item.description.substr(0, 240) + '...')} <br />\n    //       <br />\n    //       <strong> URL: </strong>{' '}\n    //       <a href={item.url} target={'_blank'}>\n    //         {item.url}\n    //       </a>\n    //     </td>\n    //     <td>\n    //       {item.archived === '1' ? (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 1)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-on\" /> <span>Archived</span>{' '}\n    //         </a>\n    //       ) : (\n    //         <a // eslint-disable-line jsx-a11y/anchor-is-valid\n    //           onClick={this.archiveHandle.bind(this, item.id, 0)}\n    //         >\n    //           {' '}\n    //           <i className=\"fas fa-toggle-off\" />\n    //         </a>\n    //       )}\n    //     </td>\n    //     <td>\n    //       <Link to={`/training-resource/edit/${item.id}`}>\n    //         <i className=\"fas fa-edit\" />{' '}\n    //       </Link>\n    //     </td>\n    //   </tr>\n    // ));\n    return (\n      <div className={'row'}>\n        <h3>Training Resources</h3>\n        <div className=\"row\">\n          <div className=\"column large-4 callout\">\n            <Link\n              className={'button float-right'}\n              to={'/all-training-resources'}\n            >\n              <i className=\"fas fa-list\"> </i> View published training resources{' '}\n            </Link>\n          </div>\n          <div className=\"column large-4 callout\">\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-list\"> </i> View unpublished training\n              resources{' '}\n            </Link>\n          </div>\n          <div className={'column large-4 callout'}>\n            <Link className={'button float-right'} to={'#'}>\n              <i className=\"fas fa-tasks\"> </i> Manage training resources{' '}\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst ResourcesHomepage = () => (\n  <Switch>\n    <Route exact path=\"/training-resources-home\" component={ResourcesHome} />\n  </Switch>\n);\n\nexport default ResourcesHomepage;\n","import React from 'react';\r\n\r\nimport { apiUrl } from '../services/http/http';\r\n\r\nclass ChangePassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      roles: '',\r\n      user: ''\r\n    };\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n  }\r\n\r\n  handlePasswordChange(e) {\r\n    let old = this.refs.old.value;\r\n    let new1 = this.refs.new1.value;\r\n    let uid = localStorage.getItem('userid');\r\n    fetch(`${apiUrl}/user/` + uid + '?_format=json', {\r\n      credentials: 'include',\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-CSRF-Token': localStorage.getItem('csrf_token')\r\n      },\r\n      body: JSON.stringify({\r\n        \r\n        \"pass\":[\r\n          {\r\n            \"existing\":old,\r\n            \"value\": new1\r\n          }\r\n        ]\r\n      \r\n      })\r\n    })\r\n      .then(resp => resp)\r\n      .then(data =>\r\n        setTimeout(() => {\r\n          alert('Password changed successfully');\r\n          window.location.reload();\r\n        }, 1000)\r\n      );\r\n    e.preventDefault();\r\n  }\r\n\r\n  checkUser() {\r\n    if (!localStorage.getItem('roles')) {\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.checkUser();\r\n    return (\r\n      <div>\r\n        <h3>Change password:</h3>\r\n        <form id={'passChange'}>\r\n          <input type={'password'} ref={'old'} placeholder={'Old password'} />\r\n          <input type={'password'} ref={'new1'} placeholder={'New password'} />\r\n          <input type={'password'} placeholder={'Confirm new password'} />\r\n          <input\r\n            type={'button'}\r\n            className={'button'}\r\n            onClick={this.handlePasswordChange.bind(this)}\r\n            value={'Submit'}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React from 'react';\n\nvar placeholder = document.createElement(\"li\");\nplaceholder.className = \"placeholder\";\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {...props};\n  }\n  dragStart(e) {\n    this.dragged = e.currentTarget;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', this.dragged);\n  }\n  dragEnd(e) {\n    this.dragged.style.display = 'block';\n    this.dragged.parentNode.removeChild(placeholder);\n    \n    // update state\n    var data = this.state.colors;\n    var from = Number(this.dragged.dataset.position);\n    var to = Number(this.over.dataset.position);\n    if(from < to) to--;\n    //data.splice(to, 0, data.splice(from, 1)[0]);\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    this.setState({colors: data});\n    console.log(data);\n  }\n  dragOver(e) {\n    e.preventDefault();\n    this.dragged.style.display = \"none\";\n    if(e.target.className === 'placeholder') return;\n    this.over = e.target;\n    e.target.parentNode.insertBefore(placeholder, e.target);\n  }\n\trender() {\n    //var listItems = this.state.colors.map((item, i) => {\n      var listItems = this.state.colors.map((item, i) => {\n      return (\n        <li \n          data-position={i}\n          key={item.position}\n          //data-position={i}\n          //key={i}\n          draggable='true'\n          onDragEnd={this.dragEnd.bind(this)}\n          onDragStart={this.dragStart.bind(this)}>{item.title}</li>\n\n      )\n\n     });\n\t\treturn (\n\t\t\t<ul onDragOver={this.dragOver.bind(this)}>\n        {listItems}\n      </ul>\n\t\t)\n\t}\n}\n\nexport default List;","import React, { useState, useEffect} from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\n//import { Draggable, Droppable } from 'react-drag-and-drop';\nimport List from './List';\n\nconst UserView = () => {\n  const [user, setUser] = useState();\n  const [test, setTest] = useState();\n  const [frameworks, setFrameworks] = useState();\n  const [frm, setFrm] = useState();\n\n  let colors = [\n                  {id:'101', position:'10', title:'First'},\n                  {id:'102', position:'11', title: 'Second'}, \n                  {id:'103', position:'21', title: 'Third'}, \n                  {id:'104', position:'32', title:'Fourth'}\n                ];\n\n  let uid = localStorage.getItem('userid');\n  //let dt = '';\n  //let year = '';\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/user/${uid}?_format=json`,\n      {\n        credentials: 'include',\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRF-Token': localStorage.getItem('csrf_token')\n        }\n      }\n      )\n      .then(Response => Response.json())\n      .then(findResponse => setUser(findResponse))\n\n      await fetch(`${apiUrl}/api/version_manager/?_format=json`)\n      .then(Response => Response.json())\n      .then(findResponse => setFrameworks(findResponse))\n    }\n    fetchData();\n  },[test])\n    \n    if(!frm && user && frameworks){\n      let test = [];\n      frameworks.map(item => {\n        user.field_frameworks.map(frm => {\n          if(frm.target_id == item.nid)\n            test.push(item.title)\n        })\n      })\n      setFrm(test.join());\n    }\n\n   const onDrop = (data) => {\n        console.log(data)\n        // => banana \n    }\n\n  return(\n    <div>\n      <h2>\n        My profile\n      </h2>\n      <div className=\"row\">\n      <div className=\"column medium-3\">&nbsp;</div>\n        <div className=\"column medium-6\">\n            {user?\n            <table className=\"responsive-table userprofile-table\">\n              <tbody>\n                <tr>\n                  <td><strong>Username:</strong></td><td>{user.name[0].value}</td>\n                </tr>\n                <tr>\n                  <td><strong>Email:</strong></td><td>{user.mail[0].value}</td>\n                </tr>\n                <tr>\n                  <td><strong>Frameworks:</strong></td><td>{frm?frm:''}</td>\n                </tr>\n              </tbody>\n            </table>\n            :\n            \"Loading profile\"\n          }\n        </div>\n        <div className=\"column medium-3\"></div>\n      </div>\n    </div>\n    );\n}\n\nexport const path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/user/view\"\n      component={UserView}\n    />\n  </Switch>\n);\n\nexport default path;","import React from 'react';\r\n\r\nconst About = () => (\r\n  <React.Fragment>\r\n    <h2>About competency mapper</h2>\r\n    <p className=\"lead\">\r\n      Competency mapper is a web-based tool to support the creation and\r\n      management of competency frameworks for professionals working in the\r\n      biomolecular sciences.\r\n    </p>\r\n    <h3>Anyone can..</h3>\r\n    <p>\r\n      <ul>\r\n        <li>\r\n          Explore the five competency frameworks that we currently have in the\r\n          system\r\n        </li>\r\n        <li>\r\n          Click on any competency to find the knowledge, skills and attitudes\r\n          (KSAs) associated with it\r\n        </li>\r\n        <li>\r\n          See the relationships between different competency frameworks; for\r\n          example, if a competency in framework 2 is derived from one in\r\n          framework 1, this information is captured\r\n        </li>\r\n        <li>\r\n          Access a list of courses that have been mapped to a particular\r\n          competency\r\n        </li>\r\n        <li>\r\n          View summary information on each of these courses, including a link\r\n          through to the course website\r\n        </li>\r\n      </ul>\r\n    </p>\r\n    <h3>In addition to the above, content editors can...</h3>\r\n    <ul>\r\n      <li>Map courses to any competency in the mapper</li>\r\n      <li>Map courses to any combination of knowledge, skills and attitudes</li>\r\n    </ul>\r\n    <h3>In addition to the above, administrators can...</h3>\r\n    <ul>\r\n      <li>Build a completely new competency framework from a blank template</li>\r\n      <li>Make minor updates to an existing competency framework</li>\r\n      <li>\r\n        If a competency framework has undergone major updates such as merging,\r\n        splitting or deprecation of competencies, create and publish a new\r\n        version of the framework without overwriting the previous version, and\r\n        without losing links to pre-existing mappings\r\n      </li>\r\n      <li>\r\n        Create and edit multiple personas or roles associated with a competency\r\n        framework\r\n      </li>\r\n      <li>\r\n        For each competency in an associated framework, define the level of\r\n        competency required by any of the personas/roles associated with it,\r\n        using an administrator-defined list of variables.\r\n      </li>\r\n    </ul>\r\n\r\n    <h3>What is competency?</h3>\r\n    <p>\r\n      By definition, competency is an observable ability of any professional,\r\n      integrating multiple components such as knowledge, skills, values and\r\n      attitudes. It is observable, so its acquisition can be validated\r\n      objectively.\r\n    </p>\r\n    <h4>Why is it relevant?</h4>\r\n    <p>\r\n      Competency provides a shared ‘currency’ applicable to learning of all\r\n      types and at all career stages.\r\n    </p>\r\n    <ul>\r\n      <li>\r\n        Individual professionals can use competency as a career development\r\n        tool: by documenting the competencies that you have gained, and the\r\n        evidence that you have gained them, in a competency portfolio you can\r\n        seek further training to fill gaps in your portfolio, or map your\r\n        existing portfolio to roles that you might not previously have\r\n        considered.\r\n      </li>\r\n      <li>\r\n        Professional bodies and employers can use competency to define\r\n        competency frameworks for different roles or professions. These provide\r\n        useful guidance when hiring and promoting individuals, and can also\r\n        provide the basis for professional recognition in regulated professions.\r\n      </li>\r\n      <li>\r\n        Course providers can use competency to develop training (by asking what\r\n        competencies their trainees need to gain) and, where appropriate, to\r\n        assess whether training has been effective.\r\n      </li>\r\n    </ul>\r\n\r\n    <h3>What is a competency framework?</h3>\r\n    <p>\r\n      A competency framework defines the competencies required to fulfil a\r\n      particular role. competency frameworks are typically defined by\r\n      professional bodies or learned societies in collaboration with employers.\r\n      Several projects under the EU’s Horizon 2020 framework have developed\r\n      competency frameworks to support emerging professions.\r\n    </p>\r\n\r\n    <h3>Who is developing the competency mapper?</h3>\r\n    <p>\r\n      The competency mapper is being developed by the{' '}\r\n      <a\r\n        href={'https://www.ebi.ac.uk/about/people/cath-brooksbank'}\r\n        target={'_blank'}\r\n      >\r\n        {' '}\r\n        EMBL-EBI training team{' '}\r\n      </a>{' '}\r\n      with the{' '}\r\n      <a href={'https://bioexcel.eu/'} target={'_blank'}>\r\n        {' '}\r\n        BioExcel{' '}\r\n      </a>{' '}\r\n      competency framework as its primary use case.{' '}\r\n    </p>\r\n    <p>\r\n      EMBL-EBI’s Training programme uses a competency-based approach to\r\n      developing new courses: put simply, we ask ourselves ‘What competency or\r\n      competencies does our audience for this course need to develop?’ before we\r\n      create the programme and content for a new course, and before we make a\r\n      significant update to an existing course.\r\n    </p>\r\n    <p>\r\n      The team has contributed to, and helped to steer, a number of initiatives\r\n      to develop new training programmes by defining competency requirements in\r\n      relation to a specific target audience and building a competency framework\r\n      for that audience. Competency-based projects that we have been involved in\r\n      include:\r\n    </p>\r\n    <ul>\r\n      <li>\r\n        The ISCB education committee’s{' '}\r\n        <a href={'https://europepmc.org/articles/PMC5794068'} target={'_blank'}>\r\n          {' '}\r\n          competency framework for bioinformatics professionals{' '}\r\n        </a>{' '}\r\n      </li>\r\n      <li>\r\n        A clinical bioinformatics competency framework to support Health\r\n        Education England to prepare clinical practitioners for the application\r\n        of genomics in the healthcare service\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={\r\n            'https://drive.google.com/file/d/0B3BA3KSKGOoQb0hvUkx3a3lMS00/view'\r\n          }\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          RItrain competency framework{' '}\r\n        </a>{' '}\r\n        for managers and leaders of research infrastructure\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={'https://zenodo.org/record/154085#.WbUNUhNSwUE'}\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          CORBEL competency framework{' '}\r\n        </a>{' '}\r\n        for technical operators of research infrastructure\r\n      </li>\r\n      <li>\r\n        The{' '}\r\n        <a\r\n          href={'https://zenodo.org/record/264231#.WbUNoRNSwUE'}\r\n          target={'_blank'}\r\n        >\r\n          {' '}\r\n          BioExcel competency framework{' '}\r\n        </a>\r\n        for scientists working on biomolecular modelling and simulation\r\n      </li>\r\n      <p />\r\n      <p>\r\n        These competency frameworks were designed to be used by the training\r\n        communities who developed them, and openly available to anyone who might\r\n        find them useful, yet all too often they end up buried in a PDF file as\r\n        part of a project deliverable. This made us long for a web-based tool\r\n        that would make these frameworks,and the training associated with them,\r\n        readily discoverable. We therefore decided to build that tool, and\r\n        although it’s still in the early stages of development we’ve decided to\r\n        make it openly available now so that we can seek broad input to improve\r\n        it and make it as useful as possible to the education and training\r\n        community at large. If you have comments or suggestions, please{' '}\r\n        <a href={'mailto:competency@ebi.ac.uk'}> contact us </a>.\r\n      </p>\r\n    </ul>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default About;\r\n","import React from 'react';\r\n\r\nimport { removeHtmlTags } from '../../services/util/util';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction FrameworkButton({ framework }) {\r\n  let description = removeHtmlTags(framework.description);\r\n  if (description.length > 120) {\r\n    description = `${description.slice(0, 120).trim()}...`;\r\n  }\r\n  const liveVersion = framework.versions.reduce((prevVersion, newVersion) => {\r\n    if (newVersion.status === 'live') {\r\n      return newVersion.number;\r\n    }\r\n    return prevVersion;\r\n  }, null);\r\n\r\n  if (liveVersion === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"column medium-4\">\r\n      <Link\r\n        className=\"column callout\"\r\n        data-equalizer-watch\r\n        to={`/framework/${framework.title.toLowerCase()}/${liveVersion}`}\r\n      >\r\n        <img\r\n          className=\"float-center margin-bottom-medium\"\r\n          style={{ height: '6rem' }}\r\n          src={framework.logo[0].url}\r\n          alt=\"competency logo\"\r\n        />\r\n        <h5>\r\n          {description}\r\n          <i className=\"icon icon-functional\" data-icon=\">\" />\r\n        </h5>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FrameworkButton;\r\n","import React from 'react';\r\n\r\nimport FrameworkButton from '../framework-button/FrameworkButton';\r\n\r\nconst $ = window.$;\r\n\r\nfunction FrameworkButtons({ frameworks }) {\r\n  const selfRef = new React.createRef();\r\n\r\n  const invokeFoundation = () => {\r\n    window.setTimeout(() => $(selfRef.current).foundation());\r\n    return frameworks.map(framework => (\r\n      <FrameworkButton key={framework.nid} framework={framework} />\r\n    ));\r\n  };\r\n\r\n  return frameworks.length < 1 ? null : (\r\n    <div className=\"row\" data-equalizer ref={selfRef}>\r\n      {invokeFoundation()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FrameworkButtons;\r\n","import React, { Component } from 'react';\r\n\r\nimport FrameworkButtons from '../components/framework-buttons/FrameworkButtons';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withSnackbar } from 'notistack';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\nimport CompetencyService from '../services/competency/competency';\r\n\r\nclass Frameworks extends Component {\r\n  activeRequests = new ActiveRequestsService();\r\n  competencyService = new CompetencyService();\r\n\r\n  state = {\r\n    frameworks: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.activeRequests.startRequest();\r\n      const frameworks = await this.competencyService.getAllVersionedFrameworks();\r\n      this.setState({ frameworks });\r\n    } catch (error) {\r\n      this.props.enqueueSnackbar('Unable to fetch framework data', {\r\n        variant: 'error'\r\n      });\r\n      console.error(error);\r\n    } finally {\r\n      this.activeRequests.finishRequest();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { frameworks } = this.state;\r\n\r\n    return (\r\n      <div className=\"column\">\r\n        <h3>Overview</h3>\r\n        <p className=\"lead\">\r\n          Competency mapper is a web-based tool to support the creation and\r\n          management of competency frameworks for professionals working in the\r\n          biomolecular sciences{' '}\r\n          <Link to=\"/about\" className=\"readmore\">\r\n            read more{' '}\r\n          </Link>\r\n        </p>\r\n\r\n        <FrameworkButtons frameworks={frameworks} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Frameworks);\r\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from 'react-ckeditor-component';\n//import FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\nimport Dropzone from 'react-dropzone';\n\nclass ArticleCreate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createArticle = this.createArticle.bind(this);\n\n    this.state = {\n      file: [],\n      fid: ''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  componentDidMount() {\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    let title = this.refs.title.value;\n    let token = localStorage.getItem('csrf_token');\n    let fid = '';\n\n    console.log(this.state.file);\n\n    let response = await fetch(\n      apiUrl + '/file/upload/node/article/field_image?_format=hal_json',\n      {\n        credentials: 'include',\n        method: 'POST',\n        cookies: 'x-access-token',\n        headers: {\n          accept: 'application/octet-stream',\n          'Content-Type': 'application/octet-stream',\n          'X-CSRF-Token': token,\n          'Content-Disposition': 'file; filename=\"prakash_file.png\"'\n        },\n        body: this.state.file\n      }\n    )\n      .then(resp => resp.json())\n      .then(\n        function(data) {\n          this.setState({ fid: data.fid[0].value }, this.createArticle);\n        }.bind(this)\n      );\n  }\n\n  createArticle() {\n    let token = localStorage.getItem('csrf_token');\n    fetch(`${apiUrl}/node/6771?_format=hal_json`, {\n      credentials: 'include',\n      method: 'PATCH',\n      cookies: 'x-access-token',\n      headers: {\n        Accept: 'application/hal+json',\n        'Content-Type': 'application/hal+json',\n        'X-CSRF-Token': token,\n        Authorization: 'Basic'\n      },\n      body: JSON.stringify({\n        _links: {\n          type: {\n            href: `${apiUrl}/rest/type/node/article`\n          }\n        },\n        field_image: [\n          {\n            target_id: this.state.fid,\n            description: 'The most fascinating image ever!'\n          }\n        ]\n      })\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>File upload</h2>\n\n        <div className=\"row\">\n          <div className=\"column large-12 callout\">\n            <h4>Bulk upload training resources</h4>\n            <form\n              className=\"form\"\n              id={'resource_create_form'}\n              onSubmit={this.handleSubmit.bind(this)}\n            >\n              <div id=\"fileupload\" className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>File upload</strong>\n                  <Dropzone\n                    ref=\"fileref\"\n                    onDrop={acceptedFiles => {\n                      //console.log(acceptedFiles)\n                      const reader = new FileReader();\n\n                      reader.onabort = () =>\n                        console.log('file reading was aborted');\n                      reader.onerror = () =>\n                        console.log('file reading has failed');\n                      reader.onload = () => {\n                        // Do whatever you want with the file contents\n                        //const binaryStr = reader.result;\n                        var stringImage = reader.result;\n                        if (stringImage) {\n                          console.log(' image content =' + stringImage);\n                          var striped = stringImage.toString().split('base64');\n                          if (striped[1]) {\n                            //this.uploadDrupalImage(striped[1]);\n                            this.setState({ newfile: striped[1] });\n                          }\n                        }\n                        this.setState({ file: reader.result });\n                        //console.log(binaryStr)\n                      };\n                      document\n                        .getElementById('fileupload')\n                        .append(acceptedFiles[0].name);\n                      acceptedFiles.forEach(file =>\n                        reader.readAsArrayBuffer(file)\n                      );\n                    }}\n                  >\n                    {({ getRootProps, getInputProps }) => (\n                      <section>\n                        <div {...getRootProps()}>\n                          <input {...getInputProps()} />\n                          <a href=\"#\">Click to select files</a>\n                        </div>\n                      </section>\n                    )}\n                  </Dropzone>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-12\">\n                  <strong>Remarks</strong>\n                  <input\n                    type=\"text\"\n                    ref=\"title\"\n                    required\n                    placeholder=\"Remarks\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column large-2\">\n                  <input type=\"submit\" className=\"button\" value=\"Submit\" />\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst CreateArticles = () => (\n  <Switch>\n    <Route exact path=\"/article/create\" component={ArticleCreate} />\n  </Switch>\n);\n\nexport default CreateArticles;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactModal from 'react-modal';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass CompetencySettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      competency: '',\n      competencyUUID: '',\n      competencyTitle: '',\n      frameworkList: [],\n      domainID: '',\n      domainUuid: '',\n      csrf: '',\n      mapping: ''\n    };\n\n    this.editDomain = this.editDomain.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onTextChange = this.onTextChange.bind(this);\n  }\n\n  async fetchData() {\n    let competencyID = this.state.path[4];\n    let url = `${apiUrl}/node/` + competencyID + `/?_format=json`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ competency: findresponse }, this.setMappingText);\n      });\n\n    // Load all domains of all frameworks from version_manager API\n\n    let versoinManagerURL = `${apiUrl}/api/version_manager/?_format=json&timestamp=${Date.now()}`;\n    fetch(versoinManagerURL)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    //console.log(apiUrl);\n  }\n\n  async setMappingText() {\n    let competency = this.state.competency;\n    if (competency.field_map_other_competency.length > 0) {\n      this.setState({\n        mapping: competency.field_map_other_competency[0].value\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n    //await this.setMappingText();\n  }\n\n  editDomain(e) {\n    let competencyID = this.state.path[4];\n    let selectedDomainID = this.state.domainID;\n    let selectedDomainUUID = this.state.domainUuid;\n    let mapping = this.state.mapping;\n    if (!selectedDomainID) {\n      selectedDomainID = this.state.competency.field_domain[0].target_id;\n      selectedDomainUUID = this.state.competency.field_domain[0].target_uuid;\n    }\n    this.competencyService.changeDomain(\n      competencyID,\n      selectedDomainID,\n      selectedDomainUUID,\n      mapping\n    );\n    //console.log(\"editDomain() called\");\n    this.props.history.push(\n      '/framework/' + this.state.path[2] + '/manage/competencies'\n    );\n    e.preventDefault();\n  }\n\n  onTextChange(event) {\n    this.setState({ mapping: event.target.value });\n    //console.log(this.state.mapping);\n  }\n\n  handleChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ domainID: dataset.id, domainUuid: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let competency_title = '';\n    let domain_id = '';\n    let domain_uuid = '';\n    let domain_title = '';\n    let competency = this.state.competency;\n    let frameworkList = this.state.frameworkList;\n    let domainOptions = [];\n    let domainArray = [];\n    //let mapped_other_competency = \"\";\n\n    if (frameworkList.length > 0) {\n      console.log(this.state.frameworkList);\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() === this.state.path[2]) {\n          framework.domains.map(domain => {\n            domainOptions.push(\n              <option\n                key={domain.id}\n                data-id={domain.id}\n                data-uuid={domain.uuid}\n                value={domain.id}\n              >\n                {domain.title}\n              </option>\n            );\n            domainArray.push({ key: domain.id, value: domain.title });\n            console.log(frameworkList);\n          });\n        }\n      });\n    }\n\n    if (competency) {\n      competency_title = competency.title[0].value;\n      domain_id = competency.field_domain[0].target_id;\n      domain_uuid = competency.field_domain[0].target_uuid;\n      if (domainArray.length > 0) {\n        let obj = domainArray.find(d => d.key == domain_id);\n        domain_title = obj.value;\n      }\n    }\n\n    return (\n      <div>\n        <h2>Change domain</h2>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>\n                <h4>Domain:</h4>\n              </td>\n              <td>\n                <h4>{domain_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <h4>Competency:</h4>\n              </td>\n              <td>\n                <h4>{competency_title}</h4>\n              </td>\n            </tr>\n            <tr>\n              <td colSpan={2}>\n                <p className=\"lead\">\n                  Select the domain from the following list to change:\n                </p>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.editDomain.bind(this)}\n                >\n                  <div className=\"row\">\n                    <div className=\"column large-11\">\n                      <select\n                        value={\n                          this.state.domainID ? this.state.domainID : domain_id\n                        }\n                        onChange={this.handleChange}\n                      >\n                        {domainOptions}\n                      </select>\n                      <label>\n                        Maps to competency/attribute from other framework\n                        <input\n                          type=\"text\"\n                          placeholder=\"Framework (version), competency or attribute\"\n                          name=\"mapping\"\n                          value={this.state.mapping}\n                          onChange={this.onTextChange.bind(this)}\n                        />\n                      </label>\n                      <input type=\"submit\" className=\"button\" value=\"Save\" />\n                    </div>\n                    <div className=\"column large-1\" />\n                  </div>\n                </form>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst CompetencySettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:id/settings\"\n      component={CompetencySettings}\n    />\n  </Switch>\n);\n\nexport default CompetencySettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactModal from 'react-modal';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport CompetencyList from './CompetencyList';\nimport { apiUrl } from '../services/http/http';\nimport CompetencyService from '../services/competency/competency';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\n\nclass AttributeSettings extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      path: this.props.location.pathname.split('/'),\n      attributeID: this.props.location.pathname.split('/')[6],\n      frameworkName: this.props.location.pathname.split('/')[2],\n      frameworkList: [],\n      attributeType: '',\n      attribute: '',\n      competencyID: this.props.location.pathname.split('/')[4],\n      competencyUUID: '',\n      competencyTitle: '',\n      attributeTypeID: '',\n      attributeTypeUUID: '',\n      frameworkData: []\n    };\n\n    this.changeSettings = this.changeSettings.bind(this);\n    this.handleCompetencyChange = this.handleCompetencyChange.bind(this);\n    this.handleTypeChange = this.handleTypeChange.bind(this);\n  }\n\n  async fetchData() {\n    // Load the attribute\n\n    let attributeID = this.state.attributeID;\n    let url =\n      `${apiUrl}/node/` +\n      attributeID +\n      `/?_format=json&timestamp=${Date.now()}`;\n    fetch(url)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ attribute: findresponse });\n      });\n\n    // Load all domains of all frameworks from version_manager API\n    fetch(`${apiUrl}/api/version_manager?_format=json`)\n      .then(result => result.json())\n      .then(findresponse => {\n        this.setState({ frameworkList: findresponse });\n      });\n\n    let result = await this.competencyService.getVersionedDraftFramework(\n      this.state.frameworkName\n    );\n    this.setState({ frameworkData: result });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  changeSettings(e) {\n    let attributeID = this.state.attributeID;\n    let selectedCompetencyID = this.state.competencyID\n      ? this.state.competencyID\n      : this.state.attribute.field_competency[0].target_id;\n    let selectedCompetencyUUID = this.state.competencyUUID\n      ? this.state.competencyUUID\n      : this.state.attribute.field_competency[0].target_uuid;\n    let selectedAttributeTypeID = this.state.attributeTypeID\n      ? this.state.attributeTypeID\n      : this.state.attribute.field_attribute_type[0].target_id;\n    let selectedAttributeTypeUUID = this.state.attributeTypeUUID\n      ? this.state.attributeTypeUUID\n      : this.state.attribute.field_attribute_type[0].target_uuid;\n\n    // console.log(\"competencyID: \"+selectedCompetencyID + \" attributeTypeID: \"+ selectedAttributeTypeID);\n    // if(!selectedCompetencyID){\n    //   selectedCompetencyID = this.state.attribute.field_competency[0].target_id;\n    //   selectedCompetencyUUID = this.state.competency.field_competency[0].target_uuid;\n    // }\n\n    // if(!selectedAttributeTypeID){\n    //   selectedAttributeTypeID = this.state.attribute.field_attribute_type[0].target_id;\n    //   selectedAttributeTypeUUID = this.state.competency.field_attribute_type[0].target_uuid;\n    // }\n\n    this.competencyService.changeAttributeSettings(\n      attributeID,\n      selectedCompetencyID,\n      selectedCompetencyUUID,\n      selectedAttributeTypeID,\n      selectedAttributeTypeUUID\n    );\n\n    this.props.history.push(\n      '/framework/' +\n        this.state.path[2] +\n        '/manage/competencies/' +\n        this.props.location.pathname.split('/')[4] +\n        '/manage-attributes'\n    );\n    e.preventDefault();\n  }\n\n  handleCompetencyChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({ competencyID: dataset.id, competencyUUID: dataset.uuid });\n    //console.log(dataset.uuid);\n  }\n\n  handleTypeChange(event) {\n    let dataset = event.target.options[event.target.selectedIndex].dataset;\n    this.setState({\n      attributeTypeID: dataset.id,\n      attributeTypeUUID: dataset.uuid\n    });\n    //console.log(dataset.uuid);\n  }\n\n  render() {\n    let attribute_title = '';\n    let competency_id = '';\n    let competency_uuid = '';\n    let competency_title = '';\n    let attribute_type_id = '';\n    let attribute_type_uuid = '';\n    let attribute_type_title = '';\n    let attribute = this.state.attribute;\n    let frameworkData = this.state.frameworkData;\n    let frameworkList = this.state.frameworkList;\n    let competencyOptions = [];\n    let competencyArray = [];\n    let attributeTypeOptions = [];\n    let attributeTypeArray = [];\n\n    //console.log(frameworkList);\n\n    if (frameworkList) {\n      frameworkList.map(framework => {\n        if (framework.title.toLowerCase() == this.state.frameworkName) {\n          framework.attribute_types.map(attribute_type => {\n            attributeTypeOptions.push(\n              <option\n                key={attribute_type.id}\n                data-id={attribute_type.id}\n                data-uuid={attribute_type.uuid}\n                value={attribute_type.id}\n              >\n                {attribute_type.title}\n              </option>\n            );\n            attributeTypeArray.push({\n              key: attribute_type.id,\n              value: attribute_type.title\n            });\n          });\n        }\n      });\n      //console.log(attributeTypeArray);\n    }\n\n    if (frameworkData) {\n      frameworkData.map(framework => {\n        framework.domains.map(domain => {\n          domain.competencies.map(competency => {\n            if (competency.archived == 0) {\n              competencyOptions.push(\n                <option\n                  key={competency.id}\n                  data-id={competency.id}\n                  data-uuid={competency.uuid}\n                  value={competency.id}\n                >\n                  {competency.title}\n                </option>\n              );\n              competencyArray.push({\n                key: competency.id,\n                value: competency.title\n              });\n            }\n          });\n        });\n      });\n    }\n\n    if (attribute) {\n      attribute_title = attribute.title[0].value;\n      competency_id = attribute.field_competency[0].target_id;\n      competency_uuid = attribute.field_competency[0].target_uuid;\n      attribute_type_id = attribute.field_attribute_type[0].target_id;\n      if (competencyArray.length > 0) {\n        let obj = competencyArray.find(d => d.key == competency_id);\n        competency_title = obj.value;\n        //console.log(attribute_type_id);\n      }\n\n      if (attributeTypeArray.length > 0) {\n        let obj = attributeTypeArray.find(d => d.key == attribute_type_id);\n        attribute_type_title = obj.value;\n      }\n\n      //console.log(attribute_title);\n    }\n\n    return (\n      <div>\n        <h2>Change attribute settings</h2>\n        <h3>Attribute: {attribute_title}</h3>\n        <table className=\"table hover stack\">\n          <tbody>\n            <tr>\n              <td>Competency:</td>\n              <td>{competency_title}</td>\n              <td rowSpan={2}>\n                <form\n                  id={'changeDomainForm'}\n                  onSubmit={this.changeSettings.bind(this)}\n                >\n                  <label>Change competency:</label>\n                  <select\n                    value={\n                      this.state.competencyID\n                        ? this.state.competencyID\n                        : competency_id\n                    }\n                    onChange={this.handleCompetencyChange}\n                  >\n                    {competencyOptions}\n                  </select>\n                  <label>Change attribute type:</label>\n                  <select\n                    value={\n                      this.state.attributeTypeID\n                        ? this.state.attributeTypeID\n                        : attribute_type_id\n                    }\n                    onChange={this.handleTypeChange}\n                  >\n                    {attributeTypeOptions}\n                  </select>\n                  <input type=\"submit\" className=\"button\" value=\"Save\" />\n                </form>\n              </td>\n            </tr>\n\n            <tr>\n              <td>Attribute type:</td>\n              <td>{attribute_type_title}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst AttributeSettingsRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\n      component={AttributeSettings}\n    />\n  </Switch>\n);\n\nexport default AttributeSettingsRoot;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport CompetencyService from '../services/competency/competency';\n\nconst $ = window.$;\n\nclass AttributeDemap extends React.Component {\n  activeRequests = new ActiveRequestsService();\n  competencyService = new CompetencyService();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      resourceID: this.props.location.pathname.split('/')[2],\n      attributeID: this.props.location.pathname.split('/')[4],\n      resourceDetails: [],\n      csrf: ''\n    };\n    this.demap = this.demap.bind(this);\n  }\n\n  async demap(e) {\n    //alert(\"mapping removed\");\n    let resource = 1034;\n    let items = [20, 21];\n    //this.activeRequests.startRequest();\n    let result = await this.competencyService.demap(resource, items);\n    console.log(result);\n    //this.activeRequests.finishRequest();\n    //console.log(this.state.resourceDetails);\n    //this.props.history.push(\"/training-resources/\"+this.props.location.pathname.split('/')[2]);\n    //e.preventDefault();\n  }\n\n  componentDidMount() {\n    //fetch(`${apiUrl}`+'/api/resources/?_format=hal_json&id='+ this.state.resourceID)\n    fetch(`${apiUrl}` + '/node/' + this.state.resourceID + '?_format=hal_json')\n      .then(Response => Response.json())\n      .then(findresponse => {\n        this.setState({\n          resourceDetails: findresponse\n        });\n      });\n\n    let csrfURL = `${apiUrl}/rest/session/token`;\n    fetch(csrfURL)\n      .then(Response => Response)\n      .then(findresponse2 => {\n        this.setState({ csrf: findresponse2 });\n      });\n  }\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return this.state.attributes === nextState.attributes;\n  // }\n\n  render() {\n    return (\n      <div>\n        <h3>\n          Are you sure you want to remove this mapping? This action cannot be\n          undone!\n        </h3>\n        <button className=\"button\" onClick={this.demap.bind(this)}>\n          Yes\n        </button>\n      </div>\n    );\n  }\n}\n\nconst AttributeDemapRoot = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/training-resources/:resource/demap/:attribute\"\n      component={AttributeDemap}\n    />\n  </Switch>\n);\n\nexport default AttributeDemapRoot;\n","import { apiUrl } from '../http/http';\n\nclass BodyService {\n  static createProfile({\n    title,\n    frameworkId,\n    frameworkUuid,\n    versionID,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    fileid\n  }) {\n    return {\n      _links: {\n        type: {\n          href: `${apiUrl}/rest/type/node/profile`\n        },\n        [`${apiUrl}/rest/relation/node/profile/field_competency_framework`]: {\n          href: `${apiUrl}/node/${frameworkId}?_format=hal_json`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_versions: [\n        {\n          target_id: versionID\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid,\n          description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: 'Draft'\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ],\n      _embedded: {\n        [`${apiUrl}/rest/relation/node/profile/field_competency_framework`]: [\n          {\n            _links: {\n              self: {\n                href: `${apiUrl}/node/${frameworkId}?_format=hal_json`\n              },\n              type: {\n                href: `${apiUrl}/rest/type/node/competency_framework`\n              }\n            },\n            uuid: [\n              {\n                value: frameworkUuid\n              }\n            ],\n            lang: 'en'\n          }\n        ]\n      }\n    };\n  }\n\n  static editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    return {\n      _links: {\n        self: {\n          href: `${apiUrl}/node/${profileId}?_format=hal_json`\n        },\n        type: {\n          href: `${apiUrl}/rest/type/node/profile`\n        }\n      },\n      title: [\n        {\n          value: title\n        }\n      ],\n      field_age: [\n        {\n          value: age\n        }\n      ],\n      field_current_role: [\n        {\n          value: currentRole,\n          format: 'basic_html'\n        }\n      ],\n      field_gender: [\n        {\n          value: gender\n        }\n      ],\n      field_job_title: [\n        {\n          value: jobTitle\n        }\n      ],\n      field_qualification_background: [\n        {\n          value: qualification,\n          format: 'basic_html'\n        }\n      ],\n      field_additional_information: [\n        {\n          value: additionalInfo,\n          format: 'basic_html'\n        }\n      ],\n      field_image: [\n        {\n          target_id: fileid ? fileid : null\n          //description: 'persona picture'\n        }\n      ],\n      field_publishing_status: [\n        {\n          value: publishStatus\n        }\n      ],\n      type: [\n        {\n          target_id: 'profile'\n        }\n      ]\n    };\n  }\n\n  static mapProfile(profileId, mapping) {\n    let mappingBody = [];\n    mapping.forEach(function(item) {\n      mappingBody.push({\n        competency: item.competency,\n        expertise: item.expertise,\n        attributes: item.attributes.join()\n      });\n    });\n\n    //  console.log(mappingBody)\n\n    return {\n      type: [\n        {\n          target_id: 'article'\n        }\n      ],\n      field_item: [\n        {\n          value: profileId\n        }\n      ],\n      field_profile_mapping: mappingBody\n    };\n  }\n}\n\nexport default BodyService;\n","import HttpService from '../http/http';\nimport Body from './body';\nimport Download from './download';\nimport jsPDF from 'jspdf';\nimport moment from 'moment';\n\nclass ProfileService {\n  static instance;\n  http = new HttpService();\n\n  constructor() {\n    if (ProfileService.instance) {\n      return this.instance;\n    }\n    ProfileService.instance = this;\n  }\n\n  async createProfile(options) {\n    const response = await this.http.post(\n      `/node?_format=hal_json`,\n      Body.createProfile(options)\n    );\n    return response.data;\n  }\n\n  async editProfile(\n    profileId,\n    title,\n    age,\n    currentRole,\n    gender,\n    jobTitle,\n    qualification,\n    additionalInfo,\n    publishStatus,\n    fileid\n  ) {\n    const response = await this.http.patch(\n      `/node/${profileId}?_format=hal_json`,\n      Body.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      )\n    );\n\n    return response.data;\n  }\n\n  async mapProfile(profileId, mapping) {\n    const response = await this.http.patch(\n      `/api/bioexcel/2.0/profiles?_format=json`,\n      Body.mapProfile(profileId, mapping),\n      'json'\n    );\n    return response.data;\n  }\n\n\n\n  async createGuestProfile(\n    frameworkName,\n    frameworkId,\n    versionNumber,\n    title,\n    age,\n    current_role,\n    gender,\n    job_title,\n    qualification_background,\n    additional_information,\n    image\n\n  ){\n    \n    let mapping = [];\n\n    let existingGuestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    if(existingGuestProfile){\n      if(existingGuestProfile.profile_mapping){\n        mapping = existingGuestProfile.profile_mapping;\n      }\n    }\n\n    \n    let guestProfile = {\n        frameworkName,\n        frameworkId,\n        versionNumber,\n        title,\n        age,\n        current_role,\n        gender,\n        job_title,\n        qualification_background,\n        additional_information,\n        image\n    };\n\n    guestProfile['profile_mapping'] = mapping;\n\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile));\n    console.log('Profile service called for Guest user')\n\n  }\n\n  async mapProfileGuest(mapping) {\n\n    let guestProfile = JSON.parse(localStorage.getItem('guestProfile'));\n    guestProfile['profile_mapping'] = mapping;\n    localStorage.setItem('guestProfile', JSON.stringify(guestProfile)); \n\n  }\n\n  mapDownloadProfile(options) {\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(options));\n  }\n\n  downloadProfile(options) {\n    // Download.getProfile(options);\n    // console.log(options)\n\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    const margin = 0.5;\n\n    let currentDate = moment().format('MMMM D, Y');\n    let currentTime = moment().format('hh:mm:ss');\n\n    let pdfWidth = doc.internal.pageSize.getWidth();\n    let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    const pdfProfileImgWidth = 180;\n    const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    let col = pdfWidth * 0.07383;\n    let gutter = pdfWidth * 0.01036727272;\n    let fourthCol = col * 4 + gutter * 3;\n    let fifthCol = col * 5 + gutter * 4;\n\n    const profileBody = pdfWidth - fifthCol - 20;\n\n    let selectedFileWidth = options.selectedFile\n      ? options.selectedFileData[0].width\n      : 180;\n    let selectedFileHeight = options.selectedFile\n      ? options.selectedFileData[0].height\n      : 150;\n    let ratio = selectedFileWidth / selectedFileHeight;\n    let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    // PROFILE Header\n    doc.setFontType('normal');\n    doc.setFontSize(22);\n    doc.text(marginleft, startHeight, 'EMBL-EBI Competency Profile');\n\n    // Framework Logo\n    if (options.frameworkLogoData) {\n      let frameworkLogoWidth = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].width\n        : 100;\n      let frameworkLogoHeight = options.frameworkLogoData[0]\n        ? options.frameworkLogoData[0].height\n        : 30;\n      let logoRatio = frameworkLogoWidth / frameworkLogoHeight;\n      let pdfLogoHeight = pageLogoWidth / logoRatio;\n\n      let logoData = options.frameworkLogoData[0].src;\n      let logoType = 'PNG';\n      doc.addImage(\n        logoData,\n        logoType,\n        marginright - 100,\n        5,\n        pageLogoWidth,\n        pdfLogoHeight,\n        '',\n        'SLOW'\n      );\n    }\n\n    currentYAxis = currentYAxis + 50;\n\n    // PROFILE Title\n    doc.setFontSize(18);\n    doc.text(\n      marginleft,\n      currentYAxis,\n      options.title + ' - ' + options.jobTitle\n    );\n\n    // PROFILE Image\n    if (options.selectedFile) {\n      let type = options.selectedFile.type === 'image/jpeg' ? 'JPEG' : 'PNG'; // maybe you should add some controls to prevent loading of other file types\n      let imgData = options.selectedFileData[0].src;\n      doc.addImage(\n        imgData,\n        type,\n        marginleft,\n        currentYAxis + 30,\n        pdfProfileImgWidth,\n        pdfProfileImgHeight,\n        '',\n        'SLOW'\n      ); // Compression options are NONE, FAST, MEDIUM and SLOW\n    }\n\n    // doc.setFontType('normal');\n    // PROFILE Demographics\n    if (options.gender || options.age) {\n      let gender = options.gender\n        ? options.age\n          ? options.gender + ', '\n          : options.gender\n        : '';\n      let age = options.age ? options.age + ' years' : '';\n\n      doc.setFontSize(12);\n      doc.text(\n        marginleft,\n        pdfProfileImgHeight + currentYAxis + 60,\n        gender + age\n      );\n    }\n\n    currentYAxis = currentYAxis + 40;\n\n    // PROFILE Qualifications\n    let qDim;\n    if (options.qualification) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, currentYAxis, 'Qualifications & background');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let qualification = doc.splitTextToSize(\n        options.qualification,\n        profileBody\n      );\n      // Adjust yAxis based on text height\n      qDim = doc.getTextDimensions(qualification);\n      let margins = {\n        top: 70,\n        bottom: 40,\n        left: 30,\n        width: 550\n      };\n\n      doc.fromHTML(options.qualification, fifthCol, currentYAxis, {\n        // y coord\n        width: profileBody // max width of content on PDF\n      });\n\n      // doc.text(fifthCol, currentYAxis, qualification)\n      currentYAxis = currentYAxis + 30;\n    }\n\n    // PROFILE Activities\n    if (options.currentRole) {\n      doc.setFontSize(16);\n      doc.text(fifthCol, qDim.h + currentYAxis, 'Activities and current role');\n      currentYAxis = currentYAxis + 20;\n\n      doc.setFontSize(12);\n      let currentRole = doc.splitTextToSize(options.currentRole, profileBody);\n      // Adjust yAxis based on text height\n      let cDim = doc.getTextDimensions(currentRole);\n      currentYAxis = qDim.h + currentYAxis;\n\n      doc.text(fifthCol, currentYAxis, currentRole);\n    }\n\n    doc.setFontSize(9);\n    doc.text(\n      marginleft,\n      pdfHeight - 20,\n      'Profile created on ' + currentDate + ' at ' + currentTime\n    );\n\n    // Save the Data\n    let jobTitleUnderscored = options.jobTitle.split(' ').join('_');\n    doc.save(jobTitleUnderscored.toLowerCase() + '.pdf');\n  }\n}\n\nexport default ProfileService;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport FileUpload from './FileUpload';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\n\nexport const ProfileCreate = props => {\n  const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  const [frameworkLogoData, setFrameworkLogoData] = useState([]);\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n\n  const [errorMsgTitle, setErrorMsgTitle] = useState();\n  const [errorMsgJobTitle, setErrorMsgJobTitle] = useState();\n\n  const [frameworkMoreData, setFrameworkMoreData] = useState();\n\n  let errors = [];\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    // Set variables from Local Storage to populate form fields onload\n    const bootstrap = () => {\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      setProfile(storedProfile);\n\n      if (storedProfile) {\n        setTitle(storedProfile.title);\n        setJobTitle(storedProfile.jobTitle);\n        setAge(storedProfile.age);\n        setGender(storedProfile.gender);\n        setQualification(storedProfile.qualification);\n        setCurrentRole(storedProfile.currentRole);\n        setAdditionalInfo(storedProfile.additionalInfo);\n        if (storedProfile.selectedFileData[0]) {\n          setSelectedFileData(storedProfile.selectedFileData);\n          setImgpreview(storedProfile.selectedFileData[0].src);\n        }\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(`${apiUrl}/api/version_manager?_format=json`)\n          .then(response2 => response2.data);\n\n        const [data1, data2] = await Promise.all([promise1, promise2]);\n        // Get current Framework only\n\n        // if (frameworkMoreData[0].logo[0].url) {\n\n        //   toDataURL(frameworkMoreData[0].logo[0].url, function(myBase64) {\n        //     let img = new Image();\n        //     img.src = myBase64;\n        //     img.addEventListener('load', function() {\n        //       img.width = this.width;\n        //       img.height = this.height;\n        //       setFrameworkLogoData([\n        //         {\n        //           url: frameworkMoreData[0].logo[0].url,\n        //           src: img.src,\n        //           width: this.width,\n        //           height: this.height\n        //         }\n        //       ]);\n        //     });\n        //   });\n        // }\n        setFramework(data1);\n        setFrameworkMoreData(\n          data2.filter(item => {\n            return item.title.toLowerCase() === frameworkName;\n          })\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    bootstrap();\n    fetchData();\n  }, [selectedFile]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    let frameworkName = framework[0].title;\n    let frameworkUuid = framework[0].uuid;\n    console.log(frameworkMoreData);\n    let liveVersion = frameworkMoreData[0].versions.find(\n      ver => ver.status == 'live'\n    );\n\n    let versionID = liveVersion.id;\n    var arrayBuffer = '';\n    var fileid = null;\n\n    // Do nothing if Form doesn't pass validation criteris above\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    }\n    // Check if is Anonymous/Authenticated\n    else if (!localStorage.getItem('roles')) {\n      setErrorMsgTitle('');\n      setErrorMsgJobTitle('');\n\n      // Retrieve values from Local Storage if exist\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n\n      profileService.mapDownloadProfile({\n        title,\n        frameworkId,\n        frameworkLogoData,\n        frameworkName,\n        frameworkUuid,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        selectedFile,\n        // selectedFileData: storedProfile ? selectedFileData ? selectedFileData : '' : '',\n        selectedFileData,\n        mapping: storedProfile ? storedProfile.mapping : [],\n        mappingAttributes: storedProfile ? storedProfile.mappingAttributes : []\n      });\n      //props.history.push('/framework/bioexcel/2.0/profile/map/download/');\n    } else if (localStorage.getItem('roles').includes('framework_manager')) {\n      if (selectedFile) {\n        let token = localStorage.getItem('csrf_token');\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=hal_json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.createProfile({\n        title,\n        frameworkId,\n        frameworkUuid,\n        versionID,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        fileid\n      });\n\n      props.history.push(\n        `/framework/${frameworkName.toLowerCase()}/${frameworkVersion}/profile/view/${response.nid[0].value}/${\n          response.path[0].alias\n        }`\n      );\n    }\n  };\n\n  const setPreview = () => {\n    props.history.push(`/framework/${frameworkName}/${frameworkVersion}/profile/preview`, {\n      title: title\n    });\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type != 'image/jpeg' &&\n        e.target.files[0].type != 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                src: this.src,\n                width: this.width,\n                height: this.height\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Add Competencies';\n    }\n\n    return <input type=\"submit\" className=\"button\" value={submitButtonLabel} />;\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  // From https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript\n  const getImageData = (url, callback) => {\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function() {\n      var reader = new FileReader();\n      reader.onloadend = function() {\n        return callback(reader.result);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.send();\n  };\n\n  const toDataURL = (src, callback, outputFormat) => {\n    var img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = function() {\n      var canvas = document.createElement('CANVAS');\n      var ctx = canvas.getContext('2d');\n      var dataURL;\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      ctx.drawImage(this, 0, 0);\n      dataURL = canvas.toDataURL(outputFormat);\n      callback(dataURL);\n    };\n    img.src = src;\n    if (img.complete || img.complete === undefined) {\n      img.src =\n        'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n      img.src = src;\n    }\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Create {placeholder} profile</h2>\n      <form className=\"form\" id=\"profile_create_form\" onSubmit={handleSubmit}>\n        <div className=\"row\">\n          <div className=\"column large-4\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : title}\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n          </div>\n          <div className=\"column large-8\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.jobTitle : jobTitle}\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"column large-4\">&nbsp;</div>\n          <div className=\"column large-8\" />\n        </div>\n\n        <div className=\"row\">\n          <div className=\"column large-4\">\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n\n            <span>\n              <img\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <a href=\"#\" onClick={e => clearimgpreview(e)}>\n                    Clear image x\n                  </a>\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n\n            <br />\n            <br />\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : age}\n              />\n            </span>\n\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                defaultValue={profile ? profile.gender : gender}\n              >\n                <option value={'-None-'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n              </select>\n            </span>\n          </div>\n          <div className=\"column large-8\">\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={qualification}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Acitivities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={currentRole}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={additionalInfo}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n              />\n            </span>\n            <br />\n          </div>\n        </div>\n\n        <p />\n        <div className=\"row\">\n          <div className=\"column medium-2\" />\n          <div className=\"column medium-3\">\n            <ButtonLabel />\n          </div>\n          <div className=\"column medium-7\" />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const CreateProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create\"\n      component={ProfileCreate}\n    />\n  </Switch>\n);\n\nexport default CreateProfile;\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nconst GuestHelp = (props) => {\n\n  const modalOpen = props.modalOpen;\n\n   const closeModal = (e) => {\n    //e.preventDefault(e);\n    props.closeModal();\n  }\n\n  const customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)',\n    width                 : '70%',\n    backgroundColor       : '#f1f1f1'\n  }\n};\n\n  return(\n    <div>\n        \n        <ReactModal\n          isOpen={modalOpen}\n          style={customStyles}\n        >\n          <button style={{float:'right'}} onClick={e => closeModal(e)}><i class=\"icon icon-common icon-window-close\"></i></button>\n          <h2>Help</h2>\n          <h4>Create/edit your profile</h4>\n          <p class='lead'>You may fill the Create/Edit Profile form in order to create your own user profile. The profile will be saved in your browser.</p>\n\n          <h4>Map competencies to your profile</h4>\n          <p class='lead'>After creating your profile, the next step is to map it with the competencies. In the mapping form, you may select the level of expertise from the dropdown and choose the attributes that are applicable in your case.</p>\n\n          <h4>Compare your profile</h4>\n          <p class='lead'>After creating your profile and mapping it to competencies. You can compare your profile with another reference profile and see the summary of differences between the two.</p>\n\n          <h4>Save / download your profile</h4>\n          <p class='lead'>After creating your profile and mapping it to competencies, you may click the print button and download the profile in your desired format.</p>\n        </ReactModal>\n      </div>\n  )\n};\n\nexport default GuestHelp;\n","import React, { useState, useEffect} from 'react';\nimport { Switch, Route, useHistory  } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport FileUpload from './FileUpload';\nimport HttpService from '../services/http/http';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport GuestHelp from './GuestHelp';\n\nexport const ProfileCreateGuest = props => {\n  const history = useHistory();\n  const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState('');\n  const [age, setAge] = useState('');\n  const [currentRole, setCurrentRole] = useState('');\n  const [gender, setGender] = useState('');\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [selectedFileData, setSelectedFileData] = useState([]);\n  const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState('');\n  const [qualification, setQualification] = useState('');\n  const [additionalInfo, setAdditionalInfo] = useState('');\n\n  const [framework, setFramework] = useState();\n  const [frameworkLogoData, setFrameworkLogoData] = useState([]);\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  const [profile, setProfile] = useState();\n\n  const [errorMsgTitle, setErrorMsgTitle] = useState();\n  const [errorMsgJobTitle, setErrorMsgJobTitle] = useState();\n\n  const [frameworkMoreData, setFrameworkMoreData] = useState();\n\n  const [modalOpen, setModelOpen] = useState(0);\n\n  let errors = [];\n\n  var storedProfile =  JSON.parse(\n        localStorage.getItem('guestProfile')\n      );\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    // Set variables from Local Storage to populate form fields onload\n    let bootstrap = async () => {\n    \n      await setProfile(storedProfile);\n\n      if (storedProfile) {\n        setTitle(storedProfile.title);\n        setJobTitle(storedProfile.job_title);\n        setAge(parseInt(storedProfile.age));\n        setGender(storedProfile.gender);\n        setQualification(storedProfile.qualification_background);\n        setCurrentRole(storedProfile.current_role);\n        setAdditionalInfo(storedProfile.additional_information);\n        if (storedProfile.image[0]) {\n          setSelectedFileData(storedProfile.image);\n          setImgpreview(storedProfile.image[0].url);\n        }\n      }\n    };\n\n    // Calling multiple APIs, since data Framework are in two different endpoints\n    const fetchData = async () => {\n      try {\n        const promise1 = http\n          .get(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n          )\n          .then(response1 => response1.data);\n\n        const promise2 = http\n          .get(`${apiUrl}/api/version_manager?_format=json`)\n          .then(response2 => response2.data);\n\n        const [data1, data2] = await Promise.all([promise1, promise2]);\n        setFramework(data1);\n        setFrameworkMoreData(\n          data2.filter(item => {\n            return item.title.toLowerCase() === frameworkName;\n          })\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    bootstrap();\n    fetchData();\n  }, [selectedFile]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    let frameworkId = framework[0].nid;\n    //let frameworkName = framework[0].title;\n    let frameworkUuid = framework[0].uuid;\n    //console.log(frameworkMoreData);\n    let liveVersion = frameworkMoreData[0].versions.find(\n      ver => ver.status == 'live'\n    );\n\n    let versionID = liveVersion.id;\n    let versionNumber = liveVersion.number;\n    var arrayBuffer = '';\n    var fileid = null;\n\n    // Do nothing if Form doesn't pass validation criteris above\n    if (!title || !jobTitle || title.length < 2 || jobTitle.length < 3 || fileTypeError || fileSizeError) {\n      return 0;\n    }\n    // Check if is Anonymous/Authenticated\n    else if (!localStorage.getItem('roles')) {\n      setErrorMsgTitle('');\n      setErrorMsgJobTitle('');\n\n      // Retrieve values from Local Storage if exist\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n\n      let current_role = currentRole?currentRole:'';\n      let job_title = jobTitle?jobTitle:'';\n      let qualification_background = qualification?qualification:'';\n      let additional_information = additionalInfo?additionalInfo:'';\n      let image = selectedFileData?selectedFileData:'';\n\n      profileService.createGuestProfile(\n        frameworkName,\n        frameworkId,\n        versionNumber,\n        title,\n        age,\n        current_role,\n        gender,\n        job_title,\n        qualification_background,\n        additional_information,\n        image\n      );\n      history.push(`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest/`);\n      }\n    }\n\n  const setPreview = () => {\n    props.history.push(`/framework/${frameworkName}/${frameworkVersion}/profile/preview`, {\n      title: title\n    });\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type != 'image/jpeg' &&\n        e.target.files[0].type != 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      // convert image file to base64 string. From https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n      const reader = new FileReader();\n      reader.addEventListener(\n        'load',\n        function() {\n          // Set Image Preview\n          setImgpreview(reader.result);\n\n          // Set selected image src\n          let img = new Image();\n          img.src = reader.result;\n          img.addEventListener('load', function() {\n            img.width = this.width;\n            img.height = this.height;\n\n            setSelectedFileData([\n              {\n                url: this.src\n              }\n            ]);\n          });\n        },\n        false\n      );\n      if (e.target.files) {\n        reader.readAsDataURL(e.target.files[0]);\n      }\n\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setSelectedFile(undefined);\n    setImgpreview(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    setSelectedFileData(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Save and Map Competencies';\n    }\n\n    return <input type=\"submit\" className=\"button\" value={submitButtonLabel} />;\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  // From https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript\n  const getImageData = (url, callback) => {\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function() {\n      var reader = new FileReader();\n      reader.onloadend = function() {\n        return callback(reader.result);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.send();\n  };\n\n  const toDataURL = (src, callback, outputFormat) => {\n    var img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = function() {\n      var canvas = document.createElement('CANVAS');\n      var ctx = canvas.getContext('2d');\n      var dataURL;\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      ctx.drawImage(this, 0, 0);\n      dataURL = canvas.toDataURL(outputFormat);\n      callback(dataURL);\n    };\n    img.src = src;\n    if (img.complete || img.complete === undefined) {\n      img.src =\n        'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n      img.src = src;\n    }\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  const openModal = (e) => {\n    e.preventDefault();\n    setModelOpen(true);\n  }\n\n  const closeModal = () => {\n    //e.preventDefault();\n    setModelOpen(false);\n  }\n \n\n  return (\n    <div>\n      <h2>Create / Edit {placeholder} profile</h2>\n      <div className=\"callout warning\"><i class=\"icon icon-common icon-exclamation-triangle\"></i> Your profile will be saved in your browser. \n        Click <a href=\"#\" onClick={e => openModal(e)}> here </a> for help.\n        <GuestHelp modalOpen={modalOpen} closeModal={closeModal}/>\n      </div>\n      <form className=\"form\" id=\"profile_create_form\" onSubmit={handleSubmit}>\n        <div className=\"row\">\n          <div className=\"column large-4\">\n            <span>\n              <strong>Name</strong>\n              <input\n                type=\"text\"\n                id=\"title\"\n                placeholder=\"Name\"\n                onChange={e => setTitle(e.target.value)}\n                defaultValue={profile ? profile.title : ''}\n              />\n              <div className={titleCalloutClass}>\n                <i>{nameHelp}</i>\n              </div>\n            </span>\n          </div>\n          <div className=\"column large-8\">\n            <span>\n              <strong>Job title</strong>\n              <input\n                type=\"text\"\n                id=\"jobTitle\"\n                placeholder=\"Job title\"\n                onChange={e => setJobTitle(e.target.value)}\n                defaultValue={profile ? profile.job_title : ''}\n              />\n              <div className={jobTitleCalloutClass}>\n                <i>{jobTitleHelp}</i>\n              </div>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"column large-4\">&nbsp;</div>\n          <div className=\"column large-8\" />\n        </div>\n\n        <div className=\"row\">\n          <div className=\"column large-4\">\n            <span>\n              <strong>Image</strong>\n              <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n            </span>\n\n            <span>\n              <img\n                id=\"imgpreview_image\"\n                width=\"100px\"\n                src={imgpreview}\n                height=\"100px\"\n                style={{\n                  border: '1px solid #ccc',\n                  padding: '5px',\n                  width: '30%'\n                }}\n              />\n              {imgpreview ? (\n                <div>\n                  <a href=\"#\" onClick={e => clearimgpreview(e)}>\n                    Clear image x\n                  </a>\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileSizeError ? (\n                <div className=\"small callout alert\">\n                  <em> Image size should not be more than 2 MB </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n\n              {fileTypeError ? (\n                <div className=\"small callout alert\">\n                  <em> Only JPG or PNG images are allowed </em>{' '}\n                </div>\n              ) : (\n                ''\n              )}\n            </span>\n\n            <br />\n            <br />\n            <span>\n              <strong>Age (in years)</strong>\n              <input\n                type=\"number\"\n                id=\"age\"\n                placeholder=\"Age\"\n                width={4}\n                onChange={e => setAge(e.target.value)}\n                defaultValue={profile ? profile.age : ''}\n              />\n            </span>\n\n            <span>\n              <strong>Gender</strong>\n              <select\n                onChange={e => setGender(e.target.value)}\n                //defaultValue={gender?gender:'-None-'}\n                value={gender ? gender : '-None-'}\n              >\n                <option value={'-None-'}>None</option>\n                <option value={'Male'}>Male</option>\n                <option value={'Female'}>Female</option>\n              </select>\n              \n            </span>\n          </div>\n          <div className=\"column large-8\">\n            <span>\n              <strong>Qualification and background</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile?storedProfile.qualification_background:''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setQualification(data);\n                }}\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Acitivities of current role</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile?storedProfile.current_role:''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setCurrentRole(data);\n                }}\n              />\n            </span>\n\n            <br />\n            <span>\n              <strong>Additional information</strong>\n              <CKEditor\n                editor={ClassicEditor}\n                data={storedProfile?storedProfile.additional_information:''}\n                onInit={editor => {}}\n                onChange={(event, editor) => {\n                  const data = editor.getData();\n                  setAdditionalInfo(data);\n                }}\n              />\n            </span>\n            <br />\n          </div>\n        </div>\n\n        <p />\n        <div className=\"row\">\n          <div className=\"column medium-2\" />\n          <div className=\"column medium-3\">\n            <ButtonLabel />\n          </div>\n          <div className=\"column medium-7\" />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const Path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/create/guest\"\n      component={ProfileCreateGuest}\n    />\n  </Switch>\n);\n\nexport default Path;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n//import CKEditor from 'react-ckeditor-component';\nimport Parser from 'html-react-parser';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactTooltip from 'react-tooltip';\n\nimport jsPDF from 'jspdf';\nimport moment from 'moment';\n\nconst $ = window.$;\n\nexport const ProfileView = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n  const alias = props.location.pathname.split('/')[7];\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  var competencyView = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var frameworkLogo = '';\n  var frameworkDesc = '';\n  var mapping = [];\n  var user_roles = localStorage.getItem('roles')\n    ? localStorage.getItem('roles')\n    : '';\n\n  let profile2Expertise = '';\n  let width2 = '';\n  let floatRight = '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n  }, [profileId]);\n\n  const checkAlias = () => {\n    if (profile) {\n      let url_alias = profile.url_alias;\n\n      if (profile.url_alias != alias) {\n        props.history.push(\n          `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}${url_alias}`\n        );\n      }\n    }\n  };\n\n  const getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency == competency);\n      if (obj) {\n        if (frameworkInfo) {\n          let expertise = frameworkInfo[0].expertise_levels.find(\n            level => level.id == obj.expertise\n          );\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n  const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a == aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n  const getBarWidth = data => {\n    width2 = data ? 100 / (3 / data.rating_level) : 0;\n    return width2;\n  };\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      console.log(frameworkInfo);\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.expertise_levels.map(\n            //level => (expertise_levels[level.rating_level] = level.title)\n            level => expertise_levels_legend.push(\n                <li style={{ textAlign: 'center' }}>\n                 <div data-tip={level.description?level.description:'NA'} data-html={true} data-type='info' data-multiline={true}> \n                    <span className=\"badge secondary\"> {level.rating_level} </span> <span> {level.title}</span> \n                  </div>\n                 <ReactTooltip class='tooltip-custom' />\n                </li>\n\n              )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    // let index = 0;\n    // expertise_levels.map((level, key) => {\n    //   expertise_levels_legend.push(\n    //     <li style={{ textAlign: 'center' }}>\n    //       <span className=\"badge secondary\"> {key} </span> <span> {level}</span>\n    //     </li>\n    //   );\n    //   index++;\n    // });\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n      console.log(mapping);\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map(domain => (\n          <div>\n            <div className=\"row callout\">\n              <div className=\"column medium-12 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n            </div>\n            {domain.competencies.map(competency => (\n              <div>\n                <div className=\"row\">\n                  <div className=\"column medium-8\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"column medium-4\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{\n                          width: getBarWidth(getExpertise(competency.id)) + '%',\n                          display: 'flow-root'\n                        }}\n                      >\n                        <span\n                          style={{\n                            float:\n                              getBarWidth(getExpertise(competency.id)) == 0\n                                ? 'none'\n                                : 'right'\n                          }}\n                          className=\"rating_level_number\"\n                        >\n                          {getExpertise(competency.id)\n                            ? getExpertise(competency.id).rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map(attribute_type => {\n                      return (\n                        <div\n                          className=\"accordion-item is-active\"\n                          data-accordion-item\n                        >\n                          <div className=\"row attribute_align_type\">\n                            <div className=\"column medium-8\">\n                              <strong> {attribute_type} </strong>\n                            </div>\n                            <div className=\"column medium-4\" />\n                          </div>\n                          {competency.attributes\n                            .filter(\n                              attribute => attribute.type == attribute_type\n                            )\n                            .map(attribute => {\n                              return (\n                                <div className=\"row attribute_align\">\n                                  <div className=\"column medium-8\">\n                                    {attribute.title}\n                                  </div>\n                                  <div className=\"column medium-4\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile1'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            ))}\n          </div>\n        ))\n      );\n    }\n  };\n\n  const handleDownload = e => {\n    e.preventDefault();\n\n    // Download Profile\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    downloadProfileFromHtml(storedProfile);\n  };\n  const downloadProfileFromHtml = options => {\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    const margin = 0.5;\n\n    let currentDate = moment().format('MMMM D, Y');\n    let currentTime = moment().format('hh:mm:ss');\n\n    let pdfWidth = doc.internal.pageSize.getWidth();\n    let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    const pdfProfileImgWidth = 180;\n    const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    let col = pdfWidth * 0.07383;\n    let gutter = pdfWidth * 0.01036727272;\n    let fourthCol = col * 4 + gutter * 3;\n    let fifthCol = col * 5 + gutter * 4;\n\n    const profileBody = pdfWidth - fifthCol - 20;\n\n    let selectedFileWidth = options.selectedFile\n      ? options.selectedFileData[0].width\n      : 180;\n    let selectedFileHeight = options.selectedFile\n      ? options.selectedFileData[0].height\n      : 150;\n    let ratio = selectedFileWidth / selectedFileHeight;\n    let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    var specialElementHandlers = {\n      '#editor': function(element, renderer) {\n        return true;\n      }\n    };\n\n    let margins = {\n      top: startHeight,\n      bottom: 60,\n      left: marginleft,\n      right: marginright,\n      width: 490\n    };\n    var sourceFull = document.getElementById('profile');\n    var source = sourceFull;\n\n    //console.log(source[0].attributes)\n    // source = doc.splitTextToSize(\n    //   source,\n    //   profileBody\n    // );\n\n    let profileTitle = options.jobTitle.split(' ').join('_');\n    doc.fromHTML(\n      source,\n      marginleft,\n      currentYAxis,\n      {\n        // y coord\n        width: margins.width, // max width of content on PDF\n        elementHandlers: specialElementHandlers\n      },\n      function(dispose) {\n        // dispose: object with X, Y of the last line add to the PDF\n        //          this allow the insertion of new lines after html\n        doc.save(profileTitle.toLowerCase() + '.pdf');\n      }\n      // margins\n    );\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      {generateProfileView()}\n\n      {profile ? (\n        <div id=\"profile\">\n          <h2 style={{ marginTop: '1em', marginBottom: '1em' }}>\n            {profile.title} - {profile.job_title}\n          </h2>\n\n          <div style={{ float: 'right' }}>\n            {user_roles.search('framework_manager') != -1 ? (\n              <ul>\n                <li className=\"profile_navigation\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/edit/${profileId}`}\n                  >\n                    Edit overview\n                    <i className=\"icon icon-common icon-pencil-alt\" />\n                  </Link>\n                </li>\n                <li className=\"profile_navigation\">\n                  <Link to={`/framework/${frameworkName}/${frameworkVersion}/profile/map/${profileId}`}>\n                    Map competencies <i className=\"icon icon-common icon-cog\" />{' '}\n                    {console.log(localStorage.getItem('roles'))}\n                  </Link>\n                </li>\n              </ul>\n            ) : (\n              <Link to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}>\n                Create your profile <i className=\"icon icon-common icon-plus\" />\n              </Link>\n            )}\n          </div>\n\n          <div className={profile.publishing_status + ' row'}>\n            <div className=\"column large-3\">\n              <center>\n                <img\n                  style={{ display: 'block', maxWidth: '200px' }}\n                  src={profile.image[0] ? profile.image[0].url : ''}\n                />\n              </center>\n              <p />\n              <p style={{ textAlign: 'center' }}>\n                {profile.gender ? profile.gender : ''}{' '}\n                {profile.age ? '| ' + profile.age + ' years' : ''}\n              </p>\n            </div>\n            <div className=\"column large-9\">\n              <h3>Qualification and background</h3>\n              <p>\n                {profile.qualification_background\n                  ? Parser(profile.qualification_background)\n                  : ''}\n              </p>\n\n              <h3>Activities of current role</h3>\n              <p>{profile.current_role ? Parser(profile.current_role) : ''}</p>\n\n              <p>\n                {profile.additional_information\n                  ? Parser(profile.additional_information)\n                  : ''}\n              </p>\n            </div>\n            <p />\n          </div>\n          <p>&nbsp;</p>\n\n          <div className=\"row\">\n            <div className=\"column medium-3\">\n              {' '}\n              <h5 style={{ marginTop: '25px' }}>\n                {frameworkFullName} {frameworkVersion} / Competencies\n              </h5>\n            </div>\n            <div className=\"column medium-9 \">\n\n              <ul className=\"legend-inline\" style={{ float: 'right' }}>\n                {expertise_levels_legend}\n\n              </ul>\n            </div>\n          </div>\n          <hr />\n          {competencyView}\n        </div>\n      ) : (\n        'Loaing profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"button\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/:id/:alias\"\n      component={ProfileView}\n    />\n  </Switch>\n);\n\nexport default ViewProfile;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n//import { apiUrl } from '../services/http/http';\n//import ProfileService from '../services/profile/profile';\n//import ActiveRequestsService from '../services/active-requests/active-requests';\n//import { Link, Redirect } from 'react-router-dom';\n//import RadarChart from 'react-svg-radar-chart';\nimport 'react-svg-radar-chart/build/css/index.css';\n//import user_icon from './user_icon.png';\nimport Collapsible from 'react-collapsible';\n\nexport const ProfilesCompareButterfly = props => {\n  let history = useHistory();\n  const frameworkName = props.frameworkName;\n  const frameworkVersion = props.frameworkVersion;\n  //const profile1Id = props.profile1Id;\n  //const profile2Id = props.profile2Id;\n  const isGuestProfile = props.isGuestProfile;\n\n  const profile1 = props.profile1;\n  const profile2 = props.profile2;\n  const framework = props.framework;\n  const frameworkInfo = props.frameworkInfo;\n\n  var competencyView = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var attribute_types = [];\n  var frameworkFullName = '';\n  //var frameworkLogo = '';\n  //var frameworkDesc = '';\n  var mapping1 = [];\n  var mapping2 = [];\n  var user_roles = localStorage.getItem('roles')\n    ? localStorage.getItem('roles')\n    : '';\n  var competencies_array = [];\n  var expertise_array = [];\n  var profile1_expertise_obj = new Object();\n  var profile2_expertise_obj = new Object();\n  var chart_props = [];\n  var leftData = [];\n  var rightData = [];\n\n  var includeSummary = [];\n\n  const getExpertise = (competency, profileid) => {\n    let mapping = [];\n    if (profileid == 'profile1') {\n      mapping = mapping1;\n    } else {\n      mapping = mapping2;\n    }\n\n    let obj = mapping.find(o => o.competency == competency);\n    if (obj) {\n      if (frameworkInfo) {\n        let expertise = frameworkInfo[0].expertise_levels.find(\n          level => level.id == obj.expertise\n        );\n        return expertise;\n      }\n    } else {\n      return null;\n    }\n  };\n\n  const getAttributeStatus = (attribute, profile) => {\n    let mapping = '';\n    if (profile == 'profile1') {\n      mapping = profile1.profile_mapping;\n    } else {\n      mapping = profile2.profile_mapping;\n    }\n    //console.log(mapping)\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a == attribute)\n      );\n      //console.log(attribute_check_status)\n      return attribute_check_status ? true : false;\n    }\n  };\n\n  const getAttributeRows = competency => {\n    console.log('hi ' + competency);\n  };\n\n\n  const generateProfileView = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          //frameworkLogo = info.logo[0].url;\n          //frameworkDesc = info.description;\n          info.expertise_levels.map(\n            (level, key) => (expertise_array[key] = level.id) //(expertise_levels[level.id] = level.title)\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        \"<li class='legend'>  <div class='legend_number'> \" +\n          index +\n          '</div>' +\n          level +\n          '</li>'\n      );\n      index++;\n    });\n\n    if (profile1) {\n      mapping1 = profile1.profile_mapping;\n    }\n\n    if (profile2) {\n      mapping2 = profile2.profile_mapping;\n    }\n\n    if (frameworkInfo) {\n      frameworkInfo.map(framework => {\n        if (framework.title == frameworkName) {\n          framework.expertise_levels.map((level, key) => {\n            expertise_array[key] = level.id;\n          });\n        }\n      });\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map(domain =>\n          domain.competencies.map(competency => {\n            let profile1Expertise = getExpertise(competency.id, 'profile1');\n            let profile2Expertise = getExpertise(competency.id, 'profile2');\n\n            if(profile1Expertise && profile2Expertise){\n              includeSummary.push(profile1Expertise.rating_level < profile2Expertise.rating_level ? competency.id : null)\n            }else if(!profile1Expertise && !profile2Expertise){\n              includeSummary.push(null)\n            }else if(!profile1Expertise  && profile2Expertise){\n              includeSummary.push(competency.id)\n            }\n                \n\n            let width1 = profile1Expertise\n              ? 100 / (3 / profile1Expertise.rating_level)\n              : 0;\n            let margin1 = 100 - width1;\n            margin1 = margin1 == 100 ? 88 : margin1;\n\n            let width2 = profile2Expertise\n              ? 100 / (3 / profile2Expertise.rating_level)\n              : 0;\n            let floatRight = width2 == 0 ? 'none' : 'right';\n\n            return (\n              <div>\n                <div className=\"row\">\n                  <div className=\"column medium-6\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"column medium-3\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerLeft\"\n                        style={{\n                          width: width1 + '%',\n                          marginLeft: margin1 + '%'\n                        }}\n                      >\n                        <span\n                          style={{ position: 'relative' }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile1Expertise\n                            ? profile1Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"column medium-3\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{ width: width2 + '%', display: 'flow-root' }}\n                      >\n                        <span\n                          style={{ float: floatRight }}\n                          className=\"rating_level_number\"\n                        >\n                          {profile2Expertise\n                            ? profile2Expertise.rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <span className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map(attribute_type => {\n                      return (\n                        <div\n                          className=\"accordion-item is-active\"\n                          data-accordion-item\n                        >\n                          <div className=\"row attribute_align_type\">\n                            <div className=\"column medium-6\">\n                              <strong> {attribute_type} </strong>\n                            </div>\n                            <div className=\"column medium-3\" />\n                            <div className=\"column medium-3\" />\n                          </div>\n                          {competency.attributes\n                            .filter(\n                              attribute => attribute.type == attribute_type\n                            )\n                            .map(attribute => {\n                              return (\n                                <div className=\"row attribute_align\">\n                                  <div className=\"column medium-6\">\n                                    {attribute.title}\n                                  </div>\n                                  <div className=\"column medium-3\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile1'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                  <div className=\"column medium-3\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile2'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            );\n          })\n        )\n      );\n    }\n  };\n  if (profile1) {\n    chart_props[0] = {\n      key: profile1.id,\n      label: profile1.title\n    };\n  }\n\n  if (profile2) {\n    chart_props[1] = {\n      key: profile2.id,\n      label: profile2.title\n    };\n  }\n\n  const handlePrint = e => {\n    e.preventDefault();\n    window.print();\n  };\n\n  const handleSummary = e => {\n    e.preventDefault();\n    history.push({pathname:`/framework/${frameworkName}/${frameworkVersion}/profiles/compare/guest/summary`,\n        state: {profileJobTitle: profile1.job_title, includeSummary: includeSummary}\n      })\n  }\n\n  return (\n    <div id=\"\">\n      {generateProfileView()}\n      \n      <p>&nbsp; </p>\n      <div className=\"row\">\n        <div className=\"column medium-6\">\n          <h5>\n            {frameworkFullName} {frameworkVersion} / Competencies\n          </h5>\n        </div>\n        <div className=\"column medium-3\">\n          <h5>{profile1.job_title}</h5>\n        </div>\n        <div className=\"column medium-3\">\n          <h5>{profile2.job_title}</h5>\n        </div>\n      </div>\n\n      <hr />\n      <div className=\"row\">\n        <div className=\"column medium-6\">&nbsp;</div>\n        <div className=\"column medium-3\">\n          <span>High</span> <span style={{ float: 'right' }}> Low</span>\n        </div>\n        <div className=\"column medium-3\">\n          <span>Low</span> <span style={{ float: 'right' }}> High</span>\n        </div>\n      </div>\n\n      <div>{competencyView}</div>\n      <div className=\"row\">\n\n        <div className=\"column medium-2\">&nbsp;</div>\n        <div className=\"column medium-4\" style={{ textAling: 'center' }}>\n        {isGuestProfile?  \n          <a to={\"#\"} className=\"button\" onClick={e => handleSummary(e)}>\n            Summary <i className=\"icon-common icon-list\" />\n          </a>\n          :\n          ''\n        }\n        </div>\n        <div className=\"column medium-4\" style={{ textAling: 'center' }}>\n          <a href=\"#\" className=\"button\" onClick={e => handlePrint(e)}>\n            Print <i className=\"icon icon-common icon-print\" />\n          </a>\n        </div>\n        <div className=\"column medium-2\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilesCompareButterfly;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { apiUrl } from '../services/http/http';\n\nimport { Link, Redirect } from 'react-router-dom';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\n//import ProfilesCompareTable from './ProfilesCompareTable';\n//import ProfilesCompareGraph from './ProfilesCompareGraph';\nimport ProfilesCompareButterfly from './ProfilesCompareButterfly';\nimport user_icon from './user_icon.png';\nimport Stars from './Stars';\nimport ReactTooltip from 'react-tooltip';\n\nconst $ = window.$;\n\nexport const ProfilesCompare = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profile1Id = props.location.pathname.split('/')[6];\n  const profile2Id = props.location.pathname.split('/')[7];\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n\n\n  const [profile1, setProfile1] = useState();\n  const [profile2, setProfile2] = useState();\n  const [framework, setFramework] = useState();\n  const [isGuestProfile, setIsGuestProfile] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const [link1, setLink1] = useState();\n  const [link2, setLink2] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if(profile1Id == 'guest'){\n          await setProfile1(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink1(`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`);\n        }else{\n          setLink1(`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile1Id}/alias`);\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile1Id}&timestamp=${Date.now()}`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile1(findresponse);\n            });\n        }\n          \n        if(profile2Id == 'guest'){\n          await setProfile2(JSON.parse(localStorage.getItem('guestProfile')));\n          setIsGuestProfile(1);\n          setLink2(`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`);\n        }else{\n          setLink2(`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profile2Id}/alias`);\n          await fetch(\n            `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profile2Id}&timestamp=${Date.now()}`\n          )\n            .then(Response => Response.json())\n            .then(findresponse => {\n              setProfile2(findresponse);\n            });\n        }\n\n        await fetch(`${apiUrl}/api/version_manager?_format=json`)\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFrameworkInfo(findresponse);\n          });\n\n        await fetch(\n          `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n        )\n          .then(Response => Response.json())\n          .then(findresponse => {\n            setFramework(findresponse);\n          });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, []);\n\n  if (frameworkInfo) {\n    frameworkInfo.map(info => {\n      if (info.title.toLowerCase() === frameworkName) {\n        info.expertise_levels.map(\n            level => expertise_levels_legend.push(\n                <li style={{ textAlign: 'center' }}>\n                 <div data-tip={level.description?level.description:'NA'} data-html={true} data-type='info' data-multiline={true}> \n                    <span className=\"badge secondary\"> {level.rating_level} </span> <span> {level.title}</span> \n                  </div>\n                 <ReactTooltip class='tooltip-custom' />\n                </li>\n\n              )\n          );\n      }\n    });\n  }\n\n\n  return (\n    <div>\n      <h3>Compare career profiles</h3>\n      <span className=\"lead\">\n        Compere profile with other reference profiles to help you make career\n        choices based on your competency\n        {console.log(isGuestProfile)}\n      </span>\n\n      <div className=\"row\">\n        <div className=\"column medium-3\">&nbsp;</div>\n        <div className=\"column medium-3\">\n          {profile1 ? (\n            <div className=\"profile_badge_page\">\n              <img\n                src={profile1.image[0] ? profile1.image[0].url : user_icon}\n                width=\"120px\"\n              />\n              <Link\n                to={link1}\n              >\n                <h5>{profile1.job_title}</h5>\n              </Link>\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n\n        <div className=\"column medium-3\">\n          {profile2 ? (\n            <div className=\"profile_badge_page\">\n              <img\n                src={profile2.image[0] ? profile2.image[0].url : user_icon}\n                width=\"120px\"\n              />\n              <Link\n                to={link2}\n              >\n                <h5>{profile2.job_title}</h5>\n              </Link>\n            </div>\n          ) : (\n            'loading profiles'\n          )}\n        </div>\n        <div className=\"column medium-3\" />\n      </div>\n\n      <div className=\"row\">\n        <div className=\"column medium-12\">\n          <div className=\"legend-inline-wrapper\">\n            <strong>Rating levels </strong>{' '}\n            <ul className=\"legend-inline\">{expertise_levels_legend}</ul>\n          </div>\n        </div>\n      </div>\n      <p />\n\n      {profile1 && profile2 ? (\n\n\n        <ProfilesCompareButterfly\n          frameworkName={frameworkName}\n          frameworkVersion={frameworkVersion}\n          profile1Id={profile1Id}\n          profile2Id={profile2Id}\n          profile1={profile1}\n          profile2={profile2}\n          framework={framework}\n          frameworkInfo={frameworkInfo}\n          isGuestProfile={isGuestProfile}\n        />\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport const sendRoute = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\n      component={ProfilesCompare}\n    />\n  </Switch>\n);\n\nexport default sendRoute;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport HttpService from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\nimport Parser from 'html-react-parser';\n\nimport jsPDF from 'jspdf';\nimport moment from 'moment';\n\nconst $ = window.$;\n\nexport const ProfileMapDownload = props => {\n  // const activeRequests = new ActiveRequestsService();\n  // const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [expertiseLevels, setExpertiseLevels] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  // const [ksa, setKsa] = useState();\n  const [profileAttributes, setProfileAttributes] = useState([]);\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var frameworkDesc = '';\n  var frameworkLogo = '';\n\n  var mapping = [];\n  let mappingAttributes = [];\n  var expertise_levels_legend = [];\n\n  const http = new HttpService();\n\n  useEffect(() => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n\n    if (storedProfile) {\n      // Get Profile from Session\n      setProfile(storedProfile);\n\n      const fetchData = async () => {\n        try {\n          // Get Framework\n          const promiseFramework = http\n            .get(`${apiUrl}/api/version_manager?_format=json`)\n            .then(responseFramework => responseFramework.data);\n\n          // Get Framework version\n          const promiseVersion = http\n            .get(\n              `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n            )\n            .then(responseVersion => responseVersion.data);\n\n          const [dataFramework, dataVersion] = await Promise.all([\n            promiseFramework,\n            promiseVersion\n          ]);\n\n          getExpertiseLevels(dataFramework, dataVersion[0].nid);\n          setFrameworkInfo(dataFramework);\n          setFramework(dataVersion);\n          // return false;\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      fetchData();\n    }\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Download Profile\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    downloadProfileFromHtml(storedProfile);\n  };\n\n  const handleMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let expertise = event.target[event.target.selectedIndex].text;\n\n    if (expertise_id == expertise_not_applicable) {\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        false\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        true\n      );\n\n      removeCompetencyAttributes(competency_id);\n    } else {\n      // Create temp mapping\n      let tempMap = storedProfile['mapping'];\n\n      if (tempMap.find(o => o.competency_id === competency_id)) {\n        // Update stored Competencies only if existing levels of expertise is updated\n        if (tempMap.expertise_id != expertise_id) {\n          var index = tempMap.findIndex(\n            item => item.competency_id === competency_id\n          );\n          // replace current stored values with incoming ones\n          tempMap.splice(index, 1, {\n            competency_id: competency_id,\n            expertise_id: expertise_id,\n            expertise: expertise\n          });\n        }\n        // Update local Storage mapping\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      } else {\n        // Add competency that has been selected\n        let tempMap = storedProfile['mapping'];\n        tempMap.push({\n          competency_id: competency_id,\n          expertise_id: expertise_id,\n          expertise: expertise\n        });\n        storedProfile['mapping'] = tempMap;\n        localStorage.setItem(\n          'ProfileDownloadData',\n          JSON.stringify(storedProfile)\n        );\n      }\n\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'checked',\n        true\n      );\n      $('input:checkbox[data-competency=' + competency_id + ']').prop(\n        'disabled',\n        false\n      );\n\n      // Add Competency's selected attributes to LocalStorage\n      addCompetencyAttributes(competency_id);\n    }\n  };\n\n  // Add all attributes to LocalStorage if Competency is selected\n  const addCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    // let selectedAttributes = new Array();\n\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    let attributes = $(\n      'input:checkbox[data-competency=' + competency + ']'\n    ).each(function() {\n      if (\n        mappingAttributes.find(attr => attr.attribute_id === $(this).attr('id'))\n      ) {\n        // Do nothing if attributes are in LocalStorage already\n      } else {\n        mappingAttributes.push({\n          attribute_id: $(this).attr('id'),\n          competency_id: competency\n        });\n      }\n    }, mappingAttributes);\n\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    setProfileAttributes(storedProfile);\n  };\n\n  // Remove current attributes if Competency is deselected\n  const removeCompetencyAttributes = competency => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    let attributes = $(\n      'input:checkbox[data-competency=' + competency + ']'\n    ).each(function() {\n      let index = mappingAttributes.findIndex(\n        item => item.attribute_id === $(this).attr('id')\n      );\n      // Remove current attributes if Competency is deselected\n      mappingAttributes.splice(index, 1);\n    }, mappingAttributes);\n\n    // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n    storedProfile['mappingAttributes'] = mappingAttributes;\n    localStorage.setItem('ProfileDownloadData', JSON.stringify(storedProfile));\n    setProfileAttributes(storedProfile);\n  };\n\n  // Manage single Attributes check/uncheck event\n  const handleCheckboxMapping = event => {\n    let storedProfile = JSON.parse(localStorage.getItem('ProfileDownloadData'));\n    let competency_id = event.target.getAttribute('data-competency');\n    let attribute_id = event.target.getAttribute('id');\n\n    // let mappingAttributes = JSON.parse(localStorage.getItem('mappingAttributes'));\n    let mappingAttributes = storedProfile['mappingAttributes'];\n    let attributes = mappingAttributes;\n\n    if (mappingAttributes.find(attr => attr.attribute_id === attribute_id)) {\n      // Remove current attribute if deselected\n      var index = mappingAttributes.findIndex(\n        item => item.attribute_id === attribute_id\n      );\n      mappingAttributes.splice(index, 1);\n      // localStorage.setItem('mappingAttributes', JSON.stringify(mappingAttributes));\n      storedProfile['mappingAttributes'] = mappingAttributes;\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    } else {\n      // Add attribute to LocalStorage\n      attributes.push({\n        attribute_id: attribute_id,\n        competency_id: competency_id\n      });\n      // localStorage.setItem('mappingAttributes', JSON.stringify(attributes));\n      storedProfile['mappingAttributes'] = attributes;\n      $('input:checkbox[id=' + attribute_id + ']').prop('checked', true);\n      localStorage.setItem(\n        'ProfileDownloadData',\n        JSON.stringify(storedProfile)\n      );\n    }\n    setProfileAttributes(storedProfile);\n  };\n\n  // Set Expertise Level.\n  // const expertiseLevelsSelect= [\n  //   {id: 1, title: 'Not applicable', data_expertise: '6816'},\n  //   {id: 2, title: 'Awareness', data_expertise: '6817'},\n  //   {id: 3, title: 'Working knowledge', data_expertise: '6818'},\n  //   {id: 4, title: 'Specialist knowledge', data_expertise: '6819'}\n  // ];\n\n  // Get Expertise Level from API.\n  if (frameworkInfo) {\n    frameworkInfo.map(info => {\n      if (info.title.toLowerCase() === frameworkName) {\n        frameworkFullName = info.title;\n        frameworkLogo = info.logo[0].url;\n        frameworkDesc = info.description;\n        info.expertise_levels.map(\n          level => (expertise_levels[level.rating_level] = level.title)\n        );\n      }\n    });\n\n    let index = 0;\n    expertise_levels.map((level, key) => {\n      expertise_levels_legend.push(\n        <li style={{ textAlign: 'center' }}>\n          <span className=\"badge secondary\"> {key} </span> <span> {level}</span>\n        </li>\n      );\n      index++;\n    });\n  }\n\n  const getExpertiseLevels = (frameworkInfo, fId) => {\n    let fw = frameworkInfo.filter(item => {\n      return item.nid === fId;\n    });\n\n    let levels = fw[0].expertise_levels;\n\n    // Set Expertise Level\n    setExpertiseLevels(levels);\n  };\n\n  const downloadProfileFromHtml = options => {\n    let doc = new jsPDF('p', 'pt', 'a4');\n    doc.setFont('helvetica');\n    const margin = 0.5;\n\n    let currentDate = moment().format('MMMM D, Y');\n    let currentTime = moment().format('hh:mm:ss');\n\n    let pdfWidth = doc.internal.pageSize.getWidth();\n    let pdfHeight = doc.internal.pageSize.getHeight();\n\n    const startHeight = 30;\n    const marginleft = 20;\n    const pdfProfileImgWidth = 180;\n    const pageLogoWidth = 100;\n\n    let marginright = doc.internal.pageSize.getWidth() - 20;\n    let col = pdfWidth * 0.07383;\n    let gutter = pdfWidth * 0.01036727272;\n    let fourthCol = col * 4 + gutter * 3;\n    let fifthCol = col * 5 + gutter * 4;\n\n    const profileBody = pdfWidth - fifthCol - 20;\n\n    let selectedFileWidth = options.selectedFile\n      ? options.selectedFileData[0].width\n      : 180;\n    let selectedFileHeight = options.selectedFile\n      ? options.selectedFileData[0].height\n      : 150;\n    let ratio = selectedFileWidth / selectedFileHeight;\n    let pdfProfileImgHeight = pdfProfileImgWidth / ratio;\n\n    let currentYAxis = startHeight;\n\n    var specialElementHandlers = {\n      '#editor': function(element, renderer) {\n        return true;\n      }\n    };\n\n    let margins = {\n      top: startHeight,\n      bottom: 60,\n      left: marginleft,\n      right: marginright,\n      width: 490\n    };\n\n    var source = document.getElementById('profile');\n\n    // source = doc.splitTextToSize(\n    //   source,\n    //   profileBody\n    // );\n\n    let profileTitle = options.jobTitle.split(' ').join('_');\n    doc.fromHTML(\n      source,\n      marginleft,\n      currentYAxis,\n      {\n        // y coord\n        width: margins.width, // max width of content on PDF\n        elementHandlers: specialElementHandlers\n      },\n      function(dispose) {\n        // dispose: object with X, Y of the last line add to the PDF\n        //          this allow the insertion of new lines after html\n        doc.save(profileTitle.toLowerCase() + '.pdf');\n      }\n      // margins\n    );\n\n    // doc.output(\"/framework/bioexcel/2.0/profile/map/download/myprofile\");\n  };\n\n  // Set fielc HTML content + Heading if not empty\n  const setFieldContent = (heading, field) => {\n    let fieldContent = field ? '<h3>' + heading + '</h3>' + field : '';\n    return { __html: fieldContent };\n  };\n\n  const generateForm = () => {\n    // console.log('frameworkInfo')\n    // console.log(frameworkInfo)\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.expertise_levels.map(\n            level => (\n              (expertise_levels[level.id] = level.title),\n              level.title == 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : ''\n            )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    if (profile) {\n      mapping = profile.mapping;\n\n      let storedProfile = JSON.parse(\n        localStorage.getItem('ProfileDownloadData')\n      );\n      mappingAttributes = storedProfile['mappingAttributes'];\n    }\n\n    if (framework) {\n      competencyForm = framework.map((item, index) =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li key={index} className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h4 className=\"domain_title\"> {domain.title}</h4>\n                </div>\n                <div className=\"column medium-3\">\n                  <h4>Levels of expertise</h4>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li key={cid} className=\"competency_list\">\n                    <div className=\"row\">\n                      <div className=\"column medium-9\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                  <p className=\"show-for-sr\">show more</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <h5>\n                                <span className=\"icon icon-common icon-angle-up icon-custom\">\n                                  <p className=\"show-for-sr\">show less</p>\n                                </span>\n                                {competency.title}\n                              </h5>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map((attribute_type, index) => {\n                              return (\n                                <li key={index} className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type == attribute_type\n                                      )\n                                      .map((attribute, jIndex) => (\n                                        <li\n                                          key={jIndex}\n                                          className=\"attribute_title\"\n                                        >\n                                          <div className=\"row\">\n                                            <div className=\"column medium-1\">\n                                              <input\n                                                onChange={e =>\n                                                  handleCheckboxMapping(e)\n                                                }\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                data-competency={competency.id}\n                                                checked={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ==\n                                                      attribute.id\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                              />\n                                            </div>\n                                            <div className=\"column medium-11\">\n                                              <label\n                                                className={\n                                                  mappingAttributes.find(\n                                                    attr =>\n                                                      attr.attribute_id ==\n                                                      attribute.id\n                                                  )\n                                                    ? 'attribute_label checked'\n                                                    : 'attribute_label'\n                                                }\n                                                htmlFor={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n\n                      <div className=\"column medium-3\">\n                        <select\n                          onChange={e => handleMapping(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency_id == competency.id)\n                              ? mapping.find(\n                                  o => o.competency_id == competency.id\n                                ).expertise_id\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertiseLevels.map((level, key) => (\n                            <option\n                              key={key}\n                              value={level.id}\n                              data-expertise={level.id}\n                              data-competency={competency.id}\n                            >\n                              {level.title}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>Add competencies to your profile </h2>\n\n            <div id=\"profile\" className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <h3>\n                    {profile.title.charAt(0).toUpperCase() +\n                      profile.title.slice(1)}{' '}\n                    - {profile.jobTitle}\n                  </h3>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3 text-center\">\n                  {profile.selectedFileData[0] ? (\n                    <img\n                      src={\n                        profile.selectedFileData[0].src\n                          ? profile.selectedFileData[0].src\n                          : user_icon\n                      }\n                      width=\"250px\"\n                    />\n                  ) : (\n                    ''\n                  )}\n                  <div className=\"text-center\">\n                    <br />\n                    {profile.gender}, {profile.age} years\n                  </div>\n                </div>\n                <div className=\"column medium-9\">\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Qualifications and background',\n                      profile.qualification\n                    )}\n                  />\n                  {/* <div className=\"form_intro\"\n                    dangerouslySetInnerHTML={{ __html: profile.qualification }}\n                  /> */}\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Activities and current role',\n                      profile.currentRole\n                    )}\n                  />\n\n                  <div\n                    className=\"form_intro\"\n                    dangerouslySetInnerHTML={setFieldContent(\n                      'Additional information',\n                      profile.additionalInfo\n                    )}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <br />\n                  <h3>Your competencies</h3>\n                  <p>\n                    The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                  <p>\n                    You may assign a level expertise against each competency.\n                    The levels of expertise are:\n                  </p>\n                  <div className=\"legend-inline-wrapper\">\n                    <strong>Rating levels </strong>{' '}\n                    <ul className=\"legend-inline\">{expertise_levels_legend}</ul>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-12\">\n                  <div className=\"competency_section\">\n                    {\n                      <form onSubmit={e => handleSubmit(e)}>\n                        {competencyForm}\n                        <div className=\"submit_fixed\">\n                          <button className=\"button\" type=\"submit\">\n                            Print <i className=\"icon icon-common icon-print\" />\n                          </button>\n                        </div>\n                      </form>\n                    }\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  {/* <div>{profile.qualification}</div> */}\n\n                  {/* <div>{profile.currentRole}</div> */}\n                  {/* <h5>{profile.title}</h5> */}\n                  {/* <Link\n                    to={`/framework/bioexcel/2.0/profile/view/${profileId}/alias`}\n                  >\n                    {' '}\n                    <i className=\"icon icon-common icon-angle-left\" /> Profile\n                    overview{' '}\n                  </Link> */}\n                </div>\n                <div className=\"column medium-6 form_intro\" />\n                <div className=\"column medium-3\">\n                  {/* <img src={frameworkLogo} />\n                  <br /> */}\n                </div>\n              </div>\n\n              {/* <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button className=\"button\" type=\"submit\">\n                        Download{' '}\n                        <i className=\"icon icon-common icon-download\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div> */}\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfileDownload = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/download\"\n      component={ProfileMapDownload}\n    />\n  </Switch>\n);\n\nexport default MapProfileDownload;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Parser from 'html-react-parser';\n\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport ReactTooltip from 'react-tooltip';\nimport user_icon from './user_icon.png';\nconst $ = window.$;\n\nexport const ProfileViewGuest = props => {\n\n\t\n\tconst frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n\n\t  const [profile, setProfile] = useState();\n\t  const [framework, setFramework] = useState();\n\t  const [frameworkInfo, setFrameworkInfo] = useState();\n\n\t  var competencyView = '';\n\t  var expertise_levels = [];\n\t  var expertise_levels_legend = [];\n\t  var attribute_types = [];\n\t  var frameworkFullName = '';\n\t  var frameworkLogo = '';\n\t  var frameworkDesc = '';\n\t  var mapping = [];\n\n\n\t  let profile2Expertise = '';\n\t  let width2 = '';\n\t  let floatRight = '';\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\n\t\t\tawait setProfile(JSON.parse(localStorage.getItem('guestProfile')));\n\n\t\t\tawait fetch(`${apiUrl}/api/version_manager?_format=json`)\n\t\t        .then(Response => Response.json())\n\t\t        .then(findresponse => {\n\t\t          setFrameworkInfo(findresponse);\n\t\t        });\n\n\t\t      await fetch(\n\t\t        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n\t\t      )\n\t\t        .then(Response => Response.json())\n\t\t        .then(findresponse => {\n\t\t          setFramework(findresponse);\n\t\t        });\n\t\t    }\n\t\t    fetchData();\n\n\t},[])\n\nconst getExpertise = competency => {\n    if (mapping) {\n      let obj = mapping.find(o => o.competency == competency);\n      if (obj) {\n        if (frameworkInfo) {\n          let expertise = frameworkInfo[0].expertise_levels.find(\n            level => level.id == obj.expertise\n          );\n          return expertise;\n        }\n      } else {\n        return '';\n      }\n    }\n  };\n\n const getAttributeStatus = aid => {\n    if (mapping) {\n      let attribute_check_status = mapping.find(o =>\n        o.attributes.find(a => a == aid)\n      );\n      return attribute_check_status;\n    }\n  };\n\n const getBarWidth = data => {\n    width2 = data ? 100 / (3 / data.rating_level) : 0;\n    return width2;\n  };\n\n\n    const generateProfileView = () => {\n    if (frameworkInfo) {\n      console.log(frameworkInfo);\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.expertise_levels.map(\n            //level => (expertise_levels[level.rating_level] = level.title)\n            level => expertise_levels_legend.push(\n                <li style={{ textAlign: 'center' }}>\n                 <div data-tip={level.description?level.description:'NA'} data-html={true} data-type='info' data-multiline={true}> \n                    <span className=\"badge secondary\"> {level.rating_level} </span> <span> {level.title}</span> \n                  </div>\n                 <ReactTooltip class='tooltip-custom' />\n                </li>\n\n              )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    if (profile) {\n      mapping = profile.profile_mapping;\n      console.log(mapping);\n    }\n\n    if (framework) {\n      competencyView = framework.map(item =>\n        item.domains.map(domain => (\n          <div>\n            <div className=\"row callout\">\n              <div className=\"column medium-12 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n            </div>\n            {domain.competencies.map(competency => (\n              <div>\n                <div className=\"row\">\n                  <div className=\"column medium-8\">\n                    <span className=\"competency_title\">\n                      {' '}\n                      {competency.title.length > 150\n                        ? competency.title\n                            .split(' ')\n                            .splice(0, 18)\n                            .join(' ') + ' ..'\n                        : competency.title}\n                    </span>\n                  </div>\n                  <div className=\"column medium-4\">\n                    <div className=\"fillerbg\">\n                      <div\n                        className=\"fillerRight\"\n                        style={{\n                          width: getBarWidth(getExpertise(competency.id)) + '%',\n                          display: 'flow-root'\n                        }}\n                      >\n                        <span\n                          style={{\n                            float:\n                              getBarWidth(getExpertise(competency.id)) == 0\n                                ? 'none'\n                                : 'right'\n                          }}\n                          className=\"rating_level_number\"\n                        >\n                          {getExpertise(competency.id)\n                            ? getExpertise(competency.id).rating_level\n                            : 0}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"profile_collapsible\">\n                  <Collapsible\n                    trigger={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                      </div>\n                    }\n                    triggerWhenOpen={\n                      <div className=\"open-close-title\">\n                        <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                      </div>\n                    }\n                  >\n                    {attribute_types.map(attribute_type => {\n                      return (\n                        <div\n                          className=\"accordion-item is-active\"\n                          data-accordion-item\n                        >\n                          <div className=\"row attribute_align_type\">\n                            <div className=\"column medium-8\">\n                              <strong> {attribute_type} </strong>\n                            </div>\n                            <div className=\"column medium-4\" />\n                          </div>\n                          {competency.attributes\n                            .filter(\n                              attribute => attribute.type == attribute_type\n                            )\n                            .map(attribute => {\n                              return (\n                                <div className=\"row attribute_align\">\n                                  <div className=\"column medium-8\">\n                                    {attribute.title}\n                                  </div>\n                                  <div className=\"column medium-4\">\n                                    {getAttributeStatus(\n                                      attribute.id,\n                                      'profile1'\n                                    ) ? (\n                                      <i className=\"icon icon-common icon-check\" />\n                                    ) : (\n                                      '-'\n                                    )}\n                                  </div>\n                                </div>\n                              );\n                            })}\n                        </div>\n                      );\n                    })}\n                  </Collapsible>\n                </div>\n              </div>\n            ))}\n          </div>\n        ))\n      );\n    }\n  };\n\n    const handlePrint = () => {\n    window.print();\n  };\n\n    return (\n    <div>\n      {generateProfileView()}\n\n      {profile ? (\n        <div id=\"profile\">\n          <h2 style={{ marginTop: '1em', marginBottom: '1em' }}>\n            {profile.title} - {profile.job_title}\n          </h2>\n\n          <div style={{ float: 'right' }}>\n              <ul>\n                <li className=\"profile_navigation\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/create/guest`}\n                  >\n                    Edit overview\n                    <i className=\"icon icon-common icon-pencil-alt\" />\n                  </Link>\n                </li>\n                <li className=\"profile_navigation\">\n                  <Link to={`/framework/${frameworkName}/${frameworkVersion}/profile/map/guest`}>\n                    Map competencies <i className=\"icon icon-common icon-cog\" />{' '}\n                  </Link>\n                </li>\n              </ul>\n        \n          </div>\n\n          <div className={profile.publishing_status + ' row'}>\n            <div className=\"column large-3\">\n              <center>\n                <img\n                  style={{ display: 'block', maxWidth: '150px' }}\n                  src={profile.image[0] ? profile.image[0].url : user_icon}\n                  //src='#'\n                />\n              </center>\n              <p />\n              <p style={{ textAlign: 'center' }}>\n                {profile.gender ? profile.gender : ''}{' '}\n                {profile.age ? '| ' + profile.age + ' years' : ''}\n              </p>\n            </div>\n            <div className=\"column large-9\">\n              <h3>Qualification and background</h3>\n              <p>\n                {profile.qualification_background\n                  ? Parser(profile.qualification_background)\n                  : ''}\n              </p>\n\n              <h3>Activities of current role</h3>\n              <p>{profile.current_role ? Parser(profile.current_role) : ''}</p>\n\n              <p>\n                {profile.additional_information\n                  ? Parser(profile.additional_information)\n                  : ''}\n              </p>\n            </div>\n            <p />\n          </div>\n          <p>&nbsp;</p>\n\n          <div className=\"row\">\n            <div className=\"column medium-3\">\n              {' '}\n              <h5 style={{ marginTop: '25px' }}>\n                {frameworkFullName} {frameworkVersion} / Competencies\n              </h5>\n            </div>\n            <div className=\"column medium-9 \">\n\n              <ul className=\"legend-inline\" style={{ float: 'right' }}>\n                {expertise_levels_legend}\n\n              </ul>\n            </div>\n          </div>\n          <hr />\n          {competencyView}\n        </div>\n      ) : (\n        'Loading profile'\n      )}\n\n      <form onSubmit={e => handlePrint(e)}>\n        <div className=\"submit_fixed\">\n          <button className=\"button\" type=\"submit\">\n            Print <i className=\"icon icon-common icon-print\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport const ViewGuestProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/view/guest\"\n      component={ProfileViewGuest}\n    />\n  </Switch>\n);\n\nexport default ViewGuestProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\nimport Parser from 'html-react-parser';\nimport ReactTooltip from 'react-tooltip';\n\nconst $ = window.$;\n\nexport const ProfileMapGuest = props => {\n  const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  const [ksa, setKsa] = useState();\n  const [mapping, setMapping] = useState();\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  //const profileId = props.location.pathname.split('/')[6];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var frameworkLogo = '';\n  var frameworkDesc = '';\n  //var mapping = [];\n  var checkboxes = [];\n\n  var storedProfile =  JSON.parse(\n        localStorage.getItem('guestProfile')\n      );\n\n  useEffect(() => {\n    const fetchData = async () => {\n\n      await setProfile(storedProfile);\n\n      await setMapping(storedProfile.profile_mapping ? storedProfile.profile_mapping : []);\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n\n    if (mapping) {\n      let checkBoxes = $('input:checkbox');\n      checkBoxes.each(function(index, item, arr) {\n        console.log('test ' + item.dataset);\n      });\n    }\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    let response = await profileService.mapProfileGuest(mapping);\n    console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    let checkBoxes = $('input:checkbox[data-competency=' + competency_id + ']');\n\n    if (expertise_id == expertise_not_applicable) {\n      checkBoxes.each(function(index, item, arr) {\n        item.checked = false;\n        item.disabled = true;\n      });\n      //console.log(tempMapping.find(o => o.competency == competency_id))\n      // tempMapping.splice(\n      //   tempMapping.find(o => o.competency == competency_id),\n      //   1\n      // );\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency != competency_id);\n      console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus == true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency == competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency == competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    console.log(mapping);\n  };\n\n  // if (profile) {\n  //   if (!mapping) {\n  //     setMapping(storedProfile.mapping);\n  //   }\n  //     console.log(mapping);\n  // }\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.expertise_levels.map(\n            level => (\n              (expertise_levels[level.id] = level.title),\n              level.title == 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : '',\n                expertise_levels_legend.push(\n                <li style={{ textAlign: 'center' }}>\n                 <div data-tip={level.description?level.description:'NA'} data-html={true} data-type='info' data-multiline={true}> \n                    <span className=\"badge secondary\"> {level.rating_level} </span> <span> {level.title}</span> \n                  </div>\n                 <ReactTooltip class='tooltip-custom' />\n                </li>\n            )\n                )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    // let index = 0;\n    // expertise_levels.map((level, key) => {\n    //   expertise_levels_legend.push(\n    //     <li style={{ textAlign: 'center' }}>\n    //       <span className=\"badge secondary\"> {index} </span>{' '}\n    //       <span> {level}</span>\n    //     </li>\n    //   );\n    //   index++;\n    // });\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li className=\"competency_list\">\n                    <div className=\"row\">\n                      <div className=\"column medium-9\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <li className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type == attribute_type\n                                      )\n                                      .map(attribute => (\n                                        <li className=\"attribute_title\">\n                                          <div className=\"row\">\n                                            <div className=\"column medium-1\">\n                                              <input\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                onChange={e =>\n                                                  handleCheckBox(e)\n                                                }\n                                                defaultChecked={\n                                                  mapping?\n                                                  mapping.find(o =>\n                                                    o.attributes.find(\n                                                      a => a == attribute.id\n                                                    )\n                                                  )\n                                                    ? true\n                                                    : false\n\n                                                    :false\n                                                }\n                                                disabled={\n                                                  mapping?\n                                                  mapping.find(\n                                                    o =>\n                                                      o.competency ==\n                                                      competency.id\n                                                  )\n                                                    ? false\n                                                    : true\n                                                  :true\n                                                }\n                                                data-competency={competency.id}\n                                              />\n                                            </div>\n                                            <div className=\"column medium-11\">\n                                              <label\n                                                className=\"attribute_label\"\n                                                for={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"column medium-3\">\n                        <select\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping?\n                            mapping.find(o => o.competency == competency.id)\n                              ? mapping.find(o => o.competency == competency.id)\n                                  .expertise\n                              : expertise_not_applicable\n                            :expertise_not_applicable\n                          }\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>\n              Competency mapping: {frameworkFullName} {frameworkVersion} -{' '}\n              {profile.job_title}{' '}\n            </h2>\n\n            <div className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-10\" />\n                <div className=\"column medium-2\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/guest`}\n                  >\n                    <i class=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  <img\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                  />\n                </div>\n                <div className=\"column medium-9 form_intro\">\n                  <h3 />\n                  <p>\n                    Hi Guest. The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"column medium-9 \">\n                  <ul className=\"legend-inline\" style={{ float: 'right' }}>\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button className=\"button\" type=\"submit\">\n                        Save <i class=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const path = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/guest\"\n      component={ProfileMapGuest}\n    />\n  </Switch>\n);\n\nexport default path;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport FileUpload from './FileUpload';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\n\nexport const ProfileEdit = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  const [profile, setProfile] = useState();\n\n  const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n  const [title, setTitle] = useState();\n  const [age, setAge] = useState();\n  const [currentRole, setCurrentRole] = useState();\n  const [gender, setGender] = useState();\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [fid, setFid] = useState();\n  const [imgpreview, setImgpreview] = useState();\n  const [fileSizeError, setFileSizeError] = useState();\n  const [fileTypeError, setFileTypeError] = useState();\n\n  const [jobTitle, setJobTitle] = useState();\n  const [qualification, setQualification] = useState();\n  const [additionalInfo, setAdditionalInfo] = useState();\n  const [publishStatus, setPublishStatus] = useState();\n\n  const [framework, setFramework] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/node/${profileId}?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n          setTitle(findresponse.title[0].value);\n          setImgpreview(\n            findresponse.field_image[0] ? findresponse.field_image[0].url : ''\n          );\n          setFid(\n            findresponse.field_image[0]\n              ? findresponse.field_image[0].target_id\n              : ''\n          );\n          setJobTitle(\n            findresponse.field_job_title[0]\n              ? findresponse.field_job_title[0].value\n              : ''\n          );\n          setAge(\n            findresponse.field_age[0] ? findresponse.field_age[0].value : ''\n          );\n          setGender(\n            findresponse.field_gender[0]\n              ? findresponse.field_gender[0].value\n              : 'None'\n          );\n          setCurrentRole(\n            findresponse.field_current_role[0]\n              ? findresponse.field_current_role[0].value\n              : ''\n          );\n          setQualification(\n            findresponse.field_qualification_background[0]\n              ? findresponse.field_qualification_background[0].value\n              : ''\n          );\n          setAdditionalInfo(\n            findresponse.field_additional_information[0]\n              ? findresponse.field_additional_information[0].value\n              : ''\n          );\n          setPublishStatus(\n            findresponse.field_publishing_status[0]\n              ? findresponse.field_publishing_status[0].value\n              : ''\n          );\n        });\n    };\n    fetchData();\n  }, [profileId]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    if (\n      !title ||\n      !jobTitle ||\n      title.length < 2 ||\n      jobTitle.length < 3 ||\n      fileTypeError ||\n      fileSizeError\n    ) {\n    } else {\n      let token = localStorage.getItem('csrf_token');\n      var fileid = fid;\n      if (selectedFile) {\n        await fetch(\n          apiUrl + '/file/upload/node/profile/field_image?_format=hal_json',\n          {\n            credentials: 'include',\n            method: 'POST',\n            cookies: 'x-access-token',\n            headers: {\n              accept: 'application/octet-stream',\n              'Content-Type': 'application/octet-stream',\n              'X-CSRF-Token': token,\n              'Content-Disposition': 'file; filename=\"persona_picture.png\"'\n            },\n            body: selectedFile\n          }\n        )\n          .then(resp => resp.json())\n          .then(function(data) {\n            fileid = data.fid[0].value;\n          });\n      }\n\n      let response = await profileService.editProfile(\n        profileId,\n        title,\n        age,\n        currentRole,\n        gender,\n        jobTitle,\n        qualification,\n        additionalInfo,\n        publishStatus,\n        fileid\n      );\n\n      if (response.nid[0].value) {\n        props.history.push(\n          `/framework/${frameworkName}/${frameworkVersion}/profile/view/${response.nid[0].value}/alias`\n        );\n      }\n    }\n  };\n\n  function ButtonLabel() {\n    let submitButtonLabel = 'Save and continue';\n    if (!localStorage.getItem('roles')) {\n      submitButtonLabel = 'Download';\n    }\n\n    return <input type=\"submit\" className=\"button\" value={submitButtonLabel} />;\n  }\n\n  const getWhoCreateProfile = () => {\n    let placeholder = 'a reference';\n    if (!localStorage.getItem('roles')) {\n      placeholder = 'your';\n    }\n    return placeholder;\n  };\n\n  const placeholder = getWhoCreateProfile();\n\n  // Check if Fields are not empty hide Help Text\n  let titleCalloutClass = 'small callout alert';\n  let jobTitleCalloutClass = 'small callout alert';\n  let nameHelp = 'Name is required and must be at least 2 characters long';\n  let jobTitleHelp =\n    'Job Title is required and must be at least 3 characters long';\n  if (title) {\n    if (title.length > 1) {\n      nameHelp = '';\n      titleCalloutClass = '';\n    }\n  }\n\n  if (jobTitle) {\n    if (jobTitle.length > 2) {\n      jobTitleHelp = '';\n      jobTitleCalloutClass = '';\n    }\n  }\n\n  const setPreview = () => {\n    props.history.push(`/framework/${frameworkName}/${frameworkVersion}/profile/preview`, {\n      title: title\n    });\n  };\n\n  const onSelectFile = e => {\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } else {\n      const objectUrl = URL.createObjectURL(e.target.files[0]);\n\n      if (e.target.files[0].size > 2097152) {\n        setFileSizeError(1);\n      } else {\n        setFileSizeError(undefined);\n      }\n\n      if (\n        e.target.files[0].type != 'image/jpeg' &&\n        e.target.files[0].type != 'image/png'\n      ) {\n        setFileTypeError(1);\n      } else {\n        setFileTypeError(undefined);\n      }\n\n      console.log(e.target.files[0]);\n\n      setImgpreview(objectUrl);\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const clearimgpreview = e => {\n    e.preventDefault();\n    setImgpreview(undefined);\n    setFid(undefined);\n    setFileTypeError(undefined);\n    setFileSizeError(undefined);\n    document.getElementById('fileupload').value = '';\n  };\n\n  return (\n    <div>\n      <div>\n        <Link to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}>\n          {' '}\n          View{' '}\n        </Link>\n        <h2>Create {placeholder} profile</h2>\n\n        <form className=\"form\" id=\"profile_create_form\" onSubmit={handleSubmit}>\n          <div className=\"row\">\n            <div className=\"column large-4\">\n              <span>\n                <strong>Name</strong>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  placeholder=\"Name\"\n                  value={title}\n                  onChange={e => setTitle(e.target.value)}\n                />\n                <div className={titleCalloutClass}>\n                  <i>{nameHelp}</i>\n                </div>\n              </span>\n            </div>\n            <div className=\"column large-8\">\n              <span>\n                <strong>Job title</strong>\n                <input\n                  type=\"text\"\n                  id=\"jobTitle\"\n                  placeholder=\"Job title\"\n                  value={jobTitle}\n                  onChange={e => setJobTitle(e.target.value)}\n                />\n                <div className={jobTitleCalloutClass}>\n                  <i>{jobTitleHelp}</i>\n                </div>\n              </span>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"column large-4\">&nbsp;</div>\n            <div className=\"column large-8\" />\n          </div>\n\n          <div className=\"row\">\n            <div className=\"column large-4\">\n              <span>\n                <strong>Image</strong>\n                <input type=\"file\" id=\"fileupload\" onChange={onSelectFile} />\n              </span>\n\n              <span>\n                <img\n                  id=\"imgpreview_image\"\n                  width=\"100px\"\n                  src={imgpreview}\n                  height=\"100px\"\n                  style={{\n                    border: '1px solid #ccc',\n                    padding: '5px',\n                    width: '30%'\n                  }}\n                />\n                {imgpreview ? (\n                  <div>\n                    <a href=\"#\" onClick={e => clearimgpreview(e)}>\n                      Clear image x\n                    </a>\n                  </div>\n                ) : (\n                  ''\n                )}\n\n                {fileSizeError ? (\n                  <div className=\"small callout alert\">\n                    <em> Image size should not be more than 2 MB </em>{' '}\n                  </div>\n                ) : (\n                  ''\n                )}\n\n                {fileTypeError ? (\n                  <div className=\"small callout alert\">\n                    <em> Only JPG or PNG images are allowed </em>{' '}\n                  </div>\n                ) : (\n                  ''\n                )}\n              </span>\n\n              <br />\n              <br />\n              <span>\n                <strong>Age (in years)</strong>\n                <input\n                  type=\"number\"\n                  id=\"age\"\n                  placeholder=\"Age\"\n                  width={4}\n                  value={age}\n                  onChange={e => setAge(e.target.value)}\n                />\n              </span>\n\n              <span>\n                <strong>Gender</strong>\n                <select\n                  value={gender}\n                  defaultValue=\"-None-\"\n                  onChange={e => setGender(e.target.value)}\n                >\n                  <option value={'-None-'}>None</option>\n                  <option value={'Male'}>Male</option>\n                  <option value={'Female'}>Female</option>\n                </select>\n              </span>\n            </div>\n            <div className=\"column large-8\">\n              <span>\n                <strong>Qualification and background</strong>\n                <CKEditor\n                  editor={ClassicEditor}\n                  data={qualification}\n                  onInit={editor => {}}\n                  onChange={(event, editor) => {\n                    const data = editor.getData();\n                    setQualification(data);\n                  }}\n                />\n              </span>\n\n              <br />\n              <span>\n                <strong>Acitivities of current role</strong>\n                <CKEditor\n                  editor={ClassicEditor}\n                  data={currentRole}\n                  onInit={editor => {}}\n                  onChange={(event, editor) => {\n                    const data = editor.getData();\n                    setCurrentRole(data);\n                  }}\n                />\n              </span>\n\n              <br />\n              <span>\n                <strong>Additional information</strong>\n                <CKEditor\n                  editor={ClassicEditor}\n                  data={additionalInfo}\n                  onInit={editor => {}}\n                  onChange={(event, editor) => {\n                    const data = editor.getData();\n                    setAdditionalInfo(data);\n                  }}\n                />\n              </span>\n\n              <span>\n                <strong>Publishing status</strong>\n                <select\n                  value={publishStatus}\n                  defaultValue=\"-None-\"\n                  onChange={e => setPublishStatus(e.target.value)}\n                >\n                  <option value={'Draft'}>Draft</option>\n                  <option value={'Live'}>Live</option>\n                </select>\n              </span>\n            </div>\n          </div>\n\n          <p />\n          <div className=\"row\">\n            <div className=\"column medium-2\" />\n            <div className=\"column medium-3\">\n              <ButtonLabel />\n            </div>\n            <div className=\"column medium-7\" />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport const EditProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/edit/:id\"\n      component={ProfileEdit}\n    />\n  </Switch>\n);\n\nexport default EditProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport ProfileService from '../services/profile/profile';\nimport ActiveRequestsService from '../services/active-requests/active-requests';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\nimport user_icon from './user_icon.png';\nimport Parser from 'html-react-parser';\nimport ReactTooltip from 'react-tooltip';\n\nconst $ = window.$;\n\nexport const ProfileMap = props => {\n  const activeRequests = new ActiveRequestsService();\n  const profileService = new ProfileService();\n\n  const [profile, setProfile] = useState();\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n\n  const [ksa, setKsa] = useState();\n  const [mapping, setMapping] = useState();\n\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  var competencyForm = '';\n  var expertise_levels = [];\n  var expertise_levels_legend = [];\n  var expertise_not_applicable = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var frameworkLogo = '';\n  var frameworkDesc = '';\n  //var mapping = [];\n  var checkboxes = [];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}/profiles?_format=json&id=${profileId}&timestamp=${Date.now()}`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setProfile(findresponse);\n        });\n\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n    };\n    fetchData();\n\n    if (mapping) {\n      let checkBoxes = $('input:checkbox');\n      checkBoxes.each(function(index, item, arr) {\n        console.log('test ' + item.dataset);\n      });\n    }\n  }, [profileId]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    let response = await profileService.mapProfile(profileId, mapping);\n    console.log(response);\n    props.history.push(\n      `/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`\n    );\n  };\n\n  const handleSelect = event => {\n    let competency_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-competency'\n    );\n    let expertise_id = event.target[event.target.selectedIndex].getAttribute(\n      'data-expertise'\n    );\n    let tempMapping = mapping;\n\n    let attributesList = [];\n    let checkBoxes = $('input:checkbox[data-competency=' + competency_id + ']');\n\n    if (expertise_id == expertise_not_applicable) {\n      checkBoxes.each(function(index, item, arr) {\n        item.checked = false;\n        item.disabled = true;\n      });\n      //console.log(tempMapping.find(o => o.competency == competency_id))\n      // tempMapping.splice(\n      //   tempMapping.find(o => o.competency == competency_id),\n      //   1\n      // );\n      console.log(tempMapping);\n      // Remove the NA competency from the temp array\n      tempMapping = tempMapping.filter(o => o.competency != competency_id);\n      console.log(tempMapping);\n    } else if (tempMapping) {\n      if (tempMapping.find(o => o.competency === competency_id)) {\n        let o = tempMapping.find(o => o.competency === competency_id);\n        o.expertise = expertise_id;\n\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        o.attributes = attributesList;\n      } else {\n        checkBoxes.each(function(index, item, arr) {\n          attributesList.push(item.id);\n          item.checked = true;\n          item.disabled = false;\n        });\n        tempMapping.push({\n          competency: competency_id,\n          expertise: expertise_id,\n          attributes: attributesList\n        });\n      }\n    }\n    setMapping(tempMapping);\n  };\n\n  const handleCheckBox = e => {\n    let checkboxStatus = e.target.checked;\n    let competency_id = e.target.dataset.competency;\n    let tempMapping = mapping;\n    if (tempMapping) {\n      if (checkboxStatus == true) {\n        e.target.checked = true;\n        let o = tempMapping.find(o => o.competency == competency_id);\n        o.attributes.push(e.target.id);\n      } else {\n        let o = tempMapping.find(o => o.competency == competency_id);\n        o.attributes.splice(o.attributes.indexOf(e.target.id), 1);\n      }\n      setMapping(tempMapping);\n    }\n    console.log(mapping);\n  };\n\n  const generateForm = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.expertise_levels.map(\n            level => (\n              (expertise_levels[level.id] = level.title),\n              level.title == 'Not applicable'\n                ? (expertise_not_applicable = level.id)\n                : '',\n\n                expertise_levels_legend.push(\n                <li style={{ textAlign: 'center' }}>\n                 <div data-tip={level.description?level.description:'NA'} data-html={true} data-type='info' data-multiline={true}> \n                    <span className=\"badge secondary\"> {level.rating_level} </span> <span> {level.title}</span> \n                  </div>\n                 <ReactTooltip class='tooltip-custom' />\n                </li>\n\n              )\n            )\n          );\n        }\n      });\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    // let index = 0;\n    // expertise_levels.map((level, key) => {\n    //   expertise_levels_legend.push(\n    //     <li style={{ textAlign: 'center' }}>\n    //       <span className=\"badge secondary\"> {index} </span>{' '}\n    //       <span> {level}</span>\n    //     </li>\n    //   );\n    //   index++;\n    // });\n\n    if (profile) {\n      if (!mapping) {\n        setMapping(profile.profile_mapping);\n      }\n      console.log(mapping);\n    }\n\n    if (framework) {\n      competencyForm = framework.map(item =>\n        item.domains.map((domain, did) => (\n          <ul>\n            <li className=\"domain_list\">\n              <div className=\"row callout\">\n                <div className=\"column medium-9\">\n                  <h5 className=\"domain_title\"> {domain.title}</h5>\n                </div>\n              </div>\n              <ul>\n                {domain.competencies.map((competency, cid) => (\n                  <li className=\"competency_list\">\n                    <div className=\"row\">\n                      <div className=\"column medium-9\">\n                        <Collapsible\n                          trigger={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-right icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                          triggerWhenOpen={\n                            <div className=\"open-close-title\">\n                              <span className=\"icon icon-common icon-angle-down icon-custom\">\n                                {' '}\n                              </span>\n                              <span>{competency.title}</span>\n                            </div>\n                          }\n                        >\n                          <ul>\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <li className=\"attribute_type\">\n                                  {attribute_type}\n                                  <ul>\n                                    {competency.attributes\n                                      .filter(\n                                        attribute =>\n                                          attribute.type == attribute_type\n                                      )\n                                      .map(attribute => (\n                                        <li className=\"attribute_title\">\n                                          <div className=\"row\">\n                                            <div className=\"column medium-1\">\n                                              <input\n                                                type=\"checkbox\"\n                                                id={attribute.id}\n                                                onChange={e =>\n                                                  handleCheckBox(e)\n                                                }\n                                                defaultChecked={\n                                                  mapping.find(o =>\n                                                    o.attributes.find(\n                                                      a => a == attribute.id\n                                                    )\n                                                  )\n                                                    ? true\n                                                    : false\n                                                }\n                                                disabled={\n                                                  mapping.find(\n                                                    o =>\n                                                      o.competency ==\n                                                      competency.id\n                                                  )\n                                                    ? false\n                                                    : true\n                                                }\n                                                data-competency={competency.id}\n                                              />\n                                            </div>\n                                            <div className=\"column medium-11\">\n                                              <label\n                                                className=\"attribute_label\"\n                                                for={attribute.id}\n                                              >\n                                                {' '}\n                                                {attribute.title}\n                                              </label>\n                                            </div>\n                                          </div>\n                                        </li>\n                                      ))}\n                                  </ul>\n                                </li>\n                              );\n                            })}\n                          </ul>\n                        </Collapsible>\n                      </div>\n                      <div className=\"column medium-3\">\n                        <select\n                          onChange={e => handleSelect(e)}\n                          defaultValue={\n                            mapping.find(o => o.competency == competency.id)\n                              ? mapping.find(o => o.competency == competency.id)\n                                  .expertise\n                              : expertise_not_applicable\n                          }\n                        >\n                          {expertise_levels.map((key, value) => (\n                            <option\n                              value={value}\n                              data-expertise={value}\n                              data-competency={competency.id}\n                            >\n                              {key}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          </ul>\n        ))\n      );\n    }\n  };\n\n  return (\n    <div>\n      {generateForm()}\n      {profile ? (\n        <div>\n          <div className=\"row\">\n            <h2>\n              Competency mapping: {frameworkFullName} {frameworkVersion} -{' '}\n              {profile.job_title}{' '}\n            </h2>\n\n            <div className=\"column medium-12\">\n              <div className=\"row\">\n                <div className=\"column medium-10\" />\n                <div className=\"column medium-2\">\n                  <Link\n                    to={`/framework/${frameworkName}/${frameworkVersion}/profile/view/${profileId}/alias`}\n                  >\n                    <i class=\"icon icon-common icon-angle-left\" /> Profile\n                    overview\n                  </Link>\n                  <p />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  <img\n                    src={profile.image[0] ? profile.image[0].url : user_icon}\n                    width=\"150px\"\n                  />\n                </div>\n                <div className=\"column medium-9 form_intro\">\n                  <h3 />\n                  <p>\n                    The form below is listing competencies from{' '}\n                    {frameworkFullName} competency framework. A competency is an\n                    observable ability of any professional, integrating multiple\n                    components such as knowledge, skills and behaviours. A\n                    competency profile lists and defines all the competencies\n                    that an individual might need to fulfil a particular role,\n                    or that define specific user groups.\n                  </p>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"column medium-3\">\n                  {' '}\n                  <h5 style={{ marginTop: '25px' }}>\n                    {frameworkFullName} {frameworkVersion} / Competencies\n                  </h5>\n                </div>\n                <div className=\"column medium-9 \">\n                  <ul className=\"legend-inline\" style={{ float: 'right' }}>\n                    {expertise_levels_legend}\n                  </ul>\n                </div>\n              </div>\n              <hr />\n\n              <div className=\"competency_section\">\n                {\n                  <form onSubmit={e => handleSubmit(e)}>\n                    {competencyForm}\n                    <div className=\"submit_fixed\">\n                      <button className=\"button\" type=\"submit\">\n                        Save <i class=\"icon icon-common icon-save\" />\n                      </button>\n                    </div>\n                  </form>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n\nexport const MapProfile = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profile/map/:id\"\n      component={ProfileMap}\n    />\n  </Switch>\n);\n\nexport default MapProfile;\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { apiUrl } from '../services/http/http';\nimport { Link, Redirect } from 'react-router-dom';\nimport Collapsible from 'react-collapsible';\n//import summary from './bioexcel_2_profiles_compare_summary.json';\n\n\nexport const ProfilesCompareSummary = props => {\n  const frameworkName = props.location.pathname.split('/')[2];\n  const frameworkVersion = props.location.pathname.split('/')[3];\n  const profileId = props.location.pathname.split('/')[6];\n\n  const [framework, setFramework] = useState();\n  const [frameworkInfo, setFrameworkInfo] = useState();\n  const location = useLocation();\n  const [summary, setSummary] = useState();\n\n  let profileJobTitle = location.state.profileJobTitle;\n  let includeSummary = location.state.includeSummary;\n  var competencyView = '';\n  var attribute_types = [];\n  var frameworkFullName = '';\n  var frameworkLogo = '';\n  var frameworkDesc = '';\n  var user_roles = localStorage.getItem('roles')\n    ? localStorage.getItem('roles')\n    : '';\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await fetch(`${apiUrl}/api/version_manager?_format=json`)\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFrameworkInfo(findresponse);\n        });\n\n      await fetch(\n        `${apiUrl}/api/${frameworkName}/${frameworkVersion}?_format=json`\n      )\n        .then(Response => Response.json())\n        .then(findresponse => {\n          setFramework(findresponse);\n        });\n\n      await fetch(`${apiUrl}/api/profile_summary/${frameworkName}/${frameworkVersion}?_format=json`)\n      .then(Response => Response.json())\n      .then(findresponse => {\n        setSummary(findresponse);\n      })\n\n    };\n    fetchData();\n  }, [profileId]);\n\n  if(summary){\n    console.log(summary);\n  }\n  \n  const findResources = (competency_id) => {\n    if(summary){\n            let test = summary.map((item) => {\n           if(item.id == competency_id){\n            return  item.resources.map(resource => {\n                  return <li><a href={resource.resourceLink} target=\"_blank\"> {resource.resourceName} </a></li>\n              })\n           }\n      }\n      \n      \n    )\n    return test;\n\n    }\n\n\n  }\n\n\n  const generateSummary = () => {\n    if (frameworkInfo) {\n      frameworkInfo.map(info => {\n        if (info.title.toLowerCase() === frameworkName) {\n          frameworkFullName = info.title;\n          frameworkLogo = info.logo[0].url;\n          frameworkDesc = info.description;\n          info.attribute_types.map(\n            attribute => (attribute_types[attribute.id] = attribute.title)\n          );\n        }\n      });\n    }\n\n    if (framework) {\n      {console.log(includeSummary)}\n      competencyView = framework.map(item =>\n        item.domains.map(domain => (\n          <div>\n            <div className=\"row callout\">\n              <div className=\"column medium-8 \">\n                <h5>{domain.title}</h5>{' '}\n              </div>\n              <div className=\"column medium-4 \">\n                <h5>Learning Resources</h5>\n              </div>\n            </div>\n            {domain.competencies.map(competency => (\n              includeSummary.indexOf(competency.id) != -1 ?\n                  <div>\n       \n                    <div id={competency.id} className=\"row\">\n                      <div className=\"column medium-8\">\n                        <span  className=\"competency_title\">\n                          \n                          <div>\n                            <Collapsible\n                              trigger={\n                                <div className=\"open-close-title\">\n                                  <i className=\"icon icon-common icon-angle-right icon-custom\" />\n                                  {' '}\n                                  {competency.title}\n                                </div>\n                              }\n                              triggerWhenOpen={\n                                <div className=\"open-close-title\">\n                                  <i className=\"icon icon-common icon-angle-down icon-custom\" />\n                                  {' '}\n                                  {competency.title}\n                                </div>\n                              }\n                            >\n                            {attribute_types.map(attribute_type => {\n                              return (\n                                <div\n                                  className=\"accordion-item is-active\"\n                                  data-accordion-item\n                                >\n                                  <div className=\"row attribute_align_type\">\n                                    <div className=\"column medium-8\">\n                                      <strong> {attribute_type} </strong>\n                                    </div>\n                                    <div className=\"column medium-4\" />\n                                  </div>\n                                  {competency.attributes\n                                    .filter(\n                                      attribute => attribute.type == attribute_type\n                                    )\n                                    .map(attribute => {\n                                      return (\n                                        <div className=\"row attribute_align\">\n                                          <div className=\"column medium-8\">\n                                            {attribute.title}\n                                          </div>\n                                        </div>\n                                      );\n                                    })}\n                                </div>\n                              );\n                            })}\n                          </Collapsible>\n                        </div>\n                      </span>\n                      </div>\n                      <div className=\"column medium-4\">\n                        <ul>\n                          {findResources(competency.id)}\n                        </ul>\n                      </div>\n                    </div>\n                    \n                  </div>\n                :\n                ''\n            \n            )\n          \n          )}\n          </div>\n        ))\n      );\n    }\n  };\n\n\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      {generateSummary()}\n      <h2>Summary of learning resources</h2>\n      <p className='lead'>\n        Based on the comparison of your profile, the following are the suggested learning resources to help develop your career,\n        if you want to become {profileJobTitle}\n      </p>\n          {competencyView}\n    </div>\n\n  );\n};\n\nexport const SummaryPath = () => (\n  <Switch>\n    <Route\n      exact\n      path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\n      component={ProfilesCompareSummary}\n    />\n  </Switch>\n);\n\nexport default SummaryPath;\n","import HttpService from '../http/http';\r\n\r\nconst http = new HttpService();\r\nconst loginUrl = '/user/login?_format=json';\r\nconst logoutUrl = '/user/logout';\r\n\r\nexport async function login(username, password) {\r\n  const credentials = { name: username, pass: password };\r\n  try {\r\n    const response = await http.post(loginUrl, credentials);\r\n    const { data } = response;\r\n    console.log(response);\r\n    localStorage.setItem('roles', data.current_user.roles);\r\n    localStorage.setItem('csrf_token', data.csrf_token);\r\n    localStorage.setItem('logout_token', data.logout_token);\r\n    localStorage.setItem('user', data.current_user.name);\r\n    localStorage.setItem('userid', data.current_user.uid);\r\n    console.log(localStorage.getItem('roles'));\r\n    return data;\r\n  } catch (error) {\r\n    logout();\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem('roles');\r\n  localStorage.removeItem('csrf_token');\r\n  localStorage.removeItem('logout_token');\r\n  localStorage.removeItem('userid');\r\n  localStorage.removeItem('user');\r\n  return http.post(logoutUrl);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Masthead from '../containers/masthead/Masthead';\r\nimport ManageAttributes from './ManageAttributes';\r\nimport ManageCompetencies from './ManageCompetencies';\r\nimport ManageData from './ManageData';\r\nimport CompetencyDetails from './CompetencyDetails';\r\nimport CompetencyList from './CompetencyList';\r\nimport ResourceEdit from './ResourceEdit';\r\nimport ResourceCreate from './ResourceCreate';\r\nimport ResourceDetails from './ResourceDetails';\r\nimport ResourcesList from './ResourcesList';\r\nimport ResourcesHome from './ResourcesHome';\r\nimport ChangePassword from './ChangePassword';\r\nimport UserView from './UserView';\r\nimport About from '../components/about/About';\r\nimport Frameworks from './Frameworks';\r\nimport ArticleCreate from './ArticleCreate';\r\nimport AttributeMap from './AttributeMap';\r\nimport CompetencySettings from './CompetencySettings';\r\nimport AttributeSettings from './AttributeSettings';\r\nimport AttributeDemap from './AttributeDemap';\r\nimport ProfileCreate from './ProfileCreate';\r\nimport ProfileCreateGuest from './ProfileCreateGuest';\r\nimport ProfileView from './ProfileView';\r\nimport ProfilesCompare from './ProfilesCompare';\r\nimport ProfileMapDownload from './ProfileMapDownload';\r\nimport ProfileViewGuest from './ProfileViewGuest';\r\nimport ProfileMapGuest from './ProfileMapGuest';\r\nimport ProfileEdit from './ProfileEdit';\r\nimport ProfileMap from './ProfileMap';\r\nimport ProfilesCompareSummary from './ProfilesCompareSummary';\r\n\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { login, logout } from '../services/auth/auth';\r\nimport ActiveRequestsService from '../services/active-requests/active-requests';\r\n\r\nconst $ = window.$;\r\n\r\nclass Root extends Component {\r\n  state = {\r\n    isActive: false,\r\n    roles: localStorage.getItem('roles') || '',\r\n    user: localStorage.getItem('user') || ''\r\n  };\r\n  activeRequests = new ActiveRequestsService();\r\n\r\n  componentDidMount() {\r\n    $(document).foundation();\r\n    $(document).foundationExtendEBI();\r\n\r\n    this.setState({ isActive: this.activeRequests.isActive });\r\n    this.subcription = this.activeRequests.addEventListener(\r\n      this.handleActiveRequests\r\n    );\r\n\r\n    window.addEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.subcription) {\r\n      this.activeRequests.removeEventListener(this.subcription);\r\n    }\r\n    window.removeEventListener('storage', this.detectUserChangesFromOtherTabs);\r\n  }\r\n\r\n  handleActiveRequests = hasPendingRequests => {\r\n    this.setState({ isActive: hasPendingRequests });\r\n  };\r\n\r\n  detectUserChangesFromOtherTabs = ({ key, newValue }) => {\r\n    if (key === 'user') {\r\n      if (newValue) {\r\n        this.setState({\r\n          user: localStorage.getItem('user'),\r\n          roles: localStorage.getItem('roles')\r\n        });\r\n      } else {\r\n        this.setState({ user: '', roles: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogin = async (username, password) => {\r\n    try {\r\n      await login(username, password);\r\n      this.setState({\r\n        user: localStorage.getItem('user'),\r\n        roles: localStorage.getItem('roles')\r\n      });\r\n    } catch (error) {\r\n      window.console.error(error);\r\n      if (error.response) {\r\n        switch (error.response.status) {\r\n          case 400:\r\n            window.alert(error.response.data.message);\r\n            return;\r\n          default:\r\n            window.alert(\r\n              'Sorry, there was an unknown login problem, please try again.'\r\n            );\r\n        }\r\n        window.alert(\r\n          'Sorry, there was an unknown login problem, please try again.'\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  handleLogout = () => {\r\n    this.setState({ user: '', roles: '' });\r\n    logout();\r\n  };\r\n\r\n  render() {\r\n    const { isActive, roles, user } = this.state;\r\n    return (\r\n      <>\r\n        <SnackbarProvider\r\n          maxSnack={1}\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n          preventDuplicate\r\n        >\r\n          <Masthead\r\n            roles={roles}\r\n            user={user}\r\n            isActive={isActive}\r\n            onLogin={this.handleLogin}\r\n            onLogout={this.handleLogout}\r\n          />\r\n\r\n          <section id=\"main-content-area\" className=\"row\" role=\"main\">\r\n            <main className=\"column\">\r\n              <Switch>\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resource/edit/:nid\"\r\n                  component={ResourceEdit}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resource/create\"\r\n                  component={ResourceCreate}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:cid/attribute/:aid/settings\"\r\n                  component={AttributeSettings}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:cid/manage-attributes\"\r\n                  component={ManageAttributes}\r\n                />\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/competencies/:domainId?\"\r\n                  component={ManageCompetencies}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/manage/data/:domainId?\"\r\n                  component={ManageData}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/competency/details/:cid\"\r\n                  component={CompetencyDetails}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/competency/:id/settings\"\r\n                  component={CompetencySettings}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/create/guest\"\r\n                  component={ProfileCreateGuest}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/create\"\r\n                  component={ProfileCreate}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/guest\"\r\n                  component={ProfileViewGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/guest\"\r\n                  component={ProfileMapGuest}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/view/:id/:alias\"\r\n                  component={ProfileView}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/guest/summary\"\r\n                  component={ProfilesCompareSummary}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profiles/compare/:profile1/:profile2\"\r\n                  component={ProfilesCompare}\r\n                />\r\n\r\n\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version/profile/map/download\"\r\n                  component={ProfileMapDownload}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/edit/:id\"\r\n                  component={ProfileEdit}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('framework_manager')}\r\n                  path=\"/framework/:framework/:version/profile/map/:id\"\r\n                  component={ProfileMap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/framework/:framework/:version\"\r\n                  component={CompetencyList}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resources/:id/map/:framework\"\r\n                  component={AttributeMap}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user && roles.includes('content_manager')}\r\n                  path=\"/training-resources/:resource/demap/:attribute\"\r\n                  component={AttributeDemap}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/training-resources/:id\"\r\n                  component={ResourceDetails}\r\n                />\r\n\r\n                <Route\r\n                  path=\"/all-training-resources\"\r\n                  component={ResourcesList}\r\n                />\r\n                <Route\r\n                  path=\"/training-resources-home\"\r\n                  component={ResourcesHome}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user}\r\n                  path=\"/user/change/password\"\r\n                  component={ChangePassword}\r\n                />\r\n\r\n                <ProtectedRoute\r\n                  condition={!!user}\r\n                  path=\"/user/view\"\r\n                  component={UserView}\r\n                />\r\n\r\n                <Route path=\"/article/create\" component={ArticleCreate} />\r\n\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/\" component={Frameworks} />\r\n              </Switch>\r\n            </main>\r\n          </section>\r\n        </SnackbarProvider>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Root;\r\n\r\nclass ProtectedRoute extends Component {\r\n  render() {\r\n    const { component: Component, condition, ...props } = this.props;\r\n    return (\r\n      <Route\r\n        {...props}\r\n        render={props =>\r\n          condition ? <Component {...props} /> : <Redirect to=\"/\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nimport Root from './app/containers/Root';\r\nimport Modal from 'react-modal';\r\n\r\nconst root = document.getElementById('root');\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Root />\r\n  </BrowserRouter>,\r\n  root\r\n);\r\n\r\nModal.setAppElement(root);\r\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meter\":\"progress-bar_meter__2axTP\",\"progress\":\"progress-bar_progress__3d3PT\"};"],"sourceRoot":""}